(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function yA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Wd={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function _A(){if(tv)return Nl;tv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var nv;function vA(){return nv||(nv=1,Wd.exports=_A()),Wd.exports}var T=vA(),Zd={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function EA(){if(rv)return xe;rv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function A(M){return M===null||typeof M!="object"?null:(M=S&&M[S]||M["@@iterator"],typeof M=="function"?M:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,Y={};function G(M,te,oe){this.props=M,this.context=te,this.refs=Y,this.updater=oe||k}G.prototype.isReactComponent={},G.prototype.setState=function(M,te){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,te,"setState")},G.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function $(){}$.prototype=G.prototype;function ne(M,te,oe){this.props=M,this.context=te,this.refs=Y,this.updater=oe||k}var re=ne.prototype=new $;re.constructor=ne,B(re,G.prototype),re.isPureReactComponent=!0;var pe=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},Se=Object.prototype.hasOwnProperty;function P(M,te,oe,ie,ge,Ce){return oe=Ce.ref,{$$typeof:i,type:M,key:te,ref:oe!==void 0?oe:null,props:Ce}}function R(M,te){return P(M.type,te,void 0,void 0,void 0,M.props)}function x(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function N(M){var te={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(oe){return te[oe]})}var O=/\/+/g;function D(M,te){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):te.toString(36)}function I(){}function Ge(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(I,I):(M.status="pending",M.then(function(te){M.status==="pending"&&(M.status="fulfilled",M.value=te)},function(te){M.status==="pending"&&(M.status="rejected",M.reason=te)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function Re(M,te,oe,ie,ge){var Ce=typeof M;(Ce==="undefined"||Ce==="boolean")&&(M=null);var be=!1;if(M===null)be=!0;else switch(Ce){case"bigint":case"string":case"number":be=!0;break;case"object":switch(M.$$typeof){case i:case e:be=!0;break;case E:return be=M._init,Re(be(M._payload),te,oe,ie,ge)}}if(be)return ge=ge(M),be=ie===""?"."+D(M,0):ie,pe(ge)?(oe="",be!=null&&(oe=be.replace(O,"$&/")+"/"),Re(ge,te,oe,"",function(Kn){return Kn})):ge!=null&&(x(ge)&&(ge=R(ge,oe+(ge.key==null||M&&M.key===ge.key?"":(""+ge.key).replace(O,"$&/")+"/")+be)),te.push(ge)),1;be=0;var Dt=ie===""?".":ie+":";if(pe(M))for(var et=0;et<M.length;et++)ie=M[et],Ce=Dt+D(ie,et),be+=Re(ie,te,oe,Ce,ge);else if(et=A(M),typeof et=="function")for(M=et.call(M),et=0;!(ie=M.next()).done;)ie=ie.value,Ce=Dt+D(ie,et++),be+=Re(ie,te,oe,Ce,ge);else if(Ce==="object"){if(typeof M.then=="function")return Re(Ge(M),te,oe,ie,ge);throw te=String(M),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return be}function K(M,te,oe){if(M==null)return M;var ie=[],ge=0;return Re(M,ie,"","",function(Ce){return te.call(oe,Ce,ge++)}),ie}function ae(M){if(M._status===-1){var te=M._result;te=te(),te.then(function(oe){(M._status===0||M._status===-1)&&(M._status=1,M._result=oe)},function(oe){(M._status===0||M._status===-1)&&(M._status=2,M._result=oe)}),M._status===-1&&(M._status=0,M._result=te)}if(M._status===1)return M._result.default;throw M._result}var me=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Be(){}return xe.Children={map:K,forEach:function(M,te,oe){K(M,function(){te.apply(this,arguments)},oe)},count:function(M){var te=0;return K(M,function(){te++}),te},toArray:function(M){return K(M,function(te){return te})||[]},only:function(M){if(!x(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},xe.Component=G,xe.Fragment=n,xe.Profiler=o,xe.PureComponent=ne,xe.StrictMode=s,xe.Suspense=g,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,xe.__COMPILER_RUNTIME={__proto__:null,c:function(M){return he.H.useMemoCache(M)}},xe.cache=function(M){return function(){return M.apply(null,arguments)}},xe.cloneElement=function(M,te,oe){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ie=B({},M.props),ge=M.key,Ce=void 0;if(te!=null)for(be in te.ref!==void 0&&(Ce=void 0),te.key!==void 0&&(ge=""+te.key),te)!Se.call(te,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&te.ref===void 0||(ie[be]=te[be]);var be=arguments.length-2;if(be===1)ie.children=oe;else if(1<be){for(var Dt=Array(be),et=0;et<be;et++)Dt[et]=arguments[et+2];ie.children=Dt}return P(M.type,ge,void 0,void 0,Ce,ie)},xe.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},xe.createElement=function(M,te,oe){var ie,ge={},Ce=null;if(te!=null)for(ie in te.key!==void 0&&(Ce=""+te.key),te)Se.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=te[ie]);var be=arguments.length-2;if(be===1)ge.children=oe;else if(1<be){for(var Dt=Array(be),et=0;et<be;et++)Dt[et]=arguments[et+2];ge.children=Dt}if(M&&M.defaultProps)for(ie in be=M.defaultProps,be)ge[ie]===void 0&&(ge[ie]=be[ie]);return P(M,Ce,void 0,void 0,null,ge)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:m,render:M}},xe.isValidElement=x,xe.lazy=function(M){return{$$typeof:E,_payload:{_status:-1,_result:M},_init:ae}},xe.memo=function(M,te){return{$$typeof:y,type:M,compare:te===void 0?null:te}},xe.startTransition=function(M){var te=he.T,oe={};he.T=oe;try{var ie=M(),ge=he.S;ge!==null&&ge(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(Be,me)}catch(Ce){me(Ce)}finally{he.T=te}},xe.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},xe.use=function(M){return he.H.use(M)},xe.useActionState=function(M,te,oe){return he.H.useActionState(M,te,oe)},xe.useCallback=function(M,te){return he.H.useCallback(M,te)},xe.useContext=function(M){return he.H.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M,te){return he.H.useDeferredValue(M,te)},xe.useEffect=function(M,te,oe){var ie=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(M,te)},xe.useId=function(){return he.H.useId()},xe.useImperativeHandle=function(M,te,oe){return he.H.useImperativeHandle(M,te,oe)},xe.useInsertionEffect=function(M,te){return he.H.useInsertionEffect(M,te)},xe.useLayoutEffect=function(M,te){return he.H.useLayoutEffect(M,te)},xe.useMemo=function(M,te){return he.H.useMemo(M,te)},xe.useOptimistic=function(M,te){return he.H.useOptimistic(M,te)},xe.useReducer=function(M,te,oe){return he.H.useReducer(M,te,oe)},xe.useRef=function(M){return he.H.useRef(M)},xe.useState=function(M){return he.H.useState(M)},xe.useSyncExternalStore=function(M,te,oe){return he.H.useSyncExternalStore(M,te,oe)},xe.useTransition=function(){return he.H.useTransition()},xe.version="19.1.0",xe}var iv;function Gm(){return iv||(iv=1,Zd.exports=EA()),Zd.exports}var q=Gm();const Bs=yA(q);var Jd={exports:{}},Dl={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function TA(){return sv||(sv=1,function(i){function e(K,ae){var me=K.length;K.push(ae);e:for(;0<me;){var Be=me-1>>>1,M=K[Be];if(0<o(M,ae))K[Be]=ae,K[me]=M,me=Be;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ae=K[0],me=K.pop();if(me!==ae){K[0]=me;e:for(var Be=0,M=K.length,te=M>>>1;Be<te;){var oe=2*(Be+1)-1,ie=K[oe],ge=oe+1,Ce=K[ge];if(0>o(ie,me))ge<M&&0>o(Ce,ie)?(K[Be]=Ce,K[ge]=me,Be=ge):(K[Be]=ie,K[oe]=me,Be=oe);else if(ge<M&&0>o(Ce,me))K[Be]=Ce,K[ge]=me,Be=ge;else break e}}return ae}function o(K,ae){var me=K.sortIndex-ae.sortIndex;return me!==0?me:K.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],y=[],E=1,S=null,A=3,k=!1,B=!1,Y=!1,G=!1,$=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function pe(K){for(var ae=n(y);ae!==null;){if(ae.callback===null)s(y);else if(ae.startTime<=K)s(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=n(y)}}function he(K){if(Y=!1,pe(K),!B)if(n(g)!==null)B=!0,Se||(Se=!0,D());else{var ae=n(y);ae!==null&&Re(he,ae.startTime-K)}}var Se=!1,P=-1,R=5,x=-1;function N(){return G?!0:!(i.unstable_now()-x<R)}function O(){if(G=!1,Se){var K=i.unstable_now();x=K;var ae=!0;try{e:{B=!1,Y&&(Y=!1,ne(P),P=-1),k=!0;var me=A;try{t:{for(pe(K),S=n(g);S!==null&&!(S.expirationTime>K&&N());){var Be=S.callback;if(typeof Be=="function"){S.callback=null,A=S.priorityLevel;var M=Be(S.expirationTime<=K);if(K=i.unstable_now(),typeof M=="function"){S.callback=M,pe(K),ae=!0;break t}S===n(g)&&s(g),pe(K)}else s(g);S=n(g)}if(S!==null)ae=!0;else{var te=n(y);te!==null&&Re(he,te.startTime-K),ae=!1}}break e}finally{S=null,A=me,k=!1}ae=void 0}}finally{ae?D():Se=!1}}}var D;if(typeof re=="function")D=function(){re(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ge=I.port2;I.port1.onmessage=O,D=function(){Ge.postMessage(null)}}else D=function(){$(O,0)};function Re(K,ae){P=$(function(){K(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(K){K.callback=null},i.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(K){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var me=A;A=ae;try{return K()}finally{A=me}},i.unstable_requestPaint=function(){G=!0},i.unstable_runWithPriority=function(K,ae){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=A;A=K;try{return ae()}finally{A=me}},i.unstable_scheduleCallback=function(K,ae,me){var Be=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Be+me:Be):me=Be,K){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=me+M,K={id:E++,callback:ae,priorityLevel:K,startTime:me,expirationTime:M,sortIndex:-1},me>Be?(K.sortIndex=me,e(y,K),n(g)===null&&K===n(y)&&(Y?(ne(P),P=-1):Y=!0,Re(he,me-Be))):(K.sortIndex=M,e(g,K),B||k||(B=!0,Se||(Se=!0,D()))),K},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(K){var ae=A;return function(){var me=A;A=ae;try{return K.apply(this,arguments)}finally{A=me}}}}(tm)),tm}var av;function bA(){return av||(av=1,em.exports=TA()),em.exports}var nm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function wA(){if(ov)return Xt;ov=1;var i=Gm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:y,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Xt.flushSync=function(g){var y=f.T,E=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=E,s.d.f()}},Xt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Xt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Xt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin),A=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:S,integrity:A,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Xt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Xt.requestFormReset=function(g){s.d.r(g)},Xt.unstable_batchedUpdates=function(g,y){return g(y)},Xt.useFormState=function(g,y,E){return f.H.useFormState(g,y,E)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var lv;function AA(){if(lv)return nm.exports;lv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),nm.exports=wA(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function SA(){if(uv)return Dl;uv=1;var i=bA(),e=Gm(),n=AA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function y(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=y(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ne=Symbol.for("react.consumer"),re=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function D(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case G:return"Profiler";case Y:return"StrictMode";case he:return"Suspense";case Se:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case re:return(t.displayName||"Context")+".Provider";case ne:return(t._context.displayName||"Context")+".Consumer";case pe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case P:return r=t.displayName||null,r!==null?r:Ge(t.type)||"Memo";case R:r=t._payload,t=t._init;try{return Ge(t(r))}catch{}}return null}var Re=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Be=[],M=-1;function te(t){return{current:t}}function oe(t){0>M||(t.current=Be[M],Be[M]=null,M--)}function ie(t,r){M++,Be[M]=t.current,t.current=r}var ge=te(null),Ce=te(null),be=te(null),Dt=te(null);function et(t,r){switch(ie(be,r),ie(Ce,t),ie(ge,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?C_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=C_(r),t=N_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(ge),ie(ge,t)}function Kn(){oe(ge),oe(Ce),oe(be)}function ai(t){t.memoizedState!==null&&ie(Dt,t);var r=ge.current,a=N_(r,t.type);r!==a&&(ie(Ce,t),ie(ge,a))}function Tr(t){Ce.current===t&&(oe(ge),oe(Ce)),Dt.current===t&&(oe(Dt),Sl._currentValue=me)}var ts=Object.prototype.hasOwnProperty,ns=i.unstable_scheduleCallback,rs=i.unstable_cancelCallback,bo=i.unstable_shouldYield,gu=i.unstable_requestPaint,bn=i.unstable_now,$h=i.unstable_getCurrentPriorityLevel,wo=i.unstable_ImmediatePriority,Zs=i.unstable_UserBlockingPriority,is=i.unstable_NormalPriority,Wh=i.unstable_LowPriority,Js=i.unstable_IdlePriority,Ao=i.log,yu=i.unstable_setDisableYieldValue,ut=null,Qe=null;function hn(t){if(typeof Ao=="function"&&yu(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ut,t)}catch{}}var Yt=Math.clz32?Math.clz32:ss,_u=Math.log,Zh=Math.LN2;function ss(t){return t>>>=0,t===0?32:31-(_u(t)/Zh|0)|0}var as=256,os=4194304;function Pn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ea(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Pn(l):(v&=b,v!==0?h=Pn(v):a||(a=b&~t,a!==0&&(h=Pn(a))))):(b=l&~d,b!==0?h=Pn(b):v!==0?h=Pn(v):a||(a=l&~t,a!==0&&(h=Pn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ls(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function So(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=as;return as<<=1,(as&4194048)===0&&(as=256),t}function Ro(){var t=os;return os<<=1,(os&62914560)===0&&(os=4194304),t}function br(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function wr(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Io(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Yt(a),J=1<<X;b[X]=0,C[X]=-1;var H=z[X];if(H!==null)for(z[X]=null,X=0;X<H.length;X++){var F=H[X];F!==null&&(F.lane&=-536870913)}a&=~J}l!==0&&Xn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Xn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Yt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Co(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Yt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function oi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ta(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function li(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:X_(t.type))}function vu(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var it=Math.random().toString(36).slice(2),At="__reactFiber$"+it,yt="__reactProps$"+it,wn="__reactContainer$"+it,No="__reactEvents$"+it,Jh="__reactListeners$"+it,ui="__reactHandles$"+it,Eu="__reactResources$"+it,us="__reactMarker$"+it;function ci(t){delete t[At],delete t[yt],delete t[No],delete t[Jh],delete t[ui]}function Ar(t){var r=t[At];if(r)return r;for(var a=t.parentNode;a;){if(r=a[wn]||a[At]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=V_(t);t!==null;){if(a=t[At])return a;t=V_(t)}return r}t=a,a=t.parentNode}return null}function $n(t){if(t=t[At]||t[wn]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Wn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function tn(t){var r=t[Eu];return r||(r=t[Eu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ft(t){t[us]=!0}var Do=new Set,na={};function kn(t,r){Sr(t,r),Sr(t+"Capture",r)}function Sr(t,r){for(na[t]=r,t=0;t<r.length;t++)Do.add(r[t])}var Tu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bu={},cs={};function wu(t){return ts.call(cs,t)?!0:ts.call(bu,t)?!1:Tu.test(t)?cs[t]=!0:(bu[t]=!0,!1)}function hi(t,r,a){if(wu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Zn(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function zt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var hs,Au;function xr(t){if(hs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);hs=r&&r[1]||"",Au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+hs+t+Au}var ra=!1;function ia(t,r){if(!t||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(F){var H=F}Reflect.construct(t,[],J)}else{try{J.call()}catch(F){H=F}t.call(J.prototype)}}else{try{throw Error()}catch(F){H=F}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var C=v.split(`
`),z=b.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var X=`
`+C[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?xr(a):""}function Oo(t){switch(t.tag){case 26:case 27:case 5:return xr(t.type);case 16:return xr("Lazy");case 13:return xr("Suspense");case 19:return xr("SuspenseList");case 0:case 15:return ia(t.type,!1);case 11:return ia(t.type.render,!1);case 1:return ia(t.type,!0);case 31:return xr("Activity");default:return""}}function sa(t){try{var r="";do r+=Oo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ef(t){var r=Mo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function aa(t){t._valueTracker||(t._valueTracker=ef(t))}function Vo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Mo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function fs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var tf=/[\n"\\]/g;function _t(t){return t.replace(tf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function fn(t,r,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+nn(r)):t.value!==""+nn(r)&&(t.value=""+nn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?fi(t,v,nn(r)):a!=null?fi(t,v,nn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+nn(b):t.removeAttribute("name")}function ds(t,r,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+nn(a):"",r=r!=null?""+nn(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function fi(t,r,a){r==="number"&&fs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Rr(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Xe(t,r,a){if(r!=null&&(r=""+nn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+nn(a):""}function ms(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=nn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ps=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ps.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Po(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Su(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Su(t,d,r[d])}function ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(t){return rf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ir=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Cr=null,Nr=null;function Lo(t){var r=$n(t);if(r&&(t=r.stateNode)){var a=t[yt]||null;e:switch(t=r.stateNode,r.type){case"input":if(fn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[yt]||null;if(!h)throw Error(s(90));fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Vo(l)}break e;case"textarea":Xe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Rr(t,!!a.multiple,r,!1)}}}var Jn=!1;function xu(t,r,a){if(Jn)return t(r,a);Jn=!0;try{var l=t(r);return l}finally{if(Jn=!1,(Cr!==null||Nr!==null)&&(vc(),Cr&&(r=Cr,t=Nr,Nr=Cr=null,Lo(r),t)))for(r=0;r<t.length;r++)Lo(t[r])}}function gs(t,r){var a=t.stateNode;if(a===null)return null;var l=a[yt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Ln)try{var ys={};Object.defineProperty(ys,"passive",{get:function(){xn=!0}}),window.addEventListener("test",ys,ys),window.removeEventListener("test",ys,ys)}catch{xn=!1}var er=null,di=null,Dr=null;function Uo(){if(Dr)return Dr;var t,r=di,a=r.length,l,h="value"in er?er.value:er.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Dr=h.slice(t,1<l?1-l:void 0)}function tr(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function nr(){return!0}function jo(){return!1}function Ot(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:jo,this.isPropagationStopped=jo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),r}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},la=Ot(He),_s=E({},He,{view:0,detail:0}),Ru=Ot(_s),ua,ca,rr,vs=E({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rr&&(rr&&t.type==="mousemove"?(ua=t.screenX-rr.screenX,ca=t.screenY-rr.screenY):ca=ua=0,rr=t),ua)},movementY:function(t){return"movementY"in t?t.movementY:ca}}),Rn=Ot(vs),Iu=E({},vs,{dataTransfer:0}),sf=Ot(Iu),Es=E({},_s,{relatedTarget:0}),ha=Ot(Es),zo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),fa=Ot(zo),Cu=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),da=Ot(Cu),af=E({},He,{data:0}),Bo=Ot(af),Ts={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Du[t])?!!r[t]:!1}function bs(){return qo}var Ou=E({},_s,{key:function(t){if(t.key){var r=Ts[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=tr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Nu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?tr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?tr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ma=Ot(Ou),Mu=E({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Ot(Mu),Or=E({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),Vu=Ot(Or),Pu=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),ku=Ot(Pu),Lu=E({},vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pa=Ot(Lu),rn=E({},He,{newState:0,oldState:0}),Uu=Ot(rn),ju=[9,13,27,32],ir=Ln&&"CompositionEvent"in window,c=null;Ln&&"documentMode"in document&&(c=document.documentMode);var p=Ln&&"TextEvent"in window&&!c,_=Ln&&(!ir||c&&8<c&&11>=c),w=" ",U=!1;function Q(t,r){switch(t){case"keyup":return ju.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ke=!1;function St(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(U=!0,w);case"textInput":return t=r.data,t===w&&U?null:t;default:return null}}function Le(t,r){if(ke)return t==="compositionend"||!ir&&Q(t,r)?(t=Uo(),Dr=di=er=null,ke=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Mt[t.type]:r==="textarea"}function Mr(t,r,a,l){Cr?Nr?Nr.push(l):Nr=[l]:Cr=l,r=Sc(r,"onChange"),0<r.length&&(a=new la("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Bt=null,sr=null;function Fo(t){A_(t,0)}function zu(t){var r=Wn(t);if(Vo(r))return t}function Gp(t,r){if(t==="change")return r}var Qp=!1;if(Ln){var of;if(Ln){var lf="oninput"in document;if(!lf){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),lf=typeof Yp.oninput=="function"}of=lf}else of=!1;Qp=of&&(!document.documentMode||9<document.documentMode)}function Kp(){Bt&&(Bt.detachEvent("onpropertychange",Xp),sr=Bt=null)}function Xp(t){if(t.propertyName==="value"&&zu(sr)){var r=[];Mr(r,sr,t,Sn(t)),xu(Fo,r)}}function Y0(t,r,a){t==="focusin"?(Kp(),Bt=r,sr=a,Bt.attachEvent("onpropertychange",Xp)):t==="focusout"&&Kp()}function K0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(sr)}function X0(t,r){if(t==="click")return zu(r)}function $0(t,r){if(t==="input"||t==="change")return zu(r)}function W0(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var dn=typeof Object.is=="function"?Object.is:W0;function Go(t,r){if(dn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ts.call(r,h)||!dn(t[h],r[h]))return!1}return!0}function $p(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wp(t,r){var a=$p(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=$p(a)}}function Zp(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Zp(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=fs(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=fs(t.document)}return r}function uf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Z0=Ln&&"documentMode"in document&&11>=document.documentMode,ga=null,cf=null,Qo=null,hf=!1;function eg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hf||ga==null||ga!==fs(l)||(l=ga,"selectionStart"in l&&uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Go(Qo,l)||(Qo=l,l=Sc(cf,"onSelect"),0<l.length&&(r=new la("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=ga)))}function ws(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ya={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionrun:ws("Transition","TransitionRun"),transitionstart:ws("Transition","TransitionStart"),transitioncancel:ws("Transition","TransitionCancel"),transitionend:ws("Transition","TransitionEnd")},ff={},tg={};Ln&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function As(t){if(ff[t])return ff[t];if(!ya[t])return t;var r=ya[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in tg)return ff[t]=r[a];return t}var ng=As("animationend"),rg=As("animationiteration"),ig=As("animationstart"),J0=As("transitionrun"),ew=As("transitionstart"),tw=As("transitioncancel"),sg=As("transitionend"),ag=new Map,df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");df.push("scrollEnd");function Un(t,r){ag.set(t,r),kn(r,[t])}var og=new WeakMap;function In(t,r){if(typeof t=="object"&&t!==null){var a=og.get(t);return a!==void 0?a:(r={value:t,source:r,stack:sa(r)},og.set(t,r),r)}return{value:t,source:r,stack:sa(r)}}var Cn=[],_a=0,mf=0;function Bu(){for(var t=_a,r=mf=_a=0;r<t;){var a=Cn[r];Cn[r++]=null;var l=Cn[r];Cn[r++]=null;var h=Cn[r];Cn[r++]=null;var d=Cn[r];if(Cn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&lg(a,h,d)}}function qu(t,r,a,l){Cn[_a++]=t,Cn[_a++]=r,Cn[_a++]=a,Cn[_a++]=l,mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function pf(t,r,a,l){return qu(t,r,a,l),Hu(t)}function va(t,r){return qu(t,null,null,r),Hu(t)}function lg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Hu(t){if(50<yl)throw yl=0,Td=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ea={};function nw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,a,l){return new nw(t,r,a,l)}function gf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vr(t,r){var a=t.alternate;return a===null?(a=mn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ug(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Fu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")gf(t)&&(v=1);else if(typeof t=="string")v=iA(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=mn(31,a,r,h),t.elementType=x,t.lanes=d,t;case B:return Ss(a.children,h,d,r);case Y:v=8,h|=24;break;case G:return t=mn(12,a,r,h|2),t.elementType=G,t.lanes=d,t;case he:return t=mn(13,a,r,h),t.elementType=he,t.lanes=d,t;case Se:return t=mn(19,a,r,h),t.elementType=Se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case re:v=10;break e;case ne:v=9;break e;case pe:v=11;break e;case P:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=mn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ss(t,r,a,l){return t=mn(7,t,l,r),t.lanes=a,t}function yf(t,r,a){return t=mn(6,t,null,r),t.lanes=a,t}function _f(t,r,a){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ta=[],ba=0,Gu=null,Qu=0,Nn=[],Dn=0,xs=null,Pr=1,kr="";function Rs(t,r){Ta[ba++]=Qu,Ta[ba++]=Gu,Gu=t,Qu=r}function cg(t,r,a){Nn[Dn++]=Pr,Nn[Dn++]=kr,Nn[Dn++]=xs,xs=t;var l=Pr;t=kr;var h=32-Yt(l)-1;l&=~(1<<h),a+=1;var d=32-Yt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Pr=1<<32-Yt(r)+h|a<<h|l,kr=d+t}else Pr=1<<d|a<<h|l,kr=t}function vf(t){t.return!==null&&(Rs(t,1),cg(t,1,0))}function Ef(t){for(;t===Gu;)Gu=Ta[--ba],Ta[ba]=null,Qu=Ta[--ba],Ta[ba]=null;for(;t===xs;)xs=Nn[--Dn],Nn[Dn]=null,kr=Nn[--Dn],Nn[Dn]=null,Pr=Nn[--Dn],Nn[Dn]=null}var sn=null,ct=null,qe=!1,Is=null,ar=!1,Tf=Error(s(519));function Cs(t){var r=Error(s(418,""));throw Xo(In(r,t)),Tf}function hg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[At]=t,r[yt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<vl.length;a++)Oe(vl[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),ds(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),aa(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),ms(r,l.value,l.defaultValue,l.children),aa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||I_(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=xc),r=!0):r=!1,r||Cs(t)}function fg(t){for(sn=t.return;sn;)switch(sn.tag){case 5:case 13:ar=!1;return;case 27:case 3:ar=!0;return;default:sn=sn.return}}function Yo(t){if(t!==sn)return!1;if(!qe)return fg(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ld(t.type,t.memoizedProps)),a=!a),a&&ct&&Cs(t),fg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ct=zn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ct=null}}else r===27?(r=ct,Ci(t.type)?(t=Bd,Bd=null,ct=t):ct=r):ct=sn?zn(t.stateNode.nextSibling):null;return!0}function Ko(){ct=sn=null,qe=!1}function dg(){var t=Is;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Is=null),t}function Xo(t){Is===null?Is=[t]:Is.push(t)}var bf=te(null),Ns=null,Lr=null;function mi(t,r,a){ie(bf,r._currentValue),r._currentValue=a}function Ur(t){t._currentValue=bf.current,oe(bf)}function wf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Af(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var C=0;C<r.length;C++)if(b.context===r[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),wf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),wf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function $o(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;dn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Dt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&Af(r,t,a,l),r.flags|=262144}function Yu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ds(t){Ns=t,Lr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return mg(Ns,t)}function Ku(t,r){return Ns===null&&Ds(t),mg(t,r)}function mg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Lr===null){if(t===null)throw Error(s(308));Lr=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Lr=Lr.next=r;return a}var rw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},iw=i.unstable_scheduleCallback,sw=i.unstable_NormalPriority,Rt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new rw,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&iw(sw,function(){t.controller.abort()})}var Zo=null,xf=0,wa=0,Aa=null;function aw(t,r){if(Zo===null){var a=Zo=[];xf=0,wa=Id(),Aa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,r.then(pg,pg),r}function pg(){if(--xf===0&&Zo!==null){Aa!==null&&(Aa.status="fulfilled");var t=Zo;Zo=null,wa=0,Aa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function ow(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var gg=K.S;K.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&aw(t,r),gg!==null&&gg(t,r)};var Os=te(null);function Rf(){var t=Os.current;return t!==null?t:tt.pooledCache}function Xu(t,r){r===null?ie(Os,Os.current):ie(Os,r.pool)}function yg(){var t=Rf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Jo=Error(s(460)),_g=Error(s(474)),$u=Error(s(542)),If={then:function(){}};function vg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Wu(){}function Eg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(Wu,Wu),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,bg(t),t;default:if(typeof r.status=="string")r.then(Wu,Wu);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,bg(t),t}throw el=r,Jo}}var el=null;function Tg(){if(el===null)throw Error(s(459));var t=el;return el=null,t}function bg(t){if(t===Jo||t===$u)throw Error(s(483))}var pi=!1;function Cf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Nf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function gi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function yi(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Hu(t),lg(t,null,a),r}return qu(t,l,r,a),Hu(t)}function tl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}function Df(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Of=!1;function nl(){if(Of){var t=Aa;if(t!==null)throw t}}function rl(t,r,a,l){Of=!1;var h=t.updateQueue;pi=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,z=C.next;C.next=null,v===null?d=z:v.next=z,v=C;var X=t.alternate;X!==null&&(X=X.updateQueue,b=X.lastBaseUpdate,b!==v&&(b===null?X.firstBaseUpdate=z:b.next=z,X.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;v=0,X=z=C=null,b=d;do{var H=b.lane&-536870913,F=H!==b.lane;if(F?(Ue&H)===H:(l&H)===H){H!==0&&H===wa&&(Of=!0),X!==null&&(X=X.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ee=t,ye=b;H=r;var Ze=a;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){J=Ee.call(Ze,J,H);break e}J=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,H=typeof Ee=="function"?Ee.call(Ze,J,H):Ee,H==null)break e;J=E({},J,H);break e;case 2:pi=!0}}H=b.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[H]:F.push(H))}else F={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},X===null?(z=X=F,C=J):X=X.next=F,v|=H;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;F=b,b=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);X===null&&(C=J),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Si|=v,t.lanes=v,t.memoizedState=J}}function wg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Ag(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)wg(a[t],r)}var Sa=te(null),Zu=te(0);function Sg(t,r){t=Gr,ie(Zu,t),ie(Sa,r),Gr=t|r.baseLanes}function Mf(){ie(Zu,Gr),ie(Sa,Sa.current)}function Vf(){Gr=Zu.current,oe(Sa),oe(Zu)}var _i=0,Ie=null,$e=null,vt=null,Ju=!1,xa=!1,Ms=!1,ec=0,il=0,Ra=null,lw=0;function dt(){throw Error(s(321))}function Pf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!dn(t[a],r[a]))return!1;return!0}function kf(t,r,a,l,h,d){return _i=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,K.H=t===null||t.memoizedState===null?ly:uy,Ms=!1,d=a(l,h),Ms=!1,xa&&(d=Rg(r,a,l,h)),xg(t),d}function xg(t){K.H=ac;var r=$e!==null&&$e.next!==null;if(_i=0,vt=$e=Ie=null,Ju=!1,il=0,Ra=null,r)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&Yu(t)&&(Vt=!0))}function Rg(t,r,a,l){Ie=t;var h=0;do{if(xa&&(Ra=null),il=0,xa=!1,25<=h)throw Error(s(301));if(h+=1,vt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=pw,d=r(a,l)}while(xa);return d}function uw(){var t=K.H,r=t.useState()[0];return r=typeof r.then=="function"?sl(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),r}function Lf(){var t=ec!==0;return ec=0,t}function Uf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function jf(t){if(Ju){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}Ju=!1}_i=0,vt=$e=Ie=null,xa=!1,il=ec=0,Ra=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ie.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=vt===null?Ie.memoizedState:vt.next;if(r!==null)vt=r,$e=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},vt===null?Ie.memoizedState=vt=t:vt=vt.next=t}return vt}function zf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var r=il;return il+=1,Ra===null&&(Ra=[]),t=Eg(Ra,t,r),r=Ie,(vt===null?r.memoizedState:vt.next)===null&&(r=r.alternate,K.H=r===null||r.memoizedState===null?ly:uy),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===re)return Kt(t)}throw Error(s(438,String(t)))}function Bf(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=zf(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=N;return r.index++,a}function jr(t,r){return typeof r=="function"?r(t):r}function nc(t){var r=Et();return qf(r,$e,t)}function qf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var b=v=null,C=null,z=r,X=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Ue&J)===J:(_i&J)===J){var H=z.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===wa&&(X=!0);else if((_i&H)===H){z=z.next,H===wa&&(X=!0);continue}else J={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(b=C=J,v=d):C=C.next=J,Ie.lanes|=H,Si|=H;J=z.action,Ms&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else H={lane:J,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(b=C=H,v=d):C=C.next=H,Ie.lanes|=J,Si|=J;z=z.next}while(z!==null&&z!==r);if(C===null?v=d:C.next=b,!dn(d,t.memoizedState)&&(Vt=!0,X&&(a=Aa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Hf(t){var r=Et(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);dn(d,r.memoizedState)||(Vt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Ig(t,r,a){var l=Ie,h=Et(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!dn(($e||h).memoizedState,a);v&&(h.memoizedState=a,Vt=!0),h=h.queue;var b=Dg.bind(null,l,h,t);if(al(2048,8,b,[t]),h.getSnapshot!==r||v||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Ia(9,rc(),Ng.bind(null,l,h,a,r),null),tt===null)throw Error(s(349));d||(_i&124)!==0||Cg(l,r,a)}return a}function Cg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=zf(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ng(t,r,a,l){r.value=a,r.getSnapshot=l,Og(r)&&Mg(t)}function Dg(t,r,a){return a(function(){Og(r)&&Mg(t)})}function Og(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!dn(t,a)}catch{return!0}}function Mg(t){var r=va(t,2);r!==null&&vn(r,t,2)}function Ff(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),Ms){hn(!0);try{a()}finally{hn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:t},r}function Vg(t,r,a,l){return t.baseState=a,qf(t,$e,typeof l=="function"?l:jr)}function cw(t,r,a,l,h){if(sc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};K.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Pg(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Pg(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=K.T,v={};K.T=v;try{var b=a(h,l),C=K.S;C!==null&&C(v,b),kg(t,r,b)}catch(z){Gf(t,r,z)}finally{K.T=d}}else try{d=a(h,l),kg(t,r,d)}catch(z){Gf(t,r,z)}}function kg(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Lg(t,r,l)},function(l){return Gf(t,r,l)}):Lg(t,r,a)}function Lg(t,r,a){r.status="fulfilled",r.value=a,Ug(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Pg(t,a)))}function Gf(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ug(r),r=r.next;while(r!==l)}t.action=null}function Ug(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function jg(t,r){return r}function zg(t,r){if(qe){var a=tt.formState;if(a!==null){e:{var l=Ie;if(qe){if(ct){t:{for(var h=ct,d=ar;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ct=zn(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:r},a.queue=l,a=sy.bind(null,Ie,l),l.dispatch=a,l=Ff(!1),d=$f.bind(null,Ie,!1,l.queue),l=an(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=cw.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function Bg(t){var r=Et();return qg(r,$e,t)}function qg(t,r,a){if(r=qf(t,r,jg)[0],t=nc(jr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=sl(r)}catch(v){throw v===Jo?$u:v}else l=r;r=Et();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Ia(9,rc(),hw.bind(null,h,a),null)),[l,d,t]}function hw(t,r){t.action=r}function Hg(t){var r=Et(),a=$e;if(a!==null)return qg(r,a,t);Et(),r=r.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Ia(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=zf(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function rc(){return{destroy:void 0,resource:void 0}}function Fg(){return Et().memoizedState}function ic(t,r,a,l){var h=an();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Ia(1|r,rc(),a,l)}function al(t,r,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Pf(l,$e.memoizedState.deps)?h.memoizedState=Ia(r,d,a,l):(Ie.flags|=t,h.memoizedState=Ia(1|r,d,a,l))}function Gg(t,r){ic(8390656,8,t,r)}function Qg(t,r){al(2048,8,t,r)}function Yg(t,r){return al(4,2,t,r)}function Kg(t,r){return al(4,4,t,r)}function Xg(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function $g(t,r,a){a=a!=null?a.concat([t]):null,al(4,4,Xg.bind(null,r,t),a)}function Qf(){}function Wg(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Pf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Zg(t,r){var a=Et();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Pf(r,l[1]))return l[0];if(l=t(),Ms){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,r],l}function Yf(t,r,a){return a===void 0||(_i&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=t_(),Ie.lanes|=t,Si|=t,a)}function Jg(t,r,a,l){return dn(a,r)?a:Sa.current!==null?(t=Yf(t,a,l),dn(t,r)||(Vt=!0),t):(_i&42)===0?(Vt=!0,t.memoizedState=a):(t=t_(),Ie.lanes|=t,Si|=t,r)}function ey(t,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=K.T,b={};K.T=b,$f(t,!1,r,a);try{var C=h(),z=K.S;if(z!==null&&z(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var X=ow(C,l);ol(t,r,X,_n(t))}else ol(t,r,l,_n(t))}catch(J){ol(t,r,{then:function(){},status:"rejected",reason:J},_n())}finally{ae.p=d,K.T=v}}function fw(){}function Kf(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=ty(t).queue;ey(t,h,r,me,a===null?fw:function(){return ny(t),a(l)})}function ty(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jr,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function ny(t){var r=ty(t).next.queue;ol(t,r,{},_n())}function Xf(){return Kt(Sl)}function ry(){return Et().memoizedState}function iy(){return Et().memoizedState}function dw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=_n();t=gi(a);var l=yi(r,t,a);l!==null&&(vn(l,r,a),tl(l,r,a)),r={cache:Sf()},t.payload=r;return}r=r.return}}function mw(t,r,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sc(t)?ay(r,a):(a=pf(t,r,a,l),a!==null&&(vn(a,t,l),oy(a,r,l)))}function sy(t,r,a){var l=_n();ol(t,r,a,l)}function ol(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(t))ay(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,dn(b,v))return qu(t,r,h,0),tt===null&&Bu(),!1}catch{}finally{}if(a=pf(t,r,h,l),a!==null)return vn(a,t,l),oy(a,r,l),!0}return!1}function $f(t,r,a,l){if(l={lane:2,revertLane:Id(),action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(r)throw Error(s(479))}else r=pf(t,a,l,2),r!==null&&vn(r,t,2)}function sc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function ay(t,r){xa=Ju=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function oy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Co(t,a)}}var ac={readContext:Kt,use:tc,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt},ly={readContext:Kt,use:tc,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:Gg,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,ic(4194308,4,Xg.bind(null,r,t),a)},useLayoutEffect:function(t,r){return ic(4194308,4,t,r)},useInsertionEffect:function(t,r){ic(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(Ms){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var h=a(r);if(Ms){hn(!0);try{a(r)}finally{hn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=mw.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=Ff(t);var r=t.queue,a=sy.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:Qf,useDeferredValue:function(t,r){var a=an();return Yf(a,t,r)},useTransition:function(){var t=Ff(!1);return t=ey.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,h=an();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(Ue&124)!==0||Cg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Gg(Dg.bind(null,l,d,t),[t]),l.flags|=2048,Ia(9,rc(),Ng.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=tt.identifierPrefix;if(qe){var a=kr,l=Pr;a=(l&~(1<<32-Yt(l)-1)).toString(32)+a,r=""+r+"R"+a,a=ec++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=lw++,r=""+r+"r"+a.toString(32)+"";return t.memoizedState=r},useHostTransitionStatus:Xf,useFormState:zg,useActionState:zg,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=$f.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:Bf,useCacheRefresh:function(){return an().memoizedState=dw.bind(null,Ie)}},uy={readContext:Kt,use:tc,useCallback:Wg,useContext:Kt,useEffect:Qg,useImperativeHandle:$g,useInsertionEffect:Yg,useLayoutEffect:Kg,useMemo:Zg,useReducer:nc,useRef:Fg,useState:function(){return nc(jr)},useDebugValue:Qf,useDeferredValue:function(t,r){var a=Et();return Jg(a,$e.memoizedState,t,r)},useTransition:function(){var t=nc(jr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Ig,useId:ry,useHostTransitionStatus:Xf,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,r){var a=Et();return Vg(a,$e,t,r)},useMemoCache:Bf,useCacheRefresh:iy},pw={readContext:Kt,use:tc,useCallback:Wg,useContext:Kt,useEffect:Qg,useImperativeHandle:$g,useInsertionEffect:Yg,useLayoutEffect:Kg,useMemo:Zg,useReducer:Hf,useRef:Fg,useState:function(){return Hf(jr)},useDebugValue:Qf,useDeferredValue:function(t,r){var a=Et();return $e===null?Yf(a,t,r):Jg(a,$e.memoizedState,t,r)},useTransition:function(){var t=Hf(jr)[0],r=Et().memoizedState;return[typeof t=="boolean"?t:sl(t),r]},useSyncExternalStore:Ig,useId:ry,useHostTransitionStatus:Xf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,r){var a=Et();return $e!==null?Vg(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:iy},Ca=null,ll=0;function oc(t){var r=ll;return ll+=1,Ca===null&&(Ca=[]),Eg(Ca,t,r)}function ul(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function lc(t,r){throw r.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function cy(t){var r=t._init;return r(t._payload)}function hy(t){function r(L,V){if(t){var j=L.deletions;j===null?(L.deletions=[V],L.flags|=16):j.push(V)}}function a(L,V){if(!t)return null;for(;V!==null;)r(L,V),V=V.sibling;return null}function l(L){for(var V=new Map;L!==null;)L.key!==null?V.set(L.key,L):V.set(L.index,L),L=L.sibling;return V}function h(L,V){return L=Vr(L,V),L.index=0,L.sibling=null,L}function d(L,V,j){return L.index=j,t?(j=L.alternate,j!==null?(j=j.index,j<V?(L.flags|=67108866,V):j):(L.flags|=67108866,V)):(L.flags|=1048576,V)}function v(L){return t&&L.alternate===null&&(L.flags|=67108866),L}function b(L,V,j,W){return V===null||V.tag!==6?(V=yf(j,L.mode,W),V.return=L,V):(V=h(V,j),V.return=L,V)}function C(L,V,j,W){var ce=j.type;return ce===B?X(L,V,j.props.children,W,j.key):V!==null&&(V.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&cy(ce)===V.type)?(V=h(V,j.props),ul(V,j),V.return=L,V):(V=Fu(j.type,j.key,j.props,null,L.mode,W),ul(V,j),V.return=L,V)}function z(L,V,j,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==j.containerInfo||V.stateNode.implementation!==j.implementation?(V=_f(j,L.mode,W),V.return=L,V):(V=h(V,j.children||[]),V.return=L,V)}function X(L,V,j,W,ce){return V===null||V.tag!==7?(V=Ss(j,L.mode,W,ce),V.return=L,V):(V=h(V,j),V.return=L,V)}function J(L,V,j){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=yf(""+V,L.mode,j),V.return=L,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case A:return j=Fu(V.type,V.key,V.props,null,L.mode,j),ul(j,V),j.return=L,j;case k:return V=_f(V,L.mode,j),V.return=L,V;case R:var W=V._init;return V=W(V._payload),J(L,V,j)}if(Re(V)||D(V))return V=Ss(V,L.mode,j,null),V.return=L,V;if(typeof V.then=="function")return J(L,oc(V),j);if(V.$$typeof===re)return J(L,Ku(L,V),j);lc(L,V)}return null}function H(L,V,j,W){var ce=V!==null?V.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ce!==null?null:b(L,V,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case A:return j.key===ce?C(L,V,j,W):null;case k:return j.key===ce?z(L,V,j,W):null;case R:return ce=j._init,j=ce(j._payload),H(L,V,j,W)}if(Re(j)||D(j))return ce!==null?null:X(L,V,j,W,null);if(typeof j.then=="function")return H(L,V,oc(j),W);if(j.$$typeof===re)return H(L,V,Ku(L,j),W);lc(L,j)}return null}function F(L,V,j,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(j)||null,b(V,L,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return L=L.get(W.key===null?j:W.key)||null,C(V,L,W,ce);case k:return L=L.get(W.key===null?j:W.key)||null,z(V,L,W,ce);case R:var Ne=W._init;return W=Ne(W._payload),F(L,V,j,W,ce)}if(Re(W)||D(W))return L=L.get(j)||null,X(V,L,W,ce,null);if(typeof W.then=="function")return F(L,V,j,oc(W),ce);if(W.$$typeof===re)return F(L,V,j,Ku(V,W),ce);lc(V,W)}return null}function Ee(L,V,j,W){for(var ce=null,Ne=null,fe=V,_e=V=0,kt=null;fe!==null&&_e<j.length;_e++){fe.index>_e?(kt=fe,fe=null):kt=fe.sibling;var ze=H(L,fe,j[_e],W);if(ze===null){fe===null&&(fe=kt);break}t&&fe&&ze.alternate===null&&r(L,fe),V=d(ze,V,_e),Ne===null?ce=ze:Ne.sibling=ze,Ne=ze,fe=kt}if(_e===j.length)return a(L,fe),qe&&Rs(L,_e),ce;if(fe===null){for(;_e<j.length;_e++)fe=J(L,j[_e],W),fe!==null&&(V=d(fe,V,_e),Ne===null?ce=fe:Ne.sibling=fe,Ne=fe);return qe&&Rs(L,_e),ce}for(fe=l(fe);_e<j.length;_e++)kt=F(fe,L,_e,j[_e],W),kt!==null&&(t&&kt.alternate!==null&&fe.delete(kt.key===null?_e:kt.key),V=d(kt,V,_e),Ne===null?ce=kt:Ne.sibling=kt,Ne=kt);return t&&fe.forEach(function(Vi){return r(L,Vi)}),qe&&Rs(L,_e),ce}function ye(L,V,j,W){if(j==null)throw Error(s(151));for(var ce=null,Ne=null,fe=V,_e=V=0,kt=null,ze=j.next();fe!==null&&!ze.done;_e++,ze=j.next()){fe.index>_e?(kt=fe,fe=null):kt=fe.sibling;var Vi=H(L,fe,ze.value,W);if(Vi===null){fe===null&&(fe=kt);break}t&&fe&&Vi.alternate===null&&r(L,fe),V=d(Vi,V,_e),Ne===null?ce=Vi:Ne.sibling=Vi,Ne=Vi,fe=kt}if(ze.done)return a(L,fe),qe&&Rs(L,_e),ce;if(fe===null){for(;!ze.done;_e++,ze=j.next())ze=J(L,ze.value,W),ze!==null&&(V=d(ze,V,_e),Ne===null?ce=ze:Ne.sibling=ze,Ne=ze);return qe&&Rs(L,_e),ce}for(fe=l(fe);!ze.done;_e++,ze=j.next())ze=F(fe,L,_e,ze.value,W),ze!==null&&(t&&ze.alternate!==null&&fe.delete(ze.key===null?_e:ze.key),V=d(ze,V,_e),Ne===null?ce=ze:Ne.sibling=ze,Ne=ze);return t&&fe.forEach(function(gA){return r(L,gA)}),qe&&Rs(L,_e),ce}function Ze(L,V,j,W){if(typeof j=="object"&&j!==null&&j.type===B&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case A:e:{for(var ce=j.key;V!==null;){if(V.key===ce){if(ce=j.type,ce===B){if(V.tag===7){a(L,V.sibling),W=h(V,j.props.children),W.return=L,L=W;break e}}else if(V.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===R&&cy(ce)===V.type){a(L,V.sibling),W=h(V,j.props),ul(W,j),W.return=L,L=W;break e}a(L,V);break}else r(L,V);V=V.sibling}j.type===B?(W=Ss(j.props.children,L.mode,W,j.key),W.return=L,L=W):(W=Fu(j.type,j.key,j.props,null,L.mode,W),ul(W,j),W.return=L,L=W)}return v(L);case k:e:{for(ce=j.key;V!==null;){if(V.key===ce)if(V.tag===4&&V.stateNode.containerInfo===j.containerInfo&&V.stateNode.implementation===j.implementation){a(L,V.sibling),W=h(V,j.children||[]),W.return=L,L=W;break e}else{a(L,V);break}else r(L,V);V=V.sibling}W=_f(j,L.mode,W),W.return=L,L=W}return v(L);case R:return ce=j._init,j=ce(j._payload),Ze(L,V,j,W)}if(Re(j))return Ee(L,V,j,W);if(D(j)){if(ce=D(j),typeof ce!="function")throw Error(s(150));return j=ce.call(j),ye(L,V,j,W)}if(typeof j.then=="function")return Ze(L,V,oc(j),W);if(j.$$typeof===re)return Ze(L,V,Ku(L,j),W);lc(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,V!==null&&V.tag===6?(a(L,V.sibling),W=h(V,j),W.return=L,L=W):(a(L,V),W=yf(j,L.mode,W),W.return=L,L=W),v(L)):a(L,V)}return function(L,V,j,W){try{ll=0;var ce=Ze(L,V,j,W);return Ca=null,ce}catch(fe){if(fe===Jo||fe===$u)throw fe;var Ne=mn(29,fe,null,L.mode);return Ne.lanes=W,Ne.return=L,Ne}finally{}}}var Na=hy(!0),fy=hy(!1),On=te(null),or=null;function vi(t){var r=t.alternate;ie(It,It.current&1),ie(On,t),or===null&&(r===null||Sa.current!==null||r.memoizedState!==null)&&(or=t)}function dy(t){if(t.tag===22){if(ie(It,It.current),ie(On,t),or===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(or=t)}}else Ei()}function Ei(){ie(It,It.current),ie(On,On.current)}function zr(t){oe(On),or===t&&(or=null),oe(It)}var It=te(0);function uc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||zd(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Wf(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Zf={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=_n(),h=gi(l);h.payload=r,a!=null&&(h.callback=a),r=yi(t,h,l),r!==null&&(vn(r,t,l),tl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=_n(),h=gi(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=yi(t,h,l),r!==null&&(vn(r,t,l),tl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=_n(),l=gi(a);l.tag=2,r!=null&&(l.callback=r),r=yi(t,l,a),r!==null&&(vn(r,t,a),tl(r,t,a))}};function my(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function py(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Zf.enqueueReplaceState(r,r.state,null)}function Vs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var cc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function gy(t){cc(t)}function yy(t){console.error(t)}function _y(t){cc(t)}function hc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function vy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Jf(t,r,a){return a=gi(a),a.tag=3,a.payload={element:null},a.callback=function(){hc(t,r)},a}function Ey(t){return t=gi(t),t.tag=3,t}function Ty(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){vy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){vy(r,a,l),typeof h!="function"&&(xi===null?xi=new Set([this]):xi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function gw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&$o(r,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return or===null?wd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===If?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Sd(t,l,h)),!1;case 22:return a.flags|=65536,l===If?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Sd(t,l,h)),!1}throw Error(s(435,a.tag))}return Sd(t,l,h),wd(),!1}if(qe)return r=On.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Tf&&(t=Error(s(422),{cause:l}),Xo(In(t,a)))):(l!==Tf&&(r=Error(s(423),{cause:l}),Xo(In(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=Jf(t.stateNode,l,h),Df(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),gl===null?gl=[d]:gl.push(d),ht!==4&&(ht=2),r===null)return!0;l=In(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Jf(a.stateNode,l,t),Df(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xi===null||!xi.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ey(h),Ty(h,t,a,l),Df(a,h),!1}a=a.return}while(a!==null);return!1}var by=Error(s(461)),Vt=!1;function qt(t,r,a,l){r.child=t===null?fy(r,null,a,l):Na(r,t.child,a,l)}function wy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Ds(r),l=kf(t,r,a,v,d,h),b=Lf(),t!==null&&!Vt?(Uf(t,r,h),Br(t,r,h)):(qe&&b&&vf(r),r.flags|=1,qt(t,r,l,h),r.child)}function Ay(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!gf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,Sy(t,r,d,l,h)):(t=Fu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!od(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(v,l)&&t.ref===r.ref)return Br(t,r,h)}return r.flags|=1,t=Vr(d,l),t.ref=r.ref,t.return=r,r.child=t}function Sy(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===r.ref)if(Vt=!1,r.pendingProps=l=d,od(t,h))(t.flags&131072)!==0&&(Vt=!0);else return r.lanes=t.lanes,Br(t,r,h)}return ed(t,r,a,l,h)}function xy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Ry(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&Xu(r,d!==null?d.cachePool:null),d!==null?Sg(r,d):Mf(),dy(r);else return r.lanes=r.childLanes=536870912,Ry(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Xu(r,d.cachePool),Sg(r,d),Ei(),r.memoizedState=null):(t!==null&&Xu(r,null),Mf(),Ei());return qt(t,r,h,a),r.child}function Ry(t,r,a,l){var h=Rf();return h=h===null?null:{parent:Rt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&Xu(r,null),Mf(),dy(r),t!==null&&$o(t,r,l,!0),null}function fc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function ed(t,r,a,l,h){return Ds(r),a=kf(t,r,a,l,void 0,h),l=Lf(),t!==null&&!Vt?(Uf(t,r,h),Br(t,r,h)):(qe&&l&&vf(r),r.flags|=1,qt(t,r,a,h),r.child)}function Iy(t,r,a,l,h,d){return Ds(r),r.updateQueue=null,a=Rg(r,l,a,h),xg(t),l=Lf(),t!==null&&!Vt?(Uf(t,r,d),Br(t,r,d)):(qe&&l&&vf(r),r.flags|=1,qt(t,r,a,d),r.child)}function Cy(t,r,a,l,h){if(Ds(r),r.stateNode===null){var d=Ea,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Zf,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Cf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Ea,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Wf(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Zf.enqueueReplaceState(d,d.state,null),rl(r,l,d,h),nl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var b=r.memoizedProps,C=Vs(a,b);d.props=C;var z=d.context,X=a.contextType;v=Ea,typeof X=="object"&&X!==null&&(v=Kt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||z!==v)&&py(r,d,l,v),pi=!1;var H=r.memoizedState;d.state=H,rl(r,l,d,h),nl(),z=r.memoizedState,b||H!==z||pi?(typeof J=="function"&&(Wf(r,a,J,l),z=r.memoizedState),(C=pi||my(r,a,C,l,H,z,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=z),d.props=l,d.state=z,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Nf(t,r),v=r.memoizedProps,X=Vs(a,v),d.props=X,J=r.pendingProps,H=d.context,z=a.contextType,C=Ea,typeof z=="object"&&z!==null&&(C=Kt(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||H!==C)&&py(r,d,l,C),pi=!1,H=r.memoizedState,d.state=H,rl(r,l,d,h),nl();var F=r.memoizedState;v!==J||H!==F||pi||t!==null&&t.dependencies!==null&&Yu(t.dependencies)?(typeof b=="function"&&(Wf(r,a,b,l),F=r.memoizedState),(X=pi||my(r,a,X,l,H,F,C)||t!==null&&t.dependencies!==null&&Yu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=C,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,fc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Na(r,t.child,null,h),r.child=Na(r,null,a,h)):qt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=Br(t,r,h),t}function Ny(t,r,a,l){return Ko(),r.flags|=256,qt(t,r,a,l),r.child}var td={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nd(t){return{baseLanes:t,cachePool:yg()}}function rd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Mn),t}function Dy(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(h?vi(r):Ei(),qe){var b=ct,C;if(C=b){e:{for(C=b,b=ar;C.nodeType!==8;){if(!b){b=null;break e}if(C=zn(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(r.memoizedState={dehydrated:b,treeContext:xs!==null?{id:Pr,overflow:kr}:null,retryLane:536870912,hydrationErrors:null},C=mn(18,null,null,0),C.stateNode=b,C.return=r,r.child=C,sn=r,ct=null,C=!0):C=!1}C||Cs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return zd(b)?r.lanes=32:r.lanes=536870912,null;zr(r)}return b=l.children,l=l.fallback,h?(Ei(),h=r.mode,b=dc({mode:"hidden",children:b},h),l=Ss(l,h,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,h=r.child,h.memoizedState=nd(a),h.childLanes=rd(t,v,a),r.memoizedState=td,l):(vi(r),id(r,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)r.flags&256?(vi(r),r.flags&=-257,r=sd(t,r,a)):r.memoizedState!==null?(Ei(),r.child=t.child,r.flags|=128,r=null):(Ei(),h=l.fallback,b=r.mode,l=dc({mode:"visible",children:l.children},b),h=Ss(h,b,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Na(r,t.child,null,a),l=r.child,l.memoizedState=nd(a),l.childLanes=rd(t,v,a),r.memoizedState=td,r=h);else if(vi(r),zd(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Xo({value:l,source:null,stack:null}),r=sd(t,r,a)}else if(Vt||$o(t,r,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=tt,v!==null&&(l=a&-a,l=(l&42)!==0?1:oi(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,va(t,l),vn(v,t,l),by;b.data==="$?"||wd(),r=sd(t,r,a)}else b.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=C.treeContext,ct=zn(b.nextSibling),sn=r,qe=!0,Is=null,ar=!1,t!==null&&(Nn[Dn++]=Pr,Nn[Dn++]=kr,Nn[Dn++]=xs,Pr=t.id,kr=t.overflow,xs=r),r=id(r,l.children),r.flags|=4096);return r}return h?(Ei(),h=l.fallback,b=r.mode,C=t.child,z=C.sibling,l=Vr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?h=Vr(z,h):(h=Ss(h,b,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,b=t.child.memoizedState,b===null?b=nd(a):(C=b.cachePool,C!==null?(z=Rt._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=yg(),b={baseLanes:b.baseLanes|a,cachePool:C}),h.memoizedState=b,h.childLanes=rd(t,v,a),r.memoizedState=td,l):(vi(r),a=t.child,t=a.sibling,a=Vr(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function id(t,r){return r=dc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function dc(t,r){return t=mn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function sd(t,r,a){return Na(r,t.child,null,a),t=id(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Oy(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),wf(t.return,r,a)}function ad(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function My(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,r,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Oy(t,a,r);else if(t.tag===19)Oy(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(It,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&uc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),ad(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&uc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ad(r,!0,a,null,d);break;case"together":ad(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Br(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Si|=r.lanes,(a&r.childLanes)===0)if(t!==null){if($o(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Vr(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Vr(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function od(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Yu(t)))}function yw(t,r,a){switch(r.tag){case 3:et(r,r.stateNode.containerInfo),mi(r,Rt,t.memoizedState.cache),Ko();break;case 27:case 5:ai(r);break;case 4:et(r,r.stateNode.containerInfo);break;case 10:mi(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(vi(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Dy(t,r,a):(vi(r),t=Br(t,r,a),t!==null?t.sibling:null);vi(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||($o(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return My(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(It,It.current),l)break;return null;case 22:case 23:return r.lanes=0,xy(t,r,a);case 24:mi(r,Rt,t.memoizedState.cache)}return Br(t,r,a)}function Vy(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Vt=!0;else{if(!od(t,a)&&(r.flags&128)===0)return Vt=!1,yw(t,r,a);Vt=(t.flags&131072)!==0}else Vt=!1,qe&&(r.flags&1048576)!==0&&cg(r,Qu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")gf(l)?(t=Vs(l,t),r.tag=1,r=Cy(null,r,l,t,a)):(r.tag=0,r=ed(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===pe){r.tag=11,r=wy(null,r,l,t,a);break e}else if(h===P){r.tag=14,r=Ay(null,r,l,t,a);break e}}throw r=Ge(l)||l,Error(s(306,r,""))}}return r;case 0:return ed(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Vs(l,r.pendingProps),Cy(t,r,l,h,a);case 3:e:{if(et(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Nf(t,r),rl(r,l,null,a);var v=r.memoizedState;if(l=v.cache,mi(r,Rt,l),l!==d.cache&&Af(r,[Rt],a,!0),nl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Ny(t,r,l,a);break e}else if(l!==h){h=In(Error(s(424)),r),Xo(h),r=Ny(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ct=zn(t.firstChild),sn=r,qe=!0,Is=null,ar=!0,a=fy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ko(),l===h){r=Br(t,r,a);break e}qt(t,r,l,a)}r=r.child}return r;case 26:return fc(t,r),t===null?(a=U_(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=Rc(be.current).createElement(a),l[At]=r,l[yt]=t,Ft(l,a,t),ft(l),r.stateNode=l):r.memoizedState=U_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ai(r),t===null&&qe&&(l=r.stateNode=P_(r.type,r.pendingProps,be.current),sn=r,ar=!0,h=ct,Ci(r.type)?(Bd=h,ct=zn(l.firstChild)):ct=h),qt(t,r,r.pendingProps.children,a),fc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((h=l=ct)&&(l=Gw(l,r.type,r.pendingProps,ar),l!==null?(r.stateNode=l,sn=r,ct=zn(l.firstChild),ar=!1,h=!0):h=!1),h||Cs(r)),ai(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Ld(h,d)?l=null:v!==null&&Ld(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=kf(t,r,uw,null,null,a),Sl._currentValue=h),fc(t,r),qt(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=ct)&&(a=Qw(a,r.pendingProps,ar),a!==null?(r.stateNode=a,sn=r,ct=null,t=!0):t=!1),t||Cs(r)),null;case 13:return Dy(t,r,a);case 4:return et(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Na(r,null,l,a):qt(t,r,l,a),r.child;case 11:return wy(t,r,r.type,r.pendingProps,a);case 7:return qt(t,r,r.pendingProps,a),r.child;case 8:return qt(t,r,r.pendingProps.children,a),r.child;case 12:return qt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,mi(r,r.type,l.value),qt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,Ds(r),h=Kt(h),l=l(h),r.flags|=1,qt(t,r,l,a),r.child;case 14:return Ay(t,r,r.type,r.pendingProps,a);case 15:return Sy(t,r,r.type,r.pendingProps,a);case 19:return My(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=dc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Vr(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return xy(t,r,a);case 24:return Ds(r),l=Kt(Rt),t===null?(h=Rf(),h===null&&(h=tt,d=Sf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Cf(r),mi(r,Rt,h)):((t.lanes&a)!==0&&(Nf(t,r),rl(r,null,null,a),nl()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),mi(r,Rt,l)):(l=d.cache,mi(r,Rt,l),l!==h.cache&&Af(r,[Rt],a,!0))),qt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function qr(t){t.flags|=4}function Py(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!H_(r)){if(r=On.current,r!==null&&((Ue&4194048)===Ue?or!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==or))throw el=If,_g;t.flags|=8192}}function mc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ro():536870912,t.lanes|=r,Va|=r)}function cl(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function _w(t,r,a){var l=r.pendingProps;switch(Ef(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(r),null;case 1:return at(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ur(Rt),Kn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yo(r)?qr(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,dg())),at(r),null;case 26:return a=r.memoizedState,t===null?(qr(r),a!==null?(at(r),Py(r,a)):(at(r),r.flags&=-16777217)):a?a!==t.memoizedState?(qr(r),at(r),Py(r,a)):(at(r),r.flags&=-16777217):(t.memoizedProps!==l&&qr(r),at(r),r.flags&=-16777217),null;case 27:Tr(r),a=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}t=ge.current,Yo(r)?hg(r):(t=P_(h,l,a),r.stateNode=t,qr(r))}return at(r),null;case 5:if(Tr(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return at(r),null}if(t=ge.current,Yo(r))hg(r);else{switch(h=Rc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[At]=r,t[yt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&qr(r)}}return at(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&qr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Yo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||I_(t.nodeValue,a)),t||Cs(r)}else t=Rc(t).createTextNode(l),t[At]=r,r.stateNode=t}return at(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Yo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=r}else Ko(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;at(r),h=!1}else h=dg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(zr(r),r):(zr(r),null)}if(zr(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),mc(r,r.updateQueue),at(r),null;case 4:return Kn(),t===null&&Od(r.stateNode.containerInfo),at(r),null;case 10:return Ur(r.type),at(r),null;case 19:if(oe(It),h=r.memoizedState,h===null)return at(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)cl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=uc(t),d!==null){for(r.flags|=128,cl(h,!1),t=d.updateQueue,r.updateQueue=t,mc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)ug(a,t),a=a.sibling;return ie(It,It.current&1|2),r.child}t=t.sibling}h.tail!==null&&bn()>yc&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304)}else{if(!l)if(t=uc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,mc(r,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return at(r),null}else 2*bn()-h.renderingStartTime>yc&&a!==536870912&&(r.flags|=128,l=!0,cl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=bn(),r.sibling=null,t=It.current,ie(It,l?t&1|2:t&1),r):(at(r),null);case 22:case 23:return zr(r),Vf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(at(r),r.subtreeFlags&6&&(r.flags|=8192)):at(r),a=r.updateQueue,a!==null&&mc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(Os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ur(Rt),at(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function vw(t,r){switch(Ef(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ur(Rt),Kn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Tr(r),null;case 13:if(zr(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ko()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(It),null;case 4:return Kn(),null;case 10:return Ur(r.type),null;case 22:case 23:return zr(r),Vf(),t!==null&&oe(Os),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Ur(Rt),null;case 25:return null;default:return null}}function ky(t,r){switch(Ef(r),r.tag){case 3:Ur(Rt),Kn();break;case 26:case 27:case 5:Tr(r);break;case 4:Kn();break;case 13:zr(r);break;case 19:oe(It);break;case 10:Ur(r.type);break;case 22:case 23:zr(r),Vf(),t!==null&&oe(Os);break;case 24:Ur(Rt)}}function hl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){Je(r,r.return,b)}}function Ti(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=r;var C=a,z=b;try{z()}catch(X){Je(h,C,X)}}}l=l.next}while(l!==d)}}catch(X){Je(r,r.return,X)}}function Ly(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ag(r,a)}catch(l){Je(t,t.return,l)}}}function Uy(t,r,a){a.props=Vs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,r,l)}}function fl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,r,h)}}function lr(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,r,h)}else a.current=null}function jy(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function ld(t,r,a){try{var l=t.stateNode;zw(l,t.type,a,r),l[yt]=r}catch(h){Je(t,t.return,h)}}function zy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ci(t.type)||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ci(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=xc));else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(cd(t,r,a),t=t.sibling;t!==null;)cd(t,r,a),t=t.sibling}function pc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Ci(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(pc(t,r,a),t=t.sibling;t!==null;)pc(t,r,a),t=t.sibling}function By(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);Ft(r,l,a),r[At]=t,r[yt]=a}catch(d){Je(t,t.return,d)}}var Hr=!1,mt=!1,hd=!1,qy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function Ew(t,r){if(t=t.containerInfo,Pd=Mc,t=Jp(t),uf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,C=-1,z=0,X=0,J=t,H=null;t:for(;;){for(var F;J!==a||h!==0&&J.nodeType!==3||(b=v+h),J!==d||l!==0&&J.nodeType!==3||(C=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(F=J.firstChild)!==null;)H=J,J=F;for(;;){if(J===t)break t;if(H===a&&++z===h&&(b=v),H===d&&++X===l&&(C=v),(F=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=F}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(kd={focusedElem:t,selectionRange:a},Mc=!1,Pt=r;Pt!==null;)if(r=Pt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Pt=t;else for(;Pt!==null;){switch(r=Pt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Vs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){Je(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)jd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":jd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Pt=t;break}Pt=r.return}}function Hy(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:bi(t,a),l&4&&hl(5,a);break;case 1:if(bi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=Vs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&Ly(a),l&512&&fl(a,a.return);break;case 3:if(bi(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Ag(t,r)}catch(v){Je(a,a.return,v)}}break;case 27:r===null&&l&4&&By(a);case 26:case 5:bi(t,a),r===null&&l&4&&jy(a),l&512&&fl(a,a.return);break;case 12:bi(t,a);break;case 13:bi(t,a),l&4&&Qy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Cw.bind(null,a),Yw(t,a))));break;case 22:if(l=a.memoizedState!==null||Hr,!l){r=r!==null&&r.memoizedState!==null||mt,h=Hr;var d=mt;Hr=l,(mt=r)&&!d?wi(t,a,(a.subtreeFlags&8772)!==0):bi(t,a),Hr=h,mt=d}break;case 30:break;default:bi(t,a)}}function Fy(t){var r=t.alternate;r!==null&&(t.alternate=null,Fy(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&ci(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,on=!1;function Fr(t,r,a){for(a=a.child;a!==null;)Gy(t,r,a),a=a.sibling}function Gy(t,r,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ut,a)}catch{}switch(a.tag){case 26:mt||lr(a,r),Fr(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||lr(a,r);var l=st,h=on;Ci(a.type)&&(st=a.stateNode,on=!1),Fr(t,r,a),Tl(a.stateNode),st=l,on=h;break;case 5:mt||lr(a,r);case 6:if(l=st,h=on,st=null,Fr(t,r,a),st=l,on=h,st!==null)if(on)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){Je(a,r,d)}else try{st.removeChild(a.stateNode)}catch(d){Je(a,r,d)}break;case 18:st!==null&&(on?(t=st,M_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Cl(t)):M_(st,a.stateNode));break;case 4:l=st,h=on,st=a.stateNode.containerInfo,on=!0,Fr(t,r,a),st=l,on=h;break;case 0:case 11:case 14:case 15:mt||Ti(2,a,r),mt||Ti(4,a,r),Fr(t,r,a);break;case 1:mt||(lr(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Uy(a,r,l)),Fr(t,r,a);break;case 21:Fr(t,r,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,Fr(t,r,a),mt=l;break;default:Fr(t,r,a)}}function Qy(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){Je(r,r.return,a)}}function Tw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new qy),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new qy),r;default:throw Error(s(435,t.tag))}}function fd(t,r){var a=Tw(t);r.forEach(function(l){var h=Nw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Ci(b.type)){st=b.stateNode,on=!1;break e}break;case 5:st=b.stateNode,on=!1;break e;case 3:case 4:st=b.stateNode.containerInfo,on=!0;break e}b=b.return}if(st===null)throw Error(s(160));Gy(d,v,h),st=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Yy(r,t),r=r.sibling}var jn=null;function Yy(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(r,t),gn(t),l&4&&(Ti(3,t,t.return),hl(3,t),Ti(5,t,t.return));break;case 1:pn(r,t),gn(t),l&512&&(mt||a===null||lr(a,a.return)),l&64&&Hr&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=jn;if(pn(r,t),gn(t),l&512&&(mt||a===null||lr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[us]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[At]=t,ft(d),l=d;break e;case"link":var v=B_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(v=B_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,ft(d),l=d}t.stateNode=l}else q_(h,t.type,t.stateNode);else t.stateNode=z_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?q_(h,t.type,t.stateNode):z_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&ld(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(r,t),gn(t),l&512&&(mt||a===null||lr(a,a.return)),a!==null&&l&4&&ld(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(r,t),gn(t),l&512&&(mt||a===null||lr(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(F){Je(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,ld(t,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(pn(r,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){Je(t,t.return,F)}}break;case 3:if(Nc=null,h=jn,jn=Ic(r.containerInfo),pn(r,t),jn=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(r.containerInfo)}catch(F){Je(t,t.return,F)}hd&&(hd=!1,Ky(t));break;case 4:l=jn,jn=Ic(t.stateNode.containerInfo),pn(r,t),gn(t),jn=l;break;case 12:pn(r,t),gn(t);break;case 13:pn(r,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_d=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Hr,X=mt;if(Hr=z||h,mt=X||C,pn(r,t),mt=X,Hr=z,gn(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||C||Hr||mt||Ps(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=C.stateNode;var J=C.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){Je(C,C.return,F)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(F){Je(C,C.return,F)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fd(t,a))));break;case 19:pn(r,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 30:break;case 21:break;default:pn(r,t),gn(t)}}function gn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(zy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ud(t);pc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var b=ud(t);pc(t,b,v);break;case 3:case 4:var C=a.stateNode.containerInfo,z=ud(t);cd(t,z,C);break;default:throw Error(s(161))}}catch(X){Je(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Ky(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Ky(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function bi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Hy(t,r.alternate,r),r=r.sibling}function Ps(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ti(4,r,r.return),Ps(r);break;case 1:lr(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Uy(r,r.return,a),Ps(r);break;case 27:Tl(r.stateNode);case 26:case 5:lr(r,r.return),Ps(r);break;case 22:r.memoizedState===null&&Ps(r);break;case 30:Ps(r);break;default:Ps(r)}t=t.sibling}}function wi(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:wi(h,d,a),hl(4,d);break;case 1:if(wi(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Je(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)wg(C[h],b)}catch(z){Je(l,l.return,z)}}a&&v&64&&Ly(d),fl(d,d.return);break;case 27:By(d);case 26:case 5:wi(h,d,a),a&&l===null&&v&4&&jy(d),fl(d,d.return);break;case 12:wi(h,d,a);break;case 13:wi(h,d,a),a&&v&4&&Qy(h,d);break;case 22:d.memoizedState===null&&wi(h,d,a),fl(d,d.return);break;case 30:break;default:wi(h,d,a)}r=r.sibling}}function dd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function md(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t))}function ur(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Xy(t,r,a,l),r=r.sibling}function Xy(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:ur(t,r,a,l),h&2048&&hl(9,r);break;case 1:ur(t,r,a,l);break;case 3:ur(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){ur(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Je(r,r.return,C)}}else ur(t,r,a,l);break;case 13:ur(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?ur(t,r,a,l):dl(t,r):d._visibility&2?ur(t,r,a,l):(d._visibility|=2,Da(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&dd(v,r);break;case 24:ur(t,r,a,l),h&2048&&md(r.alternate,r);break;default:ur(t,r,a,l)}}function Da(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,b=a,C=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Da(d,v,b,C,h),hl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?Da(d,v,b,C,h):dl(d,v):(X._visibility|=2,Da(d,v,b,C,h)),h&&z&2048&&dd(v.alternate,v);break;case 24:Da(d,v,b,C,h),h&&z&2048&&md(v.alternate,v);break;default:Da(d,v,b,C,h)}r=r.sibling}}function dl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&dd(l.alternate,l);break;case 24:dl(a,l),h&2048&&md(l.alternate,l);break;default:dl(a,l)}r=r.sibling}}var ml=8192;function Oa(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)$y(t),t=t.sibling}function $y(t){switch(t.tag){case 26:Oa(t),t.flags&ml&&t.memoizedState!==null&&aA(jn,t.memoizedState,t.memoizedProps);break;case 5:Oa(t);break;case 3:case 4:var r=jn;jn=Ic(t.stateNode.containerInfo),Oa(t),jn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=ml,ml=16777216,Oa(t),ml=r):Oa(t));break;default:Oa(t)}}function Wy(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function pl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,Jy(l,t)}Wy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Zy(t),t=t.sibling}function Zy(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&Ti(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,gc(t)):pl(t);break;default:pl(t)}}function gc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Pt=l,Jy(l,t)}Wy(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ti(8,r,r.return),gc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,gc(r));break;default:gc(r)}t=t.sibling}}function Jy(t,r){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Ti(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(Fy(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var bw={getCacheForType:function(t){var r=Kt(Rt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},ww=typeof WeakMap=="function"?WeakMap:Map,Ye=0,tt=null,De=null,Ue=0,Ke=0,yn=null,Ai=!1,Ma=!1,pd=!1,Gr=0,ht=0,Si=0,ks=0,gd=0,Mn=0,Va=0,gl=null,ln=null,yd=!1,_d=0,yc=1/0,_c=null,xi=null,Ht=0,Ri=null,Pa=null,ka=0,vd=0,Ed=null,e_=null,yl=0,Td=null;function _n(){if((Ye&2)!==0&&Ue!==0)return Ue&-Ue;if(K.T!==null){var t=wa;return t!==0?t:Id()}return li()}function t_(){Mn===0&&(Mn=(Ue&536870912)===0||qe?xo():536870912);var t=On.current;return t!==null&&(t.flags|=32),Mn}function vn(t,r,a){(t===tt&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(La(t,0),Ii(t,Ue,Mn,!1)),wr(t,a),((Ye&2)===0||t!==tt)&&(t===tt&&((Ye&2)===0&&(ks|=a),ht===4&&Ii(t,Ue,Mn,!1)),cr(t))}function n_(t,r,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ls(t,r),h=l?xw(t,r):Ad(t,r,!0),d=l;do{if(h===0){Ma&&!l&&Ii(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Aw(a)){h=Ad(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var b=t;h=gl;var C=b.current.memoizedState.isDehydrated;if(C&&(La(b,v).flags|=256),v=Ad(b,v,!1),v!==2){if(pd&&!C){b.errorRecoveryDisabledLanes|=d,ks|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){La(t,0),Ii(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ii(l,r,Mn,!Ai);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=_d+300-bn(),10<h)){if(Ii(l,r,Mn,!Ai),ea(l,0,!0)!==0)break e;l.timeoutHandle=D_(r_.bind(null,l,a,ln,_c,yd,r,Mn,ks,Va,Ai,d,2,-0,0),h);break e}r_(l,a,ln,_c,yd,r,Mn,ks,Va,Ai,d,0,-0,0)}}break}while(!0);cr(t)}function r_(t,r,a,l,h,d,v,b,C,z,X,J,H,F){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:sA},$y(r),J=oA(),J!==null)){t.cancelPendingCommit=J(c_.bind(null,t,r,d,a,l,h,v,b,C,X,1,H,F)),Ii(t,d,v,!z);return}c_(t,r,d,a,l,h,v,b,C)}function Aw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ii(t,r,a,l){r&=~gd,r&=~ks,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Yt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Xn(t,a,r)}function vc(){return(Ye&6)===0?(_l(0),!1):!0}function bd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Lr=Ns=null,jf(t),Ca=null,ll=0,t=De;for(;t!==null;)ky(t.alternate,t),t=t.return;De=null}}function La(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,qw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),bd(),tt=t,De=a=Vr(t.current,null),Ue=r,Ke=0,yn=null,Ai=!1,Ma=ls(t,r),pd=!1,Va=Mn=gd=ks=Si=ht=0,ln=gl=null,yd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Yt(l),d=1<<h;r|=t[h],l&=~d}return Gr=r,Bu(),a}function i_(t,r){Ie=null,K.H=ac,r===Jo||r===$u?(r=Tg(),Ke=3):r===_g?(r=Tg(),Ke=4):Ke=r===by?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,yn=r,De===null&&(ht=1,hc(t,In(r,t.current)))}function s_(){var t=K.H;return K.H=ac,t===null?ac:t}function a_(){var t=K.A;return K.A=bw,t}function wd(){ht=4,Ai||(Ue&4194048)!==Ue&&On.current!==null||(Ma=!0),(Si&134217727)===0&&(ks&134217727)===0||tt===null||Ii(tt,Ue,Mn,!1)}function Ad(t,r,a){var l=Ye;Ye|=2;var h=s_(),d=a_();(tt!==t||Ue!==r)&&(_c=null,La(t,r)),r=!1;var v=ht;e:do try{if(Ke!==0&&De!==null){var b=De,C=yn;switch(Ke){case 8:bd(),v=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(r=!0);var z=Ke;if(Ke=0,yn=null,Ua(t,b,C,z),a&&Ma){v=0;break e}break;default:z=Ke,Ke=0,yn=null,Ua(t,b,C,z)}}Sw(),v=ht;break}catch(X){i_(t,X)}while(!0);return r&&t.shellSuspendCounter++,Lr=Ns=null,Ye=l,K.H=h,K.A=d,De===null&&(tt=null,Ue=0,Bu()),v}function Sw(){for(;De!==null;)o_(De)}function xw(t,r){var a=Ye;Ye|=2;var l=s_(),h=a_();tt!==t||Ue!==r?(_c=null,yc=bn()+500,La(t,r)):Ma=ls(t,r);e:do try{if(Ke!==0&&De!==null){r=De;var d=yn;t:switch(Ke){case 1:Ke=0,yn=null,Ua(t,r,d,1);break;case 2:case 9:if(vg(d)){Ke=0,yn=null,l_(r);break}r=function(){Ke!==2&&Ke!==9||tt!==t||(Ke=7),cr(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:vg(d)?(Ke=0,yn=null,l_(r)):(Ke=0,yn=null,Ua(t,r,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var b=De;if(!v||H_(v)){Ke=0,yn=null;var C=b.sibling;if(C!==null)De=C;else{var z=b.return;z!==null?(De=z,Ec(z)):De=null}break t}}Ke=0,yn=null,Ua(t,r,d,5);break;case 6:Ke=0,yn=null,Ua(t,r,d,6);break;case 8:bd(),ht=6;break e;default:throw Error(s(462))}}Rw();break}catch(X){i_(t,X)}while(!0);return Lr=Ns=null,K.H=l,K.A=h,Ye=a,De!==null?0:(tt=null,Ue=0,Bu(),ht)}function Rw(){for(;De!==null&&!bo();)o_(De)}function o_(t){var r=Vy(t.alternate,t,Gr);t.memoizedProps=t.pendingProps,r===null?Ec(t):De=r}function l_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Iy(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=Iy(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:jf(r);default:ky(a,r),r=De=ug(r,Gr),r=Vy(a,r,Gr)}t.memoizedProps=t.pendingProps,r===null?Ec(t):De=r}function Ua(t,r,a,l){Lr=Ns=null,jf(r),Ca=null,ll=0;var h=r.return;try{if(gw(t,h,r,a,Ue)){ht=1,hc(t,In(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,hc(t,In(a,t.current)),De=null;return}r.flags&32768?(qe||l===1?t=!0:Ma||(Ue&536870912)!==0?t=!1:(Ai=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),u_(r,t)):Ec(r)}function Ec(t){var r=t;do{if((r.flags&32768)!==0){u_(r,Ai);return}t=r.return;var a=_w(r.alternate,r,Gr);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);ht===0&&(ht=5)}function u_(t,r){do{var a=vw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function c_(t,r,a,l,h,d,v,b,C){t.cancelPendingCommit=null;do Tc();while(Ht!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=mf,Io(t,a,d,v,b,C),t===tt&&(De=tt=null,Ue=0),Pa=r,Ri=t,ka=a,vd=d,Ed=h,e_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Dw(is,function(){return p_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ae.p,ae.p=2,v=Ye,Ye|=4;try{Ew(t,r,a)}finally{Ye=v,ae.p=h,K.T=l}}Ht=1,h_(),f_(),d_()}}function h_(){if(Ht===1){Ht=0;var t=Ri,r=Pa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{Yy(r,t);var d=kd,v=Jp(t.containerInfo),b=d.focusedElem,C=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&Zp(b.ownerDocument.documentElement,b)){if(C!==null&&uf(b)){var z=C.start,X=C.end;if(X===void 0&&(X=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(X,b.value.length);else{var J=b.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var F=H.getSelection(),Ee=b.textContent.length,ye=Math.min(C.start,Ee),Ze=C.end===void 0?ye:Math.min(C.end,Ee);!F.extend&&ye>Ze&&(v=Ze,Ze=ye,ye=v);var L=Wp(b,ye),V=Wp(b,Ze);if(L&&V&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var j=J.createRange();j.setStart(L.node,L.offset),F.removeAllRanges(),ye>Ze?(F.addRange(j),F.extend(V.node,V.offset)):(j.setEnd(V.node,V.offset),F.addRange(j))}}}}for(J=[],F=b;F=F.parentNode;)F.nodeType===1&&J.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var W=J[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Mc=!!Pd,kd=Pd=null}finally{Ye=h,ae.p=l,K.T=a}}t.current=r,Ht=2}}function f_(){if(Ht===2){Ht=0;var t=Ri,r=Pa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ae.p;ae.p=2;var h=Ye;Ye|=4;try{Hy(t,r.alternate,r)}finally{Ye=h,ae.p=l,K.T=a}}Ht=3}}function d_(){if(Ht===4||Ht===3){Ht=0,gu();var t=Ri,r=Pa,a=ka,l=e_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ht=5:(Ht=0,Pa=Ri=null,m_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xi=null),ta(a),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ut,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=K.T,h=ae.p,ae.p=2,K.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{K.T=r,ae.p=h}}(ka&3)!==0&&Tc(),cr(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Td?yl++:(yl=0,Td=t):yl=0,_l(0)}}function m_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,Wo(r)))}function Tc(t){return h_(),f_(),d_(),p_()}function p_(){if(Ht!==5)return!1;var t=Ri,r=vd;vd=0;var a=ta(ka),l=K.T,h=ae.p;try{ae.p=32>a?32:a,K.T=null,a=Ed,Ed=null;var d=Ri,v=ka;if(Ht=0,Pa=Ri=null,ka=0,(Ye&6)!==0)throw Error(s(331));var b=Ye;if(Ye|=4,Zy(d.current),Xy(d,d.current,v,a),Ye=b,_l(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ut,d)}catch{}return!0}finally{ae.p=h,K.T=l,m_(t,r)}}function g_(t,r,a){r=In(a,r),r=Jf(t.stateNode,r,2),t=yi(t,r,2),t!==null&&(wr(t,2),cr(t))}function Je(t,r,a){if(t.tag===3)g_(t,t,a);else for(;r!==null;){if(r.tag===3){g_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xi===null||!xi.has(l))){t=In(a,t),a=Ey(2),l=yi(r,a,2),l!==null&&(Ty(a,l,r,t),wr(l,2),cr(l));break}}r=r.return}}function Sd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new ww;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(pd=!0,h.add(a),t=Iw.bind(null,t,r,a),r.then(t,t))}function Iw(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(Ue&a)===a&&(ht===4||ht===3&&(Ue&62914560)===Ue&&300>bn()-_d?(Ye&2)===0&&La(t,0):gd|=a,Va===Ue&&(Va=0)),cr(t)}function y_(t,r){r===0&&(r=Ro()),t=va(t,r),t!==null&&(wr(t,r),cr(t))}function Cw(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),y_(t,a)}function Nw(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),y_(t,a)}function Dw(t,r){return ns(t,r)}var bc=null,ja=null,xd=!1,wc=!1,Rd=!1,Ls=0;function cr(t){t!==ja&&t.next===null&&(ja===null?bc=ja=t:ja=ja.next=t),wc=!0,xd||(xd=!0,Mw())}function _l(t,r){if(!Rd&&wc){Rd=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Yt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,T_(l,d))}else d=Ue,d=ea(l,l===tt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ls(l,d)||(a=!0,T_(l,d));l=l.next}while(a);Rd=!1}}function Ow(){__()}function __(){wc=xd=!1;var t=0;Ls!==0&&(Bw()&&(t=Ls),Ls=0);for(var r=bn(),a=null,l=bc;l!==null;){var h=l.next,d=v_(l,r);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(ja=a)):(a=l,(t!==0||(d&3)!==0)&&(wc=!0)),l=h}_l(t)}function v_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Yt(d),b=1<<v,C=h[v];C===-1?((b&a)===0||(b&l)!==0)&&(h[v]=So(b,r)):C<=r&&(t.expiredLanes|=b),d&=~b}if(r=tt,a=Ue,a=ea(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ls(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&rs(l),ta(a)){case 2:case 8:a=Zs;break;case 32:a=is;break;case 268435456:a=Js;break;default:a=is}return l=E_.bind(null,t),a=ns(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&rs(l),t.callbackPriority=2,t.callbackNode=null,2}function E_(t,r){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Tc()&&t.callbackNode!==a)return null;var l=Ue;return l=ea(t,t===tt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(n_(t,l,r),v_(t,bn()),t.callbackNode!=null&&t.callbackNode===a?E_.bind(null,t):null)}function T_(t,r){if(Tc())return null;n_(t,r,!0)}function Mw(){Hw(function(){(Ye&6)!==0?ns(wo,Ow):__()})}function Id(){return Ls===0&&(Ls=xo()),Ls}function b_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:oa(""+t)}function w_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Vw(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=b_((h[yt]||null).action),v=l.submitter;v&&(r=(r=v[yt]||null)?b_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var b=new la("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var C=v?w_(h,v):new FormData(h);Kf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=v?w_(h,v):new FormData(h),Kf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Cd=0;Cd<df.length;Cd++){var Nd=df[Cd],Pw=Nd.toLowerCase(),kw=Nd[0].toUpperCase()+Nd.slice(1);Un(Pw,"on"+kw)}Un(ng,"onAnimationEnd"),Un(rg,"onAnimationIteration"),Un(ig,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(J0,"onTransitionRun"),Un(ew,"onTransitionStart"),Un(tw,"onTransitionCancel"),Un(sg,"onTransitionEnd"),Sr("onMouseEnter",["mouseout","mouseover"]),Sr("onMouseLeave",["mouseout","mouseover"]),Sr("onPointerEnter",["pointerout","pointerover"]),Sr("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function A_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var b=l[v],C=b.instance,z=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=z;try{d(h)}catch(X){cc(X)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(b=l[v],C=b.instance,z=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=z;try{d(h)}catch(X){cc(X)}h.currentTarget=null,d=C}}}}function Oe(t,r){var a=r[No];a===void 0&&(a=r[No]=new Set);var l=t+"__bubble";a.has(l)||(S_(r,t,2,!1),a.add(l))}function Dd(t,r,a){var l=0;r&&(l|=4),S_(a,t,l,r)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function Od(t){if(!t[Ac]){t[Ac]=!0,Do.forEach(function(a){a!=="selectionchange"&&(Lw.has(a)||Dd(a,!1,t),Dd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ac]||(r[Ac]=!0,Dd("selectionchange",!1,r))}}function S_(t,r,a,l){switch(X_(r)){case 2:var h=cA;break;case 8:h=hA;break;default:h=Qd}a=h.bind(null,r,a,t),h=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Md(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=Ar(b),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}b=b.parentNode}}l=l.return}xu(function(){var z=d,X=Sn(a),J=[];e:{var H=ag.get(t);if(H!==void 0){var F=la,Ee=t;switch(t){case"keypress":if(tr(a)===0)break e;case"keydown":case"keyup":F=ma;break;case"focusin":Ee="focus",F=ha;break;case"focusout":Ee="blur",F=ha;break;case"beforeblur":case"afterblur":F=ha;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Vu;break;case ng:case rg:case ig:F=fa;break;case sg:F=ku;break;case"scroll":case"scrollend":F=Ru;break;case"wheel":F=pa;break;case"copy":case"cut":case"paste":F=da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ho;break;case"toggle":case"beforetoggle":F=Uu}var ye=(r&4)!==0,Ze=!ye&&(t==="scroll"||t==="scrollend"),L=ye?H!==null?H+"Capture":null:H;ye=[];for(var V=z,j;V!==null;){var W=V;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||L===null||(W=gs(V,L),W!=null&&ye.push(El(V,W,j))),Ze)break;V=V.return}0<ye.length&&(H=new F(H,Ee,null,a,X),J.push({event:H,listeners:ye}))}}if((r&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&a!==Ir&&(Ee=a.relatedTarget||a.fromElement)&&(Ar(Ee)||Ee[wn]))break e;if((F||H)&&(H=X.window===X?X:(H=X.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Ee=a.relatedTarget||a.toElement,F=z,Ee=Ee?Ar(Ee):null,Ee!==null&&(Ze=u(Ee),ye=Ee.tag,Ee!==Ze||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):(F=null,Ee=z),F!==Ee)){if(ye=Rn,W="onMouseLeave",L="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ye=Ho,W="onPointerLeave",L="onPointerEnter",V="pointer"),Ze=F==null?H:Wn(F),j=Ee==null?H:Wn(Ee),H=new ye(W,V+"leave",F,a,X),H.target=Ze,H.relatedTarget=j,W=null,Ar(X)===z&&(ye=new ye(L,V+"enter",Ee,a,X),ye.target=j,ye.relatedTarget=Ze,W=ye),Ze=W,F&&Ee)t:{for(ye=F,L=Ee,V=0,j=ye;j;j=za(j))V++;for(j=0,W=L;W;W=za(W))j++;for(;0<V-j;)ye=za(ye),V--;for(;0<j-V;)L=za(L),j--;for(;V--;){if(ye===L||L!==null&&ye===L.alternate)break t;ye=za(ye),L=za(L)}ye=null}else ye=null;F!==null&&x_(J,H,F,ye,!1),Ee!==null&&Ze!==null&&x_(J,Ze,Ee,ye,!0)}}e:{if(H=z?Wn(z):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var ce=Gp;else if(xt(H))if(Qp)ce=$0;else{ce=K0;var Ne=Y0}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&ko(z.elementType)&&(ce=Gp):ce=X0;if(ce&&(ce=ce(t,z))){Mr(J,ce,a,X);break e}Ne&&Ne(t,H,z),t==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&fi(H,"number",H.value)}switch(Ne=z?Wn(z):window,t){case"focusin":(xt(Ne)||Ne.contentEditable==="true")&&(ga=Ne,cf=z,Qo=null);break;case"focusout":Qo=cf=ga=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,eg(J,a,X);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":eg(J,a,X)}var fe;if(ir)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else ke?Q(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(ke||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&ke&&(fe=Uo()):(er=X,di="value"in er?er.value:er.textContent,ke=!0)),Ne=Sc(z,_e),0<Ne.length&&(_e=new Bo(_e,t,null,a,X),J.push({event:_e,listeners:Ne}),fe?_e.data=fe:(fe=se(a),fe!==null&&(_e.data=fe)))),(fe=p?St(t,a):Le(t,a))&&(_e=Sc(z,"onBeforeInput"),0<_e.length&&(Ne=new Bo("onBeforeInput","beforeinput",null,a,X),J.push({event:Ne,listeners:_e}),Ne.data=fe)),Vw(J,t,z,a,X)}A_(J,r)})}function El(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Sc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=gs(t,a),h!=null&&l.unshift(El(t,h,d)),h=gs(t,r),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function x_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var b=a,C=b.alternate,z=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||z===null||(C=z,h?(z=gs(a,d),z!=null&&v.unshift(El(a,z,C))):h||(z=gs(a,d),z!=null&&v.push(El(a,z,C)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var Uw=/\r\n?/g,jw=/\u0000|\uFFFD/g;function R_(t){return(typeof t=="string"?t:""+t).replace(Uw,`
`).replace(jw,"")}function I_(t,r){return r=R_(r),R_(t)===r}function xc(){}function We(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&An(t,""+l);break;case"className":Zn(t,"class",l);break;case"tabIndex":Zn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(t,a,l);break;case"style":Po(t,l,d);break;case"data":if(r!=="object"){Zn(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=oa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&We(t,r,"name",h.name,h,null),We(t,r,"formEncType",h.formEncType,h,null),We(t,r,"formMethod",h.formMethod,h,null),We(t,r,"formTarget",h.formTarget,h,null)):(We(t,r,"encType",h.encType,h,null),We(t,r,"method",h.method,h,null),We(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=oa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=oa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),hi(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":hi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nf.get(a)||a,hi(t,a,l))}}function Vd(t,r,a,l,h,d){switch(a){case"style":Po(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!na.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[yt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):hi(t,a,l)}}}function Ft(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,d,v,a,null)}}h&&We(t,r,"srcSet",a.srcSet,a,null),l&&We(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var b=d=v=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":C=X;break;case"defaultChecked":z=X;break;case"value":d=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:We(t,r,l,X,a,null)}}ds(t,d,b,C,z,v,h,!1),aa(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:We(t,r,h,b,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Rr(t,!!l,r,!1):a!=null&&Rr(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(t,r,v,b,a,null)}ms(t,l,h,d),aa(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,r,C,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Oe(vl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:We(t,r,z,l,a,null)}return;default:if(ko(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Vd(t,r,X,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,r,b,l,a,null))}function zw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,C=null,z=null,X=null;for(F in a){var J=a[F];if(a.hasOwnProperty(F)&&J!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(F)||We(t,r,F,null,l,J)}}for(var H in l){var F=l[H];if(J=a[H],l.hasOwnProperty(H)&&(F!=null||J!=null))switch(H){case"type":d=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":X=F;break;case"value":v=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:F!==J&&We(t,r,H,F,l,J)}}fn(t,v,b,C,z,X,d,h);return;case"select":F=v=b=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":F=C;default:l.hasOwnProperty(d)||We(t,r,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==C&&We(t,r,h,d,l,C)}r=b,a=v,l=F,H!=null?Rr(t,!!a,H,!1):!!l!=!!a&&(r!=null?Rr(t,!!a,r,!0):Rr(t,!!a,a?[]:"",!1));return;case"textarea":F=H=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,r,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,r,v,h,l,d)}Xe(t,H,F);return;case"option":for(var Ee in a)if(H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:We(t,r,Ee,null,l,H)}for(C in l)if(H=l[C],F=a[C],l.hasOwnProperty(C)&&H!==F&&(H!=null||F!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(t,r,C,H,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)H=a[ye],a.hasOwnProperty(ye)&&H!=null&&!l.hasOwnProperty(ye)&&We(t,r,ye,null,l,H);for(z in l)if(H=l[z],F=a[z],l.hasOwnProperty(z)&&H!==F&&(H!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:We(t,r,z,H,l,F)}return;default:if(ko(r)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!l.hasOwnProperty(Ze)&&Vd(t,r,Ze,void 0,l,H);for(X in l)H=l[X],F=a[X],!l.hasOwnProperty(X)||H===F||H===void 0&&F===void 0||Vd(t,r,X,H,l,F);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&We(t,r,L,null,l,H);for(J in l)H=l[J],F=a[J],!l.hasOwnProperty(J)||H===F||H==null&&F==null||We(t,r,J,H,l,F)}var Pd=null,kd=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function C_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function N_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function Ld(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ud=null;function Bw(){var t=window.event;return t&&t.type==="popstate"?t===Ud?!1:(Ud=t,!0):(Ud=null,!1)}var D_=typeof setTimeout=="function"?setTimeout:void 0,qw=typeof clearTimeout=="function"?clearTimeout:void 0,O_=typeof Promise=="function"?Promise:void 0,Hw=typeof queueMicrotask=="function"?queueMicrotask:typeof O_<"u"?function(t){return O_.resolve(null).then(t).catch(Fw)}:D_;function Fw(t){setTimeout(function(){throw t})}function Ci(t){return t==="head"}function M_(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Tl(v.documentElement),a&2&&Tl(v.body),a&4)for(a=v.head,Tl(a),v=a.firstChild;v;){var b=v.nextSibling,C=v.nodeName;v[us]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(h===0){t.removeChild(d),Cl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Cl(r)}function jd(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":jd(a),ci(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Gw(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[us])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function Qw(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function zd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Yw(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var Bd=null;function V_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function P_(t,r,a){switch(r=Rc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ci(t)}var Vn=new Map,k_=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qr=ae.d;ae.d={f:Kw,r:Xw,D:$w,C:Ww,L:Zw,m:Jw,X:tA,S:eA,M:nA};function Kw(){var t=Qr.f(),r=vc();return t||r}function Xw(t){var r=$n(t);r!==null&&r.tag===5&&r.type==="form"?ny(r):Qr.r(t)}var Ba=typeof document>"u"?null:document;function L_(t,r,a){var l=Ba;if(l&&typeof r=="string"&&r){var h=_t(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),k_.has(h)||(k_.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),Ft(r,"link",t),ft(r),l.head.appendChild(r)))}}function $w(t){Qr.D(t),L_("dns-prefetch",t,null)}function Ww(t,r){Qr.C(t,r),L_("preconnect",t,r)}function Zw(t,r,a){Qr.L(t,r,a);var l=Ba;if(l&&t&&r){var h='link[rel="preload"][as="'+_t(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_t(a.imageSizes)+'"]')):h+='[href="'+_t(t)+'"]';var d=h;switch(r){case"style":d=qa(t);break;case"script":d=Ha(t)}Vn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Vn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(bl(d))||r==="script"&&l.querySelector(wl(d))||(r=l.createElement("link"),Ft(r,"link",t),ft(r),l.head.appendChild(r)))}}function Jw(t,r){Qr.m(t,r);var a=Ba;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ha(t)}if(!Vn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),Ft(l,"link",t),ft(l),a.head.appendChild(l)}}}function eA(t,r,a){Qr.S(t,r,a);var l=Ba;if(l&&t){var h=tn(l).hoistableStyles,d=qa(t);r=r||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(bl(d)))b.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Vn.get(d))&&qd(t,a);var C=v=l.createElement("link");ft(C),Ft(C,"link",t),C._p=new Promise(function(z,X){C.onload=z,C.onerror=X}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Cc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function tA(t,r){Qr.X(t,r);var a=Ba;if(a&&t){var l=tn(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0},r),(r=Vn.get(h))&&Hd(t,r),d=a.createElement("script"),ft(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function nA(t,r){Qr.M(t,r);var a=Ba;if(a&&t){var l=tn(a).hoistableScripts,h=Ha(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Vn.get(h))&&Hd(t,r),d=a.createElement("script"),ft(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function U_(t,r,a,l){var h=(h=be.current)?Ic(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=qa(a.href),a=tn(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=qa(a.href);var d=tn(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||rA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ha(a),a=tn(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function qa(t){return'href="'+_t(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function j_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function rA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Ft(r,"link",a),ft(r),t.head.appendChild(r))}function Ha(t){return'[src="'+_t(t)+'"]'}function wl(t){return"script[async]"+t}function z_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return r.instance=l,ft(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ft(l),Ft(l,"style",h),Cc(l,a.precedence,t),r.instance=l;case"stylesheet":h=qa(a.href);var d=t.querySelector(bl(h));if(d)return r.state.loading|=4,r.instance=d,ft(d),d;l=j_(a),(h=Vn.get(h))&&qd(l,h),d=(t.ownerDocument||t).createElement("link"),ft(d);var v=d;return v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),Ft(d,"link",l),r.state.loading|=4,Cc(d,a.precedence,t),r.instance=d;case"script":return d=Ha(a.src),(h=t.querySelector(wl(d)))?(r.instance=h,ft(h),h):(l=a,(h=Vn.get(d))&&(l=E({},a),Hd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ft(h),Ft(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Cc(l,a.precedence,t));return r.instance}function Cc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===r)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function qd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function Hd(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Nc=null;function B_(t,r,a){if(Nc===null){var l=new Map,h=Nc=new Map;h.set(a,l)}else h=Nc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[us]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function q_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function iA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function H_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function sA(){}function aA(t,r,a){if(Al===null)throw Error(s(475));var l=Al;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=qa(a.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Dc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ft(d);return}d=t.ownerDocument||t,a=j_(a),(h=Vn.get(h))&&qd(a,h),d=d.createElement("link"),ft(d);var v=d;v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),Ft(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Dc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function oA(){if(Al===null)throw Error(s(475));var t=Al;return t.stylesheets&&t.count===0&&Fd(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&Fd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Dc(){if(this.count--,this.count===0){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Oc=null;function Fd(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Oc=new Map,r.forEach(lA,t),Oc=null,Dc.call(t))}function lA(t,r){if(!(r.state.loading&4)){var a=Oc.get(t);if(a)var l=a.get(null);else{a=new Map,Oc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Sl={$$typeof:re,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function uA(t,r,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=br(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=br(0),this.hiddenUpdates=br(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function F_(t,r,a,l,h,d,v,b,C,z,X,J){return t=new uA(t,r,a,v,b,C,z,J),r=1,d===!0&&(r|=24),d=mn(3,null,null,r),t.current=d,d.stateNode=t,r=Sf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Cf(d),t}function G_(t){return t?(t=Ea,t):Ea}function Q_(t,r,a,l,h,d){h=G_(h),l.context===null?l.context=h:l.pendingContext=h,l=gi(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=yi(t,l,r),a!==null&&(vn(a,t,r),tl(a,t,r))}function Y_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function Gd(t,r){Y_(t,r),(t=t.alternate)&&Y_(t,r)}function K_(t){if(t.tag===13){var r=va(t,67108864);r!==null&&vn(r,t,67108864),Gd(t,67108864)}}var Mc=!0;function cA(t,r,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=2,Qd(t,r,a,l)}finally{ae.p=d,K.T=h}}function hA(t,r,a,l){var h=K.T;K.T=null;var d=ae.p;try{ae.p=8,Qd(t,r,a,l)}finally{ae.p=d,K.T=h}}function Qd(t,r,a,l){if(Mc){var h=Yd(l);if(h===null)Md(t,r,l,Vc,a),$_(t,l);else if(dA(h,t,r,a,l))l.stopPropagation();else if($_(t,l),r&4&&-1<fA.indexOf(t)){for(;h!==null;){var d=$n(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pn(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var C=1<<31-Yt(v);b.entanglements[1]|=C,v&=~C}cr(d),(Ye&6)===0&&(yc=bn()+500,_l(0))}}break;case 13:b=va(d,2),b!==null&&vn(b,d,2),vc(),Gd(d,2)}if(d=Yd(l),d===null&&Md(t,r,l,Vc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Md(t,r,l,null,a)}}function Yd(t){return t=Sn(t),Kd(t)}var Vc=null;function Kd(t){if(Vc=null,t=Ar(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Vc=t,null}function X_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($h()){case wo:return 2;case Zs:return 8;case is:case Wh:return 32;case Js:return 268435456;default:return 32}default:return 32}}var Xd=!1,Ni=null,Di=null,Oi=null,xl=new Map,Rl=new Map,Mi=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $_(t,r){switch(t){case"focusin":case"focusout":Ni=null;break;case"dragenter":case"dragleave":Di=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":xl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rl.delete(r.pointerId)}}function Il(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=$n(r),r!==null&&K_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function dA(t,r,a,l,h){switch(r){case"focusin":return Ni=Il(Ni,t,r,a,l,h),!0;case"dragenter":return Di=Il(Di,t,r,a,l,h),!0;case"mouseover":return Oi=Il(Oi,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return xl.set(d,Il(xl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Rl.set(d,Il(Rl.get(d)||null,t,r,a,l,h)),!0}return!1}function W_(t){var r=Ar(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,vu(t.priority,function(){if(a.tag===13){var l=_n();l=oi(l);var h=va(a,l);h!==null&&vn(h,a,l),Gd(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Yd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ir=l,a.target.dispatchEvent(l),Ir=null}else return r=$n(a),r!==null&&K_(r),t.blockedOn=a,!1;r.shift()}return!0}function Z_(t,r,a){Pc(t)&&a.delete(r)}function mA(){Xd=!1,Ni!==null&&Pc(Ni)&&(Ni=null),Di!==null&&Pc(Di)&&(Di=null),Oi!==null&&Pc(Oi)&&(Oi=null),xl.forEach(Z_),Rl.forEach(Z_)}function kc(t,r){t.blockedOn===r&&(t.blockedOn=null,Xd||(Xd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,mA)))}var Lc=null;function J_(t){Lc!==t&&(Lc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Lc===t&&(Lc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(Kd(l||a)===null)continue;break}var d=$n(a);d!==null&&(t.splice(r,3),r-=3,Kf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cl(t){function r(C){return kc(C,t)}Ni!==null&&kc(Ni,t),Di!==null&&kc(Di,t),Oi!==null&&kc(Oi,t),xl.forEach(r),Rl.forEach(r);for(var a=0;a<Mi.length;a++){var l=Mi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Mi.length&&(a=Mi[0],a.blockedOn===null);)W_(a),a.blockedOn===null&&Mi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[yt]||null;if(typeof d=="function")v||J_(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[yt]||null)b=v.formAction;else if(Kd(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),J_(a)}}}function $d(t){this._internalRoot=t}Uc.prototype.render=$d.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=_n();Q_(a,l,t,r,null,null)},Uc.prototype.unmount=$d.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Q_(t.current,2,null,t,null,null),vc(),r[wn]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var r=li();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Mi.length&&r!==0&&r<Mi[a].priority;a++);Mi.splice(a,0,t),a===0&&W_(t)}};var ev=e.version;if(ev!=="19.1.0")throw Error(s(527,ev,"19.1.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(r),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var pA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{ut=jc.inject(pA),Qe=jc}catch{}}return Dl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=gy,d=yy,v=_y,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=F_(t,1,!1,null,null,a,l,h,d,v,b,null),t[wn]=r.current,Od(t),new $d(r)},Dl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=gy,v=yy,b=_y,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),r=F_(t,1,!0,r,a??null,l,h,d,v,b,C,z),r.context=G_(null),a=r.current,l=_n(),l=oi(l),h=gi(l),h.callback=null,yi(a,h,l),a=l,r.current.lanes=a,wr(r,a),cr(r),t[wn]=r.current,Od(t),new Uc(r)},Dl.version="19.1.0",Dl}var cv;function xA(){if(cv)return Jd.exports;cv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Jd.exports=SA(),Jd.exports}var RA=xA();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hv="popstate";function IA(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return ym("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Hl(o)}return NA(e,n,null,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function gr(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function CA(){return Math.random().toString(36).substring(2,10)}function fv(i,e){return{usr:i.state,key:i.key,idx:e}}function ym(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?lo(e):e,state:n,key:e&&e.key||s||CA()}}function Hl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function lo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function NA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",g=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function S(){m="POP";let G=E(),$=G==null?null:G-y;y=G,g&&g({action:m,location:Y.location,delta:$})}function A(G,$){m="PUSH";let ne=ym(Y.location,G,$);y=E()+1;let re=fv(ne,y),pe=Y.createHref(ne);try{f.pushState(re,"",pe)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(pe)}u&&g&&g({action:m,location:Y.location,delta:1})}function k(G,$){m="REPLACE";let ne=ym(Y.location,G,$);y=E();let re=fv(ne,y),pe=Y.createHref(ne);f.replaceState(re,"",pe),u&&g&&g({action:m,location:Y.location,delta:0})}function B(G){return DA(G)}let Y={get action(){return m},get location(){return i(o,f)},listen(G){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(hv,S),g=G,()=>{o.removeEventListener(hv,S),g=null}},createHref(G){return e(o,G)},createURL:B,encodeLocation(G){let $=B(G);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:A,replace:k,go(G){return f.go(G)}};return Y}function DA(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Hl(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function YE(i,e,n="/"){return OA(i,e,n,!1)}function OA(i,e,n,s){let o=typeof e=="string"?lo(e):e,u=Jr(o.pathname||"/",n);if(u==null)return null;let f=KE(i);MA(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let y=FA(u);m=qA(f[g],y,s)}return m}function KE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};g.relativePath.startsWith("/")&&(ot(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let y=$r([s,g.relativePath]),E=n.concat(g);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),KE(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:zA(y,u.index),routesMeta:E})};return i.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of XE(u.path))o(u,f,m)}),e}function XE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=XE(s.join("/")),m=[];return m.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function MA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:BA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var VA=/^:[\w-]+$/,PA=3,kA=2,LA=1,UA=10,jA=-2,dv=i=>i==="*";function zA(i,e){let n=i.split("/"),s=n.length;return n.some(dv)&&(s+=jA),e&&(s+=kA),n.filter(o=>!dv(o)).reduce((o,u)=>o+(VA.test(u)?PA:u===""?LA:UA),s)}function BA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function qA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],y=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",S=ih({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},E),A=g.route;if(!S&&y&&n&&!s[s.length-1].route.index&&(S=ih({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},E)),!S)return null;Object.assign(o,S.params),f.push({params:o,pathname:$r([u,S.pathname]),pathnameBase:KA($r([u,S.pathnameBase])),route:A}),S.pathnameBase!=="/"&&(u=$r([u,S.pathnameBase]))}return f}function ih(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=HA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:E,isOptional:S},A)=>{if(E==="*"){let B=m[A]||"";f=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const k=m[A];return S&&!k?y[E]=void 0:y[E]=(k||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:i}}function HA(i,e=!1,n=!0){gr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function FA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Jr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function GA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?lo(i):i;return{pathname:n?n.startsWith("/")?n:QA(n,e):e,search:XA(s),hash:$A(o)}}function QA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $E(i){let e=YA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function WE(i,e,n,s=!1){let o;typeof i=="string"?o=lo(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),rm("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),rm("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),rm("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let S=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),S-=1;o.pathname=A.join("/")}m=S>=0?e[S]:"/"}let g=GA(o,m),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||E)&&(g.pathname+="/"),g}var $r=i=>i.join("/").replace(/\/\/+/g,"/"),KA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),XA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,$A=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function WA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var ZE=["POST","PUT","PATCH","DELETE"];new Set(ZE);var ZA=["GET",...ZE];new Set(ZA);var uo=q.createContext(null);uo.displayName="DataRouter";var Sh=q.createContext(null);Sh.displayName="DataRouterState";q.createContext(!1);var JE=q.createContext({isTransitioning:!1});JE.displayName="ViewTransition";var JA=q.createContext(new Map);JA.displayName="Fetchers";var eS=q.createContext(null);eS.displayName="Await";var vr=q.createContext(null);vr.displayName="Navigation";var eu=q.createContext(null);eu.displayName="Location";var Er=q.createContext({outlet:null,matches:[],isDataRoute:!1});Er.displayName="Route";var Qm=q.createContext(null);Qm.displayName="RouteError";function tS(i,{relative:e}={}){ot(tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(vr),{hash:o,pathname:u,search:f}=nu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:$r([n,u])),s.createHref({pathname:m,search:f,hash:o})}function tu(){return q.useContext(eu)!=null}function Wi(){return ot(tu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(eu).location}var eT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tT(i){q.useContext(vr).static||q.useLayoutEffect(i)}function co(){let{isDataRoute:i}=q.useContext(Er);return i?mS():nS()}function nS(){ot(tu(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(uo),{basename:e,navigator:n}=q.useContext(vr),{matches:s}=q.useContext(Er),{pathname:o}=Wi(),u=JSON.stringify($E(s)),f=q.useRef(!1);return tT(()=>{f.current=!0}),q.useCallback((g,y={})=>{if(gr(f.current,eT),!f.current)return;if(typeof g=="number"){n.go(g);return}let E=WE(g,JSON.parse(u),o,y.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$r([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,o,i])}q.createContext(null);function nT(){let{matches:i}=q.useContext(Er),e=i[i.length-1];return e?e.params:{}}function nu(i,{relative:e}={}){let{matches:n}=q.useContext(Er),{pathname:s}=Wi(),o=JSON.stringify($E(n));return q.useMemo(()=>WE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function rS(i,e){return rT(i,e)}function rT(i,e,n,s){ot(tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=q.useContext(vr),{matches:u}=q.useContext(Er),f=u[u.length-1],m=f?f.params:{},g=f?f.pathname:"/",y=f?f.pathnameBase:"/",E=f&&f.route;{let $=E&&E.path||"";iT(g,!E||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let S=Wi(),A;if(e){let $=typeof e=="string"?lo(e):e;ot(y==="/"||$.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${$.pathname}" was given in the \`location\` prop.`),A=$}else A=S;let k=A.pathname||"/",B=k;if(y!=="/"){let $=y.replace(/^\//,"").split("/");B="/"+k.replace(/^\//,"").split("/").slice($.length).join("/")}let Y=YE(i,{pathname:B});gr(E||Y!=null,`No routes matched location "${A.pathname}${A.search}${A.hash}" `),gr(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${A.pathname}${A.search}${A.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=lS(Y&&Y.map($=>Object.assign({},$,{params:Object.assign({},m,$.params),pathname:$r([y,o.encodeLocation?o.encodeLocation($.pathname).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?y:$r([y,o.encodeLocation?o.encodeLocation($.pathnameBase).pathname:$.pathnameBase])})),u,n,s);return e&&G?q.createElement(eu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...A},navigationType:"POP"}},G):G}function iS(){let i=dS(),e=WA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=q.createElement(q.Fragment,null,q.createElement("p",null," Hey developer "),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var sS=q.createElement(iS,null),aS=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?q.createElement(Er.Provider,{value:this.props.routeContext},q.createElement(Qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oS({routeContext:i,match:e,children:n}){let s=q.useContext(uo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Er.Provider,{value:i},n)}function lS(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n?.errors;if(u!=null){let g=o.findIndex(y=>y.route.id&&u?.[y.route.id]!==void 0);ot(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<o.length;g++){let y=o[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=g),y.route.id){let{loaderData:E,errors:S}=n,A=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((g,y,E)=>{let S,A=!1,k=null,B=null;n&&(S=u&&y.route.id?u[y.route.id]:void 0,k=y.route.errorElement||sS,f&&(m<0&&E===0?(iT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,B=null):m===E&&(A=!0,B=y.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,E+1)),G=()=>{let $;return S?$=k:A?$=B:y.route.Component?$=q.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=g,q.createElement(oS,{match:y,routeContext:{outlet:g,matches:Y,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?q.createElement(aS,{location:n.location,revalidation:n.revalidation,component:k,error:S,children:G(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):G()},null)}function Ym(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uS(i){let e=q.useContext(uo);return ot(e,Ym(i)),e}function cS(i){let e=q.useContext(Sh);return ot(e,Ym(i)),e}function hS(i){let e=q.useContext(Er);return ot(e,Ym(i)),e}function Km(i){let e=hS(i),n=e.matches[e.matches.length-1];return ot(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function fS(){return Km("useRouteId")}function dS(){let i=q.useContext(Qm),e=cS("useRouteError"),n=Km("useRouteError");return i!==void 0?i:e.errors?.[n]}function mS(){let{router:i}=uS("useNavigate"),e=Km("useNavigate"),n=q.useRef(!1);return tT(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{gr(n.current,eT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var mv={};function iT(i,e,n){!e&&!mv[i]&&(mv[i]=!0,gr(!1,n))}q.memo(pS);function pS({routes:i,future:e,state:n}){return rT(i,void 0,n,e)}function Bn(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gS({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ot(!tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=lo(n));let{pathname:g="/",search:y="",hash:E="",state:S=null,key:A="default"}=n,k=q.useMemo(()=>{let B=Jr(g,f);return B==null?null:{location:{pathname:B,search:y,hash:E,state:S,key:A},navigationType:s}},[f,g,y,E,S,A,s]);return gr(k!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:q.createElement(vr.Provider,{value:m},q.createElement(eu.Provider,{children:e,value:k}))}function yS({children:i,location:e}){return rS(_m(i),e)}function _m(i,e=[]){let n=[];return q.Children.forEach(i,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,_m(s.props.children,u));return}ot(s.type===Bn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=_m(s.props.children,u)),n.push(f)}),n}var Yc="get",Kc="application/x-www-form-urlencoded";function xh(i){return i!=null&&typeof i.tagName=="string"}function _S(i){return xh(i)&&i.tagName.toLowerCase()==="button"}function vS(i){return xh(i)&&i.tagName.toLowerCase()==="form"}function ES(i){return xh(i)&&i.tagName.toLowerCase()==="input"}function TS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function bS(i,e){return i.button===0&&(!e||e==="_self")&&!TS(i)}var zc=null;function wS(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var AS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function im(i){return i!=null&&!AS.has(i)?(gr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kc}"`),null):i}function SS(i,e){let n,s,o,u,f;if(vS(i)){let m=i.getAttribute("action");s=m?Jr(m,e):null,n=i.getAttribute("method")||Yc,o=im(i.getAttribute("enctype"))||Kc,u=new FormData(i)}else if(_S(i)||ES(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Jr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Yc,o=im(i.getAttribute("formenctype"))||im(m.getAttribute("enctype"))||Kc,u=new FormData(m,i),!wS()){let{name:y,type:E,value:S}=i;if(E==="image"){let A=y?`${y}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else y&&u.append(y,S)}}else{if(xh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Yc,s=null,o=Kc,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Xm(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function xS(i,e,n){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Jr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function RS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function IS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function CS(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await RS(u,n);return f.links?f.links():[]}return[]}));return MS(s.flat(1).filter(IS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pv(i,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,m=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||m(g,y)):u==="data"?e.filter((g,y)=>{let E=s.routes[g.route.id];if(!E||!E.hasLoader)return!1;if(f(g,y)||m(g,y))return!0;if(g.route.shouldRevalidate){let S=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function NS(i,e,{includeHydrateFallback:n}={}){return DS(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function DS(i){return[...new Set(i)]}function OS(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function MS(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(OS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function sT(){let i=q.useContext(uo);return Xm(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function VS(){let i=q.useContext(Sh);return Xm(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var $m=q.createContext(void 0);$m.displayName="FrameworkContext";function aT(){let i=q.useContext($m);return Xm(i,"You must render this element inside a <HydratedRouter> element"),i}function PS(i,e){let n=q.useContext($m),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:y,onMouseLeave:E,onTouchStart:S}=e,A=q.useRef(null);q.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Y=$=>{$.forEach(ne=>{f(ne.isIntersecting)})},G=new IntersectionObserver(Y,{threshold:.5});return A.current&&G.observe(A.current),()=>{G.disconnect()}}},[i]),q.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},B=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Ol(m,k),onBlur:Ol(g,B),onMouseEnter:Ol(y,k),onMouseLeave:Ol(E,B),onTouchStart:Ol(S,k)}]:[!1,A,{}]}function Ol(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function kS({page:i,...e}){let{router:n}=sT(),s=q.useMemo(()=>YE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?q.createElement(US,{page:i,matches:s,...e}):null}function LS(i){let{manifest:e,routeModules:n}=aT(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return CS(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function US({page:i,matches:e,...n}){let s=Wi(),{manifest:o,routeModules:u}=aT(),{basename:f}=sT(),{loaderData:m,matches:g}=VS(),y=q.useMemo(()=>pv(i,e,g,o,s,"data"),[i,e,g,o,s]),E=q.useMemo(()=>pv(i,e,g,o,s,"assets"),[i,e,g,o,s]),S=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let B=new Set,Y=!1;if(e.forEach($=>{let ne=o.routes[$.route.id];!ne||!ne.hasLoader||(!y.some(re=>re.route.id===$.route.id)&&$.route.id in m&&u[$.route.id]?.shouldRevalidate||ne.hasClientLoader?Y=!0:B.add($.route.id))}),B.size===0)return[];let G=xS(i,f,"data");return Y&&B.size>0&&G.searchParams.set("_routes",e.filter($=>B.has($.route.id)).map($=>$.route.id).join(",")),[G.pathname+G.search]},[f,m,s,o,y,e,i,u]),A=q.useMemo(()=>NS(E,o),[E,o]),k=LS(E);return q.createElement(q.Fragment,null,S.map(B=>q.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...n})),A.map(B=>q.createElement("link",{key:B,rel:"modulepreload",href:B,...n})),k.map(({key:B,link:Y})=>q.createElement("link",{key:B,...Y})))}function jS(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var oT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{oT&&(window.__reactRouterVersion="7.7.1")}catch{}function zS({basename:i,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=IA({window:n,v5Compat:!0}));let o=s.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(g=>{q.startTransition(()=>f(g))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(gS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var lT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ct=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:g,to:y,preventScrollReset:E,viewTransition:S,...A},k){let{basename:B}=q.useContext(vr),Y=typeof y=="string"&&lT.test(y),G,$=!1;if(typeof y=="string"&&Y&&(G=y,oT))try{let x=new URL(window.location.href),N=y.startsWith("//")?new URL(x.protocol+y):new URL(y),O=Jr(N.pathname,B);N.origin===x.origin&&O!=null?y=O+N.search+N.hash:$=!0}catch{gr(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=tS(y,{relative:o}),[re,pe,he]=PS(s,A),Se=FS(y,{replace:f,state:m,target:g,preventScrollReset:E,relative:o,viewTransition:S});function P(x){e&&e(x),x.defaultPrevented||Se(x)}let R=q.createElement("a",{...A,...he,href:G||ne,onClick:$||u?e:P,ref:jS(k,pe),target:g,"data-discover":!Y&&n==="render"?"true":void 0});return re&&!Y?q.createElement(q.Fragment,null,R,q.createElement(kS,{page:ne})):R});Ct.displayName="Link";var BS=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:g,...y},E){let S=nu(f,{relative:y.relative}),A=Wi(),k=q.useContext(Sh),{navigator:B,basename:Y}=q.useContext(vr),G=k!=null&&XS(S)&&m===!0,$=B.encodeLocation?B.encodeLocation(S).pathname:S.pathname,ne=A.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),re=re?re.toLowerCase():null,$=$.toLowerCase()),re&&Y&&(re=Jr(re,Y)||re);const pe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let he=ne===$||!o&&ne.startsWith($)&&ne.charAt(pe)==="/",Se=re!=null&&(re===$||!o&&re.startsWith($)&&re.charAt($.length)==="/"),P={isActive:he,isPending:Se,isTransitioning:G},R=he?e:void 0,x;typeof s=="function"?x=s(P):x=[s,he?"active":null,Se?"pending":null,G?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(P):u;return q.createElement(Ct,{...y,"aria-current":R,className:x,ref:E,style:N,to:f,viewTransition:m},typeof g=="function"?g(P):g)});BS.displayName="NavLink";var qS=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Yc,action:m,onSubmit:g,relative:y,preventScrollReset:E,viewTransition:S,...A},k)=>{let B=YS(),Y=KS(m,{relative:y}),G=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&lT.test(m),ne=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let pe=re.nativeEvent.submitter,he=pe?.getAttribute("formmethod")||f;B(pe||re.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:y,preventScrollReset:E,viewTransition:S})};return q.createElement("form",{ref:k,method:G,action:Y,onSubmit:s?g:ne,...A,"data-discover":!$&&i==="render"?"true":void 0})});qS.displayName="Form";function HS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function uT(i){let e=q.useContext(uo);return ot(e,HS(i)),e}function FS(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=co(),g=Wi(),y=nu(i,{relative:u});return q.useCallback(E=>{if(bS(E,e)){E.preventDefault();let S=n!==void 0?n:Hl(g)===Hl(y);m(i,{replace:S,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,m,y,n,s,e,i,o,u,f])}var GS=0,QS=()=>`__${String(++GS)}__`;function YS(){let{router:i}=uT("useSubmit"),{basename:e}=q.useContext(vr),n=fS();return q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:g,body:y}=SS(s,e);if(o.navigate===!1){let E=o.fetcherKey||QS();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function KS(i,{relative:e}={}){let{basename:n}=q.useContext(vr),s=q.useContext(Er);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(i||".",{relative:e})},f=Wi();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(E=>E==="")){m.delete("index"),g.filter(S=>S).forEach(S=>m.append("index",S));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:$r([n,u.pathname])),Hl(u)}function XS(i,{relative:e}={}){let n=q.useContext(JE);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=uT("useViewTransitionState"),o=nu(i,{relative:e});if(!n.isTransitioning)return!1;let u=Jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ih(o.pathname,f)!=null||ih(o.pathname,u)!=null}const $S=()=>{const{pathname:i}=Wi();return q.useEffect(()=>{window.scrollTo(0,0)},[i]),null},WS=()=>{};var gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ZS=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,g=o+2<i.length,y=g?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let A=(m&15)<<2|y>>6,k=y&63;g||(k=64,f||(A=64)),s.push(n[E],n[S],n[A],n[k])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(cT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):ZS(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const y=o<i.length?n[i.charAt(o)]:64;++o;const S=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||y==null||S==null)throw new JS;const A=u<<2|m>>4;if(s.push(A),y!==64){const k=m<<4&240|y>>2;if(s.push(k),S!==64){const B=y<<6&192|S;s.push(B)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class JS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e1=function(i){const e=cT(i);return hT.encodeByteArray(e,!0)},sh=function(i){return e1(i).replace(/\./g,"")},fT=function(i){try{return hT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=()=>t1().__FIREBASE_DEFAULTS__,r1=()=>{if(typeof process>"u"||typeof gv>"u")return;const i=gv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},i1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&fT(i[1]);return e&&JSON.parse(e)},Rh=()=>{try{return WS()||n1()||r1()||i1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},dT=i=>Rh()?.emulatorHosts?.[i],s1=i=>{const e=dT(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},mT=()=>Rh()?.config,pT=i=>Rh()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gT(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[sh(JSON.stringify(n)),sh(JSON.stringify(f)),""].join(".")}const kl={};function l1(){const i={prod:[],emulator:[]};for(const e of Object.keys(kl))kl[e]?i.emulator.push(e):i.prod.push(e);return i}function u1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let yv=!1;function yT(i,e){if(typeof window>"u"||typeof document>"u"||!ho(window.location.host)||kl[i]===e||kl[i]||yv)return;kl[i]=e;function n(A){return`__firebase__banner__${A}`}const s="__firebase__banner",u=l1().prod.length>0;function f(){const A=document.getElementById(s);A&&A.remove()}function m(A){A.style.display="flex",A.style.background="#7faaf0",A.style.position="fixed",A.style.bottom="5px",A.style.left="5px",A.style.padding=".5em",A.style.borderRadius="5px",A.style.alignItems="center"}function g(A,k){A.setAttribute("width","24"),A.setAttribute("id",k),A.setAttribute("height","24"),A.setAttribute("viewBox","0 0 24 24"),A.setAttribute("fill","none"),A.style.marginLeft="-6px"}function y(){const A=document.createElement("span");return A.style.cursor="pointer",A.style.marginLeft="16px",A.style.fontSize="24px",A.innerHTML=" &times;",A.onclick=()=>{yv=!0,f()},A}function E(A,k){A.setAttribute("id",k),A.innerText="Learn more",A.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",A.setAttribute("target","__blank"),A.style.paddingLeft="5px",A.style.textDecoration="underline"}function S(){const A=u1(s),k=n("text"),B=document.getElementById(k)||document.createElement("span"),Y=n("learnmore"),G=document.getElementById(Y)||document.createElement("a"),$=n("preprendIcon"),ne=document.getElementById($)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(A.created){const re=A.element;m(re),E(G,Y);const pe=y();g(ne,$),re.append(ne,B,G,pe),document.body.appendChild(re)}u?(B.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,B.innerText="Preview backend running in this workspace."),B.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function c1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function h1(){const i=Rh()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function f1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function d1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function m1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p1(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function g1(){return!h1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function y1(){try{return typeof indexedDB=="object"}catch{return!1}}function _1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="FirebaseError";class si extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=v1,Object.setPrototypeOf(this,si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?E1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new si(o,m,s)}}function E1(i,e){return i.replace(T1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const T1=/\{\$([^}]+)}/g;function b1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Fs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(_v(u)&&_v(f)){if(!Fs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function _v(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function w1(i,e){const n=new A1(i,e);return n.subscribe.bind(n)}class A1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");S1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=sm),o.error===void 0&&(o.error=sm),o.complete===void 0&&(o.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function S1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(i){return i&&i._delegate?i._delegate:i}class Gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new a1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I1(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:R1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R1(i){return i===Us?void 0:i}function I1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new x1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const N1={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},D1=Me.INFO,O1={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},M1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=O1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wm{constructor(e){this.name=e,this._logLevel=D1,this._logHandler=M1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const V1=(i,e)=>e.some(n=>i instanceof n);let vv,Ev;function P1(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k1(){return Ev||(Ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _T=new WeakMap,vm=new WeakMap,vT=new WeakMap,am=new WeakMap,Zm=new WeakMap;function L1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(zi(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&_T.set(n,i)}).catch(()=>{}),Zm.set(e,i),e}function U1(i){if(vm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});vm.set(i,e)}let Em={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return vm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||vT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zi(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function j1(i){Em=i(Em)}function z1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(om(this),e,...n);return vT.set(s,e.sort?e.sort():[e]),zi(s)}:k1().includes(i)?function(...e){return i.apply(om(this),e),zi(_T.get(this))}:function(...e){return zi(i.apply(om(this),e))}}function B1(i){return typeof i=="function"?z1(i):(i instanceof IDBTransaction&&U1(i),V1(i,P1())?new Proxy(i,Em):i)}function zi(i){if(i instanceof IDBRequest)return L1(i);if(am.has(i))return am.get(i);const e=B1(i);return e!==i&&(am.set(i,e),Zm.set(e,i)),e}const om=i=>Zm.get(i);function q1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=zi(f);return s&&f.addEventListener("upgradeneeded",g=>{s(zi(f.result),g.oldVersion,g.newVersion,zi(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const H1=["get","getKey","getAll","getAllKeys","count"],F1=["put","add","delete","clear"],lm=new Map;function Tv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=F1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||H1.includes(n)))return;const u=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return lm.set(e,u),u}j1(i=>({...i,get:(e,n,s)=>Tv(e,n)||i.get(e,n,s),has:(e,n)=>!!Tv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Q1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Q1(i){return i.getComponent()?.type==="VERSION"}const Tm="@firebase/app",bv="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Wm("@firebase/app"),Y1="@firebase/app-compat",K1="@firebase/analytics-compat",X1="@firebase/analytics",$1="@firebase/app-check-compat",W1="@firebase/app-check",Z1="@firebase/auth",J1="@firebase/auth-compat",ex="@firebase/database",tx="@firebase/data-connect",nx="@firebase/database-compat",rx="@firebase/functions",ix="@firebase/functions-compat",sx="@firebase/installations",ax="@firebase/installations-compat",ox="@firebase/messaging",lx="@firebase/messaging-compat",ux="@firebase/performance",cx="@firebase/performance-compat",hx="@firebase/remote-config",fx="@firebase/remote-config-compat",dx="@firebase/storage",mx="@firebase/storage-compat",px="@firebase/firestore",gx="@firebase/ai",yx="@firebase/firestore-compat",_x="firebase",vx="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="[DEFAULT]",Ex={[Tm]:"fire-core",[Y1]:"fire-core-compat",[X1]:"fire-analytics",[K1]:"fire-analytics-compat",[W1]:"fire-app-check",[$1]:"fire-app-check-compat",[Z1]:"fire-auth",[J1]:"fire-auth-compat",[ex]:"fire-rtdb",[tx]:"fire-data-connect",[nx]:"fire-rtdb-compat",[rx]:"fire-fn",[ix]:"fire-fn-compat",[sx]:"fire-iid",[ax]:"fire-iid-compat",[ox]:"fire-fcm",[lx]:"fire-fcm-compat",[ux]:"fire-perf",[cx]:"fire-perf-compat",[hx]:"fire-rc",[fx]:"fire-rc-compat",[dx]:"fire-gcs",[mx]:"fire-gcs-compat",[px]:"fire-fst",[yx]:"fire-fst-compat",[gx]:"fire-vertex","fire-js":"fire-js",[_x]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,Tx=new Map,wm=new Map;function wv(i,e){try{i.container.addComponent(e)}catch(n){ei.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ja(i){const e=i.name;if(wm.has(e))return ei.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,i);for(const n of ah.values())wv(n,i);for(const n of Tx.values())wv(n,i);return!0}function Jm(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function qn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Bi=new ru("app","Firebase",bx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=vx;function ET(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s={name:bm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw Bi.create("bad-app-name",{appName:String(o)});if(n||(n=mT()),!n)throw Bi.create("no-options");const u=ah.get(o);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw Bi.create("duplicate-app",{appName:o})}const f=new C1(o);for(const g of wm.values())f.addComponent(g);const m=new wx(n,s,f);return ah.set(o,m),m}function TT(i=bm){const e=ah.get(i);if(!e&&i===bm&&mT())return ET();if(!e)throw Bi.create("no-app",{appName:i});return e}function qi(i,e,n){let s=Ex[i]??i;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ei.warn(f.join(" "));return}Ja(new Gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="firebase-heartbeat-database",Sx=1,Fl="firebase-heartbeat-store";let um=null;function bT(){return um||(um=q1(Ax,Sx,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Bi.create("idb-open",{originalErrorMessage:i.message})})),um}async function xx(i){try{const n=(await bT()).transaction(Fl),s=await n.objectStore(Fl).get(wT(i));return await n.done,s}catch(e){if(e instanceof si)ei.warn(e.message);else{const n=Bi.create("idb-get",{originalErrorMessage:e?.message});ei.warn(n.message)}}}async function Av(i,e){try{const s=(await bT()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(e,wT(i)),await s.done}catch(n){if(n instanceof si)ei.warn(n.message);else{const s=Bi.create("idb-set",{originalErrorMessage:n?.message});ei.warn(s.message)}}}function wT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=1024,Ix=30;class Cx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Dx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>Ix){const o=Ox(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sv(),{heartbeatsToSend:n,unsentEntries:s}=Nx(this._heartbeatsCache.heartbeats),o=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return ei.warn(e),""}}}function Sv(){return new Date().toISOString().substring(0,10)}function Nx(i,e=Rx){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),xv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),xv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Dx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return y1()?_1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await xx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Av(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xv(i){return sh(JSON.stringify({version:2,heartbeats:i})).length}function Ox(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(i){Ja(new Gs("platform-logger",e=>new G1(e),"PRIVATE")),Ja(new Gs("heartbeat",e=>new Cx(e),"PRIVATE")),qi(Tm,bv,i),qi(Tm,bv,"esm2020"),qi("fire-js","")}Mx("");var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hi,AT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function x(){}x.prototype=R.prototype,P.D=R.prototype,P.prototype=new x,P.prototype.constructor=P,P.C=function(N,O,D){for(var I=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)I[Ge-2]=arguments[Ge];return R.prototype[O].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,x){x||(x=0);var N=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)N[O]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(O=0;16>O;++O)N[O]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=P.g[0],x=P.g[1],O=P.g[2];var D=P.g[3],I=R+(D^x&(O^D))+N[0]+3614090360&4294967295;R=x+(I<<7&4294967295|I>>>25),I=D+(O^R&(x^O))+N[1]+3905402710&4294967295,D=R+(I<<12&4294967295|I>>>20),I=O+(x^D&(R^x))+N[2]+606105819&4294967295,O=D+(I<<17&4294967295|I>>>15),I=x+(R^O&(D^R))+N[3]+3250441966&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(D^x&(O^D))+N[4]+4118548399&4294967295,R=x+(I<<7&4294967295|I>>>25),I=D+(O^R&(x^O))+N[5]+1200080426&4294967295,D=R+(I<<12&4294967295|I>>>20),I=O+(x^D&(R^x))+N[6]+2821735955&4294967295,O=D+(I<<17&4294967295|I>>>15),I=x+(R^O&(D^R))+N[7]+4249261313&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(D^x&(O^D))+N[8]+1770035416&4294967295,R=x+(I<<7&4294967295|I>>>25),I=D+(O^R&(x^O))+N[9]+2336552879&4294967295,D=R+(I<<12&4294967295|I>>>20),I=O+(x^D&(R^x))+N[10]+4294925233&4294967295,O=D+(I<<17&4294967295|I>>>15),I=x+(R^O&(D^R))+N[11]+2304563134&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(D^x&(O^D))+N[12]+1804603682&4294967295,R=x+(I<<7&4294967295|I>>>25),I=D+(O^R&(x^O))+N[13]+4254626195&4294967295,D=R+(I<<12&4294967295|I>>>20),I=O+(x^D&(R^x))+N[14]+2792965006&4294967295,O=D+(I<<17&4294967295|I>>>15),I=x+(R^O&(D^R))+N[15]+1236535329&4294967295,x=O+(I<<22&4294967295|I>>>10),I=R+(O^D&(x^O))+N[1]+4129170786&4294967295,R=x+(I<<5&4294967295|I>>>27),I=D+(x^O&(R^x))+N[6]+3225465664&4294967295,D=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(D^R))+N[11]+643717713&4294967295,O=D+(I<<14&4294967295|I>>>18),I=x+(D^R&(O^D))+N[0]+3921069994&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(O^D&(x^O))+N[5]+3593408605&4294967295,R=x+(I<<5&4294967295|I>>>27),I=D+(x^O&(R^x))+N[10]+38016083&4294967295,D=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(D^R))+N[15]+3634488961&4294967295,O=D+(I<<14&4294967295|I>>>18),I=x+(D^R&(O^D))+N[4]+3889429448&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(O^D&(x^O))+N[9]+568446438&4294967295,R=x+(I<<5&4294967295|I>>>27),I=D+(x^O&(R^x))+N[14]+3275163606&4294967295,D=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(D^R))+N[3]+4107603335&4294967295,O=D+(I<<14&4294967295|I>>>18),I=x+(D^R&(O^D))+N[8]+1163531501&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(O^D&(x^O))+N[13]+2850285829&4294967295,R=x+(I<<5&4294967295|I>>>27),I=D+(x^O&(R^x))+N[2]+4243563512&4294967295,D=R+(I<<9&4294967295|I>>>23),I=O+(R^x&(D^R))+N[7]+1735328473&4294967295,O=D+(I<<14&4294967295|I>>>18),I=x+(D^R&(O^D))+N[12]+2368359562&4294967295,x=O+(I<<20&4294967295|I>>>12),I=R+(x^O^D)+N[5]+4294588738&4294967295,R=x+(I<<4&4294967295|I>>>28),I=D+(R^x^O)+N[8]+2272392833&4294967295,D=R+(I<<11&4294967295|I>>>21),I=O+(D^R^x)+N[11]+1839030562&4294967295,O=D+(I<<16&4294967295|I>>>16),I=x+(O^D^R)+N[14]+4259657740&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(x^O^D)+N[1]+2763975236&4294967295,R=x+(I<<4&4294967295|I>>>28),I=D+(R^x^O)+N[4]+1272893353&4294967295,D=R+(I<<11&4294967295|I>>>21),I=O+(D^R^x)+N[7]+4139469664&4294967295,O=D+(I<<16&4294967295|I>>>16),I=x+(O^D^R)+N[10]+3200236656&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(x^O^D)+N[13]+681279174&4294967295,R=x+(I<<4&4294967295|I>>>28),I=D+(R^x^O)+N[0]+3936430074&4294967295,D=R+(I<<11&4294967295|I>>>21),I=O+(D^R^x)+N[3]+3572445317&4294967295,O=D+(I<<16&4294967295|I>>>16),I=x+(O^D^R)+N[6]+76029189&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(x^O^D)+N[9]+3654602809&4294967295,R=x+(I<<4&4294967295|I>>>28),I=D+(R^x^O)+N[12]+3873151461&4294967295,D=R+(I<<11&4294967295|I>>>21),I=O+(D^R^x)+N[15]+530742520&4294967295,O=D+(I<<16&4294967295|I>>>16),I=x+(O^D^R)+N[2]+3299628645&4294967295,x=O+(I<<23&4294967295|I>>>9),I=R+(O^(x|~D))+N[0]+4096336452&4294967295,R=x+(I<<6&4294967295|I>>>26),I=D+(x^(R|~O))+N[7]+1126891415&4294967295,D=R+(I<<10&4294967295|I>>>22),I=O+(R^(D|~x))+N[14]+2878612391&4294967295,O=D+(I<<15&4294967295|I>>>17),I=x+(D^(O|~R))+N[5]+4237533241&4294967295,x=O+(I<<21&4294967295|I>>>11),I=R+(O^(x|~D))+N[12]+1700485571&4294967295,R=x+(I<<6&4294967295|I>>>26),I=D+(x^(R|~O))+N[3]+2399980690&4294967295,D=R+(I<<10&4294967295|I>>>22),I=O+(R^(D|~x))+N[10]+4293915773&4294967295,O=D+(I<<15&4294967295|I>>>17),I=x+(D^(O|~R))+N[1]+2240044497&4294967295,x=O+(I<<21&4294967295|I>>>11),I=R+(O^(x|~D))+N[8]+1873313359&4294967295,R=x+(I<<6&4294967295|I>>>26),I=D+(x^(R|~O))+N[15]+4264355552&4294967295,D=R+(I<<10&4294967295|I>>>22),I=O+(R^(D|~x))+N[6]+2734768916&4294967295,O=D+(I<<15&4294967295|I>>>17),I=x+(D^(O|~R))+N[13]+1309151649&4294967295,x=O+(I<<21&4294967295|I>>>11),I=R+(O^(x|~D))+N[4]+4149444226&4294967295,R=x+(I<<6&4294967295|I>>>26),I=D+(x^(R|~O))+N[11]+3174756917&4294967295,D=R+(I<<10&4294967295|I>>>22),I=O+(R^(D|~x))+N[2]+718787259&4294967295,O=D+(I<<15&4294967295|I>>>17),I=x+(D^(O|~R))+N[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,P.g[2]=P.g[2]+O&4294967295,P.g[3]=P.g[3]+D&4294967295}s.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var x=R-this.blockSize,N=this.B,O=this.h,D=0;D<R;){if(O==0)for(;D<=x;)o(this,P,D),D+=this.blockSize;if(typeof P=="string"){for(;D<R;)if(N[O++]=P.charCodeAt(D++),O==this.blockSize){o(this,N),O=0;break}}else for(;D<R;)if(N[O++]=P[D++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=R},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var x=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=x&255,x/=256;for(this.u(P),P=Array(16),R=x=0;4>R;++R)for(var N=0;32>N;N+=8)P[x++]=this.g[R]>>>N&255;return P};function u(P,R){var x=m;return Object.prototype.hasOwnProperty.call(x,P)?x[P]:x[P]=R(P)}function f(P,R){this.h=R;for(var x=[],N=!0,O=P.length-1;0<=O;O--){var D=P[O]|0;N&&D==R||(x[O]=D,N=!1)}this.g=x}var m={};function g(P){return-128<=P&&128>P?u(P,function(R){return new f([R|0],0>R?-1:0)}):new f([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return S;if(0>P)return G(y(-P));for(var R=[],x=1,N=0;P>=x;N++)R[N]=P/x|0,x*=4294967296;return new f(R,0)}function E(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return G(E(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=y(Math.pow(R,8)),N=S,O=0;O<P.length;O+=8){var D=Math.min(8,P.length-O),I=parseInt(P.substring(O,O+D),R);8>D?(D=y(Math.pow(R,D)),N=N.j(D).add(y(I))):(N=N.j(x),N=N.add(y(I)))}return N}var S=g(0),A=g(1),k=g(16777216);i=f.prototype,i.m=function(){if(Y(this))return-G(this).m();for(var P=0,R=1,x=0;x<this.g.length;x++){var N=this.i(x);P+=(0<=N?N:4294967296+N)*R,R*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(B(this))return"0";if(Y(this))return"-"+G(this).toString(P);for(var R=y(Math.pow(P,6)),x=this,N="";;){var O=pe(x,R).g;x=$(x,O.j(R));var D=((0<x.g.length?x.g[0]:x.h)>>>0).toString(P);if(x=O,B(x))return D+N;for(;6>D.length;)D="0"+D;N=D+N}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function B(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function Y(P){return P.h==-1}i.l=function(P){return P=$(this,P),Y(P)?-1:B(P)?0:1};function G(P){for(var R=P.g.length,x=[],N=0;N<R;N++)x[N]=~P.g[N];return new f(x,~P.h).add(A)}i.abs=function(){return Y(this)?G(this):this},i.add=function(P){for(var R=Math.max(this.g.length,P.g.length),x=[],N=0,O=0;O<=R;O++){var D=N+(this.i(O)&65535)+(P.i(O)&65535),I=(D>>>16)+(this.i(O)>>>16)+(P.i(O)>>>16);N=I>>>16,D&=65535,I&=65535,x[O]=I<<16|D}return new f(x,x[x.length-1]&-2147483648?-1:0)};function $(P,R){return P.add(G(R))}i.j=function(P){if(B(this)||B(P))return S;if(Y(this))return Y(P)?G(this).j(G(P)):G(G(this).j(P));if(Y(P))return G(this.j(G(P)));if(0>this.l(k)&&0>P.l(k))return y(this.m()*P.m());for(var R=this.g.length+P.g.length,x=[],N=0;N<2*R;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<P.g.length;O++){var D=this.i(N)>>>16,I=this.i(N)&65535,Ge=P.i(O)>>>16,Re=P.i(O)&65535;x[2*N+2*O]+=I*Re,ne(x,2*N+2*O),x[2*N+2*O+1]+=D*Re,ne(x,2*N+2*O+1),x[2*N+2*O+1]+=I*Ge,ne(x,2*N+2*O+1),x[2*N+2*O+2]+=D*Ge,ne(x,2*N+2*O+2)}for(N=0;N<R;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=R;N<2*R;N++)x[N]=0;return new f(x,0)};function ne(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function re(P,R){this.g=P,this.h=R}function pe(P,R){if(B(R))throw Error("division by zero");if(B(P))return new re(S,S);if(Y(P))return R=pe(G(P),R),new re(G(R.g),G(R.h));if(Y(R))return R=pe(P,G(R)),new re(G(R.g),R.h);if(30<P.g.length){if(Y(P)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var x=A,N=R;0>=N.l(P);)x=he(x),N=he(N);var O=Se(x,1),D=Se(N,1);for(N=Se(N,2),x=Se(x,2);!B(N);){var I=D.add(N);0>=I.l(P)&&(O=O.add(x),D=I),N=Se(N,1),x=Se(x,1)}return R=$(P,O.j(R)),new re(O,R)}for(O=S;0<=P.l(R);){for(x=Math.max(1,Math.floor(P.m()/R.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),D=y(x),I=D.j(R);Y(I)||0<I.l(P);)x-=N,D=y(x),I=D.j(R);B(D)&&(D=A),O=O.add(D),P=$(P,I)}return new re(O,P)}i.A=function(P){return pe(this,P).h},i.and=function(P){for(var R=Math.max(this.g.length,P.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)&P.i(N);return new f(x,this.h&P.h)},i.or=function(P){for(var R=Math.max(this.g.length,P.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)|P.i(N);return new f(x,this.h|P.h)},i.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)^P.i(N);return new f(x,this.h^P.h)};function he(P){for(var R=P.g.length+1,x=[],N=0;N<R;N++)x[N]=P.i(N)<<1|P.i(N-1)>>>31;return new f(x,P.h)}function Se(P,R){var x=R>>5;R%=32;for(var N=P.g.length-x,O=[],D=0;D<N;D++)O[D]=0<R?P.i(D+x)>>>R|P.i(D+x+1)<<32-R:P.i(D+x);return new f(O,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,AT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,Hi=f}).apply(typeof Rv<"u"?Rv:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ST,Ml,xT,Xc,Am,RT,IT,CT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var U=c[w];if(!(U in _))break e;_=_[U]}c=c[c.length-1],w=_[c],p=p(w),p!=w&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,w=!1,U={next:function(){if(!w&&_<c.length){var Q=_++;return{value:p(Q,c[Q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,_){return c.call.apply(c.bind,arguments)}function S(c,p,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,w),c.apply(p,U)}}return function(){return c.apply(p,arguments)}}function A(c,p,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,A.apply(null,arguments)}function k(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function B(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,U,Q){for(var se=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)se[ke-2]=arguments[ke];return p.prototype[U].apply(w,se)}}function Y(c){const p=c.length;if(0<p){const _=Array(p);for(let w=0;w<p;w++)_[w]=c[w];return _}return[]}function G(c,p){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(g(w)){const U=c.length||0,Q=w.length||0;c.length=U+Q;for(let se=0;se<Q;se++)c[U+se]=w[se]}else c.push(w)}}class ${constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ne(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var he=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function Se(c,p,_){for(const w in c)p.call(_,c[w],w,c)}function P(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function R(c){const p={};for(const _ in c)p[_]=c[_];return p}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,p){let _,w;for(let U=1;U<arguments.length;U++){w=arguments[U];for(_ in w)c[_]=w[_];for(let Q=0;Q<x.length;Q++)_=x[Q],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function O(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function D(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Be;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Ge{constructor(){this.h=this.g=null}add(p,_){const w=Re.get();w.set(p,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Re=new $(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,Be=new Ge,M=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(te)}};var te=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){D(_)}var p=Re;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Ce(c,p){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(he){e:{try{pe(p.nodeName);var U=!0;break e}catch{}U=!1}U||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}B(Ce,ie);var be={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Kn(c,p,_,w,U){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!w,this.ha=U,this.key=++et,this.da=this.fa=!1}function ai(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Tr(c){this.src=c,this.g={},this.h=0}Tr.prototype.add=function(c,p,_,w,U){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var se=ns(c,p,w,U);return-1<se?(p=c[se],_||(p.fa=!1)):(p=new Kn(p,this.src,Q,!!w,U),p.fa=_,c.push(p)),p};function ts(c,p){var _=p.type;if(_ in c.g){var w=c.g[_],U=Array.prototype.indexOf.call(w,p,void 0),Q;(Q=0<=U)&&Array.prototype.splice.call(w,U,1),Q&&(ai(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function ns(c,p,_,w){for(var U=0;U<c.length;++U){var Q=c[U];if(!Q.da&&Q.listener==p&&Q.capture==!!_&&Q.ha==w)return U}return-1}var rs="closure_lm_"+(1e6*Math.random()|0),bo={};function gu(c,p,_,w,U){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)gu(c,p[Q],_,w,U);return null}return _=yu(_),c&&c[Dt]?c.K(p,_,y(w)?!!w.capture:!1,U):bn(c,p,_,!1,w,U)}function bn(c,p,_,w,U,Q){if(!p)throw Error("Invalid event type");var se=y(U)?!!U.capture:!!U,ke=Js(c);if(ke||(c[rs]=ke=new Tr(c)),_=ke.add(p,_,w,se,Q),_.proxy)return _;if(w=$h(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)ge||(U=se),U===void 0&&(U=!1),c.addEventListener(p.toString(),w,U);else if(c.attachEvent)c.attachEvent(is(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function $h(){function c(_){return p.call(c.src,c.listener,_)}const p=Wh;return c}function wo(c,p,_,w,U){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)wo(c,p[Q],_,w,U);else w=y(w)?!!w.capture:!!w,_=yu(_),c&&c[Dt]?(c=c.i,p=String(p).toString(),p in c.g&&(Q=c.g[p],_=ns(Q,_,w,U),-1<_&&(ai(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[p],c.h--)))):c&&(c=Js(c))&&(p=c.g[p.toString()],c=-1,p&&(c=ns(p,_,w,U)),(_=-1<c?p[c]:null)&&Zs(_))}function Zs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Dt])ts(p.i,c);else{var _=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(_,w,c.capture):p.detachEvent?p.detachEvent(is(_),w):p.addListener&&p.removeListener&&p.removeListener(w),(_=Js(p))?(ts(_,c),_.h==0&&(_.src=null,p[rs]=null)):ai(c)}}}function is(c){return c in bo?bo[c]:bo[c]="on"+c}function Wh(c,p){if(c.da)c=!0;else{p=new Ce(p,this);var _=c.listener,w=c.ha||c.src;c.fa&&Zs(c),c=_.call(w,p)}return c}function Js(c){return c=c[rs],c instanceof Tr?c:null}var Ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function yu(c){return typeof c=="function"?c:(c[Ao]||(c[Ao]=function(p){return c.handleEvent(p)}),c[Ao])}function ut(){oe.call(this),this.i=new Tr(this),this.M=this,this.F=null}B(ut,oe),ut.prototype[Dt]=!0,ut.prototype.removeEventListener=function(c,p,_,w){wo(this,c,p,_,w)};function Qe(c,p){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new ie(p,c);else if(p instanceof ie)p.target=p.target||c;else{var U=p;p=new ie(w,c),N(p,U)}if(U=!0,_)for(var Q=_.length-1;0<=Q;Q--){var se=p.g=_[Q];U=hn(se,w,!0,p)&&U}if(se=p.g=c,U=hn(se,w,!0,p)&&U,U=hn(se,w,!1,p)&&U,_)for(Q=0;Q<_.length;Q++)se=p.g=_[Q],U=hn(se,w,!1,p)&&U}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],w=0;w<_.length;w++)ai(_[w]);delete c.g[p],c.h--}}this.F=null},ut.prototype.K=function(c,p,_,w){return this.i.add(String(c),p,!1,_,w)},ut.prototype.L=function(c,p,_,w){return this.i.add(String(c),p,!0,_,w)};function hn(c,p,_,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var U=!0,Q=0;Q<p.length;++Q){var se=p[Q];if(se&&!se.da&&se.capture==_){var ke=se.listener,St=se.ha||se.src;se.fa&&ts(c.i,se),U=ke.call(St,w)!==!1&&U}}return U&&!w.defaultPrevented}function Yt(c,p,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function _u(c){c.g=Yt(()=>{c.g=null,c.i&&(c.i=!1,_u(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Zh extends oe{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:_u(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ss(c){oe.call(this),this.h=c,this.g={}}B(ss,oe);var as=[];function os(c){Se(c.g,function(p,_){this.g.hasOwnProperty(_)&&Zs(p)},c),c.g={}}ss.prototype.N=function(){ss.aa.N.call(this),os(this)},ss.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=m.JSON.stringify,ea=m.JSON.parse,ls=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function So(){}So.prototype.h=null;function xo(c){return c.h||(c.h=c.i())}function Ro(){}var br={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){ie.call(this,"d")}B(wr,ie);function Io(){ie.call(this,"c")}B(Io,ie);var Xn={},Co=null;function oi(){return Co=Co||new ut}Xn.La="serverreachability";function ta(c){ie.call(this,Xn.La,c)}B(ta,ie);function li(c){const p=oi();Qe(p,new ta(p))}Xn.STAT_EVENT="statevent";function vu(c,p){ie.call(this,Xn.STAT_EVENT,c),this.stat=p}B(vu,ie);function it(c){const p=oi();Qe(p,new vu(p,c))}Xn.Ma="timingevent";function At(c,p){ie.call(this,Xn.Ma,c),this.size=p}B(At,ie);function yt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function No(c,p,_,w,U,Q){c.info(function(){if(c.g)if(Q)for(var se="",ke=Q.split("&"),St=0;St<ke.length;St++){var Le=ke[St].split("=");if(1<Le.length){var Mt=Le[0];Le=Le[1];var xt=Mt.split("_");se=2<=xt.length&&xt[1]=="type"?se+(Mt+"="+Le+"&"):se+(Mt+"=redacted&")}}else se=null;else se=Q;return"XMLHTTP REQ ("+w+") [attempt "+U+"]: "+p+`
`+_+`
`+se})}function Jh(c,p,_,w,U,Q,se){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+U+"]: "+p+`
`+_+`
`+Q+" "+se})}function ui(c,p,_,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+us(c,_)+(w?" "+w:"")})}function Eu(c,p){c.info(function(){return"TIMEOUT: "+p})}wn.prototype.info=function(){};function us(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var U=w[1];if(Array.isArray(U)&&!(1>U.length)){var Q=U[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var se=1;se<U.length;se++)U[se]=""}}}}return Pn(_)}catch{return p}}var ci={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ar={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Wn(){}B(Wn,So),Wn.prototype.g=function(){return new XMLHttpRequest},Wn.prototype.i=function(){return{}},$n=new Wn;function tn(c,p,_,w){this.j=c,this.i=p,this.l=_,this.R=w||1,this.U=new ss(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ft}function ft(){this.i=null,this.g="",this.h=!1}var Do={},na={};function kn(c,p,_){c.L=1,c.v=ms(fn(p)),c.m=_,c.P=!0,Sr(c,null)}function Sr(c,p){c.F=Date.now(),cs(c),c.A=fn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Lo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new ft,c.g=ku(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Zh(A(c.Y,c,c.g),c.O)),p=c.U,_=c.g,w=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(as[0]=U.toString()),U=as);for(var Q=0;Q<U.length;Q++){var se=gu(_,U[Q],w||p.handleEvent,!1,p.h||p);if(!se)break;p.g[se.key]=se}p=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),li(),No(c.i,c.u,c.A,c.l,c.R,c.m)}tn.prototype.ca=function(c){c=c.target;const p=this.M;p&&Rn(c)==3?p.j():this.Y(c)},tn.prototype.Y=function(c){try{if(c==this.g)e:{const xt=Rn(this.g);var p=this.g.Ba();const Mr=this.g.Z();if(!(3>xt)&&(xt!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||xt!=4||p==7||(p==8||0>=Mr?li(3):li(2)),hi(this);var _=this.g.Z();this.X=_;t:if(Tu(this)){var w=Iu(this.g);c="";var U=w.length,Q=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),Zn(this);var se="";break t}this.h.i=new m.TextDecoder}for(p=0;p<U;p++)this.h.h=!0,c+=this.h.i.decode(w[p],{stream:!(Q&&p==U-1)});w.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,Jh(this.i,this.u,this.A,this.l,this.R,xt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,St=this.g;if((ke=St.g?St.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(ke)){var Le=ke;break t}}Le=null}if(_=Le)ui(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,hs(this,_);else{this.o=!1,this.s=3,it(12),zt(this),Zn(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<se.length;)if(Bt=bu(this,se),Bt==na){xt==4&&(this.s=4,it(14),_=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Do){this.s=4,it(15),ui(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else ui(this.i,this.l,Bt,null),hs(this,Bt);if(Tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||se.length!=0||this.h.h||(this.s=1,it(16),_=!1),this.o=this.o&&_,!_)ui(this.i,this.l,se,"[Invalid Chunked Response]"),zt(this),Zn(this);else if(0<se.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),bs(Mt),Mt.M=!0,it(11))}}else ui(this.i,this.l,se,null),hs(this,se);xt==4&&zt(this),this.o&&!this.J&&(xt==4?Mu(this.j,this):(this.o=!1,cs(this)))}else sf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),zt(this),Zn(this)}}}catch{}finally{}};function Tu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bu(c,p){var _=c.C,w=p.indexOf(`
`,_);return w==-1?na:(_=Number(p.substring(_,w)),isNaN(_)?Do:(w+=1,w+_>p.length?na:(p=p.slice(w,w+_),c.C=w+_,p)))}tn.prototype.cancel=function(){this.J=!0,zt(this)};function cs(c){c.S=Date.now()+c.I,wu(c,c.I)}function wu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=yt(A(c.ba,c),p)}function hi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}tn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Eu(this.i,this.A),this.L!=2&&(li(),it(17)),zt(this),this.s=2,Zn(this)):wu(this,this.S-c)};function Zn(c){c.j.G==0||c.J||Mu(c.j,c)}function zt(c){hi(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,os(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function hs(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Oo(_.h,c))){if(!c.K&&Oo(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var U=w;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ma(_),fa(_);else break e;qo(_),it(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=yt(A(_.Za,_),6e3));if(1>=ia(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Or(_,11)}else if((c.K||_.g==c)&&ma(_),!ne(p))for(U=_.Da.g.parse(p),p=0;p<U.length;p++){let Le=U[p];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Mt=Le[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const xt=Le[4];xt!=null&&(_.Aa=xt,_.j.info("SVER="+_.Aa));const Mr=Le[5];Mr!=null&&typeof Mr=="number"&&0<Mr&&(w=1.5*Mr,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Bt=c.g;if(Bt){const sr=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(sr){var Q=w.h;Q.g||sr.indexOf("spdy")==-1&&sr.indexOf("quic")==-1&&sr.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(sa(Q,Q.h),Q.h=null))}if(w.D){const Fo=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(w.ya=Fo,Xe(w.I,w.D,Fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var se=c;if(w.qa=Pu(w,w.J?w.ia:null,w.W),se.K){nn(w.h,se);var ke=se,St=w.L;St&&(ke.I=St),ke.B&&(hi(ke),cs(ke)),w.g=se}else Du(w);0<_.i.length&&da(_)}else Le[0]!="stop"&&Le[0]!="close"||Or(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Or(_,7):zo(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}li(4)}catch{}}var Au=class{constructor(c,p){this.g=c,this.map=p}};function xr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ra(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ia(c){return c.h?1:c.g?c.g.size:0}function Oo(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function sa(c,p){c.g?c.g.add(p):c.h=p}function nn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}xr.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return Y(c.i)}function ef(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],_=c.length,w=0;w<_;w++)p.push(c[w]);return p}p=[],_=0;for(w in c)p[_++]=c[w];return p}function aa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const w in c)p[_++]=w;return p}}}function Vo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=aa(c),w=ef(c),U=w.length,Q=0;Q<U;Q++)p.call(void 0,w[Q],_&&_[Q],c)}var fs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tf(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),U=null;if(0<=w){var Q=c[_].substring(0,w);U=c[_].substring(w+1)}else Q=c[_];p(Q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,ds(this,c.j),this.o=c.o,this.g=c.g,fi(this,c.s),this.l=c.l;var p=c.i,_=new Ir;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Rr(this,_),this.m=c.m}else c&&(p=String(c).match(fs))?(this.h=!1,ds(this,p[1]||"",!0),this.o=An(p[2]||""),this.g=An(p[3]||"",!0),fi(this,p[4]),this.l=An(p[5]||"",!0),Rr(this,p[6]||"",!0),this.m=An(p[7]||"")):(this.h=!1,this.i=new Ir(null,this.h))}_t.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ps(p,Po,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ps(p,Po,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ps(_,_.charAt(0)=="/"?nf:ko,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ps(_,oa)),c.join("")};function fn(c){return new _t(c)}function ds(c,p,_){c.j=_?An(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function fi(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Rr(c,p,_){p instanceof Ir?(c.i=p,xu(c.i,c.h)):(_||(p=ps(p,rf)),c.i=new Ir(p,c.h))}function Xe(c,p,_){c.i.set(p,_)}function ms(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,Su),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Po=/[#\/\?@]/g,ko=/[#\?:]/g,nf=/[#\?]/g,rf=/[#\?@]/g,oa=/#/g;function Ir(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&tf(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}i=Ir.prototype,i.add=function(c,p){Sn(this),this.i=null,c=Jn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Cr(c,p){Sn(c),p=Jn(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Nr(c,p){return Sn(c),p=Jn(c,p),c.g.has(p)}i.forEach=function(c,p){Sn(this),this.g.forEach(function(_,w){_.forEach(function(U){c.call(p,U,w,this)},this)},this)},i.na=function(){Sn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let w=0;w<p.length;w++){const U=c[w];for(let Q=0;Q<U.length;Q++)_.push(p[w])}return _},i.V=function(c){Sn(this);let p=[];if(typeof c=="string")Nr(this,c)&&(p=p.concat(this.g.get(Jn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},i.set=function(c,p){return Sn(this),this.i=null,c=Jn(this,c),Nr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},i.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function Lo(c,p,_){Cr(c,p),0<_.length&&(c.i=null,c.g.set(Jn(c,p),Y(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var w=p[_];const Q=encodeURIComponent(String(w)),se=this.V(w);for(w=0;w<se.length;w++){var U=Q;se[w]!==""&&(U+="="+encodeURIComponent(String(se[w]))),c.push(U)}}return this.i=c.join("&")};function Jn(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function xu(c,p){p&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,w){var U=w.toLowerCase();w!=U&&(Cr(this,w),Lo(this,U,_))},c)),c.j=p}function gs(c,p){const _=new wn;if(m.Image){const w=new Image;w.onload=k(xn,_,"TestLoadImage: loaded",!0,p,w),w.onerror=k(xn,_,"TestLoadImage: error",!1,p,w),w.onabort=k(xn,_,"TestLoadImage: abort",!1,p,w),w.ontimeout=k(xn,_,"TestLoadImage: timeout",!1,p,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function Ln(c,p){const _=new wn,w=new AbortController,U=setTimeout(()=>{w.abort(),xn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(U),Q.ok?xn(_,"TestPingServer: ok",!0,p):xn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(U),xn(_,"TestPingServer: error",!1,p)})}function xn(c,p,_,w,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),w(_)}catch{}}function ys(){this.g=new ls}function er(c,p,_){const w=_||"";try{Vo(c,function(U,Q){let se=U;y(U)&&(se=Pn(U)),p.push(w+Q+"="+encodeURIComponent(se))})}catch(U){throw p.push(w+"type="+encodeURIComponent("_badmap")),U}}function di(c){this.l=c.Ub||null,this.j=c.eb||!1}B(di,So),di.prototype.g=function(){return new Dr(this.l,this.j)},di.prototype.i=function(c){return function(){return c}}({});function Dr(c,p){ut.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}B(Dr,ut),i=Dr.prototype,i.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,nr(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tr(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,nr(this)),this.g&&(this.readyState=3,nr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Uo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Uo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?tr(this):nr(this),this.readyState==3&&Uo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,tr(this))},i.Qa=function(c){this.g&&(this.response=c,tr(this))},i.ga=function(){this.g&&tr(this)};function tr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,nr(c)}i.setRequestHeader=function(c,p){this.u.append(c,p)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function nr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jo(c){let p="";return Se(c,function(_,w){p+=w,p+=":",p+=_,p+=`\r
`}),p}function Ot(c,p,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=jo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Xe(c,p,_))}function He(c){ut.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}B(He,ut);var la=/^https?$/i,_s=["POST","PUT"];i=He.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,p,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?xo(this.o):xo($n),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Q){Ru(this,Q);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var U in w)_.set(U,w[U]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())_.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(_s,p,void 0))||w||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,se]of _)this.g.setRequestHeader(Q,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Ru(this,Q)}};function Ru(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ua(c),rr(c)}function ua(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),rr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),rr(this,!0)),He.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ca(this):this.bb())},i.bb=function(){ca(this)};function ca(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)Yt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var w;if(w=se===0){var U=String(c.D).match(fs)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),w=!la.test(U?U.toLowerCase():"")}_=w}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var Q=2<Rn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ua(c)}}finally{rr(c)}}}}function rr(c,p){if(c.g){vs(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Qe(c,"ready");try{_.onreadystatechange=w}catch{}}}function vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),ea(p)}};function Iu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sf(c){const p={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ne(c[w]))continue;var _=O(c[w]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=p[U]||[];p[U]=Q,Q.push(_)}P(p,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Es(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function ha(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Es("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Es("baseRetryDelayMs",5e3,c),this.cb=Es("retryDelaySeedMs",1e4,c),this.Wa=Es("forwardChannelMaxRetries",2,c),this.wa=Es("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xr(c&&c.concurrentRequestLimit),this.Da=new ys,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ha.prototype,i.la=8,i.G=1,i.connect=function(c,p,_,w){it(0),this.W=c,this.H=p||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Pu(this,null,this.W),da(this)};function zo(c){if(Cu(c),c.G==3){var p=c.U++,_=fn(c.I);if(Xe(_,"SID",c.K),Xe(_,"RID",p),Xe(_,"TYPE","terminate"),Ts(c,_),p=new tn(c,c.j,p),p.L=2,p.v=ms(fn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=ku(p.j,null),p.g.ea(p.v)),p.F=Date.now(),cs(p)}Vu(c)}function fa(c){c.g&&(bs(c),c.g.cancel(),c.g=null)}function Cu(c){fa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ma(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function da(c){if(!ra(c.h)&&!c.s){c.s=!0;var p=c.Ga;ae||M(),me||(ae(),me=!0),Be.add(p,c),c.B=0}}function af(c,p){return ia(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=yt(A(c.Ga,c,p),Ho(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new tn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(U.H=Q,Q=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Nu(this,U,p),_=fn(this.I),Xe(_,"RID",c),Xe(_,"CVER",22),this.D&&Xe(_,"X-HTTP-Session-Id",this.D),Ts(this,_),Q&&(this.O?p="headers="+encodeURIComponent(String(jo(Q)))+"&"+p:this.m&&Ot(_,this.m,Q)),sa(this.h,U),this.Ua&&Xe(_,"TYPE","init"),this.P?(Xe(_,"$req",p),Xe(_,"SID","null"),U.T=!0,kn(U,_,null)):kn(U,_,p),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||ra(this.h)||Bo(this))};function Bo(c,p){var _;p?_=p.l:_=c.U++;const w=fn(c.I);Xe(w,"SID",c.K),Xe(w,"RID",_),Xe(w,"AID",c.T),Ts(c,w),c.m&&c.o&&Ot(w,c.m,c.o),_=new tn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Nu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sa(c.h,_),kn(_,w,p)}function Ts(c,p){c.H&&Se(c.H,function(_,w){Xe(p,w,_)}),c.l&&Vo({},function(_,w){Xe(p,w,_)})}function Nu(c,p,_){_=Math.min(c.i.length,_);var w=c.l?A(c.l.Na,c.l,c):null;e:{var U=c.i;let Q=-1;for(;;){const se=["count="+_];Q==-1?0<_?(Q=U[0].g,se.push("ofs="+Q)):Q=0:se.push("ofs="+Q);let ke=!0;for(let St=0;St<_;St++){let Le=U[St].g;const Mt=U[St].map;if(Le-=Q,0>Le)Q=Math.max(0,U[St].g-100),ke=!1;else try{er(Mt,se,"req"+Le+"_")}catch{w&&w(Mt)}}if(ke){w=se.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,w}function Du(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ae||M(),me||(ae(),me=!0),Be.add(p,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=yt(A(c.Fa,c),Ho(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=yt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),fa(this),Ou(this))};function bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new tn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=fn(c.qa);Xe(p,"RID","rpc"),Xe(p,"SID",c.K),Xe(p,"AID",c.T),Xe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(p,"TO",c.ja),Xe(p,"TYPE","xmlhttp"),Ts(c,p),c.m&&c.o&&Ot(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ms(fn(p)),_.m=null,_.P=!0,Sr(_,c)}i.Za=function(){this.C!=null&&(this.C=null,fa(this),qo(this),it(19))};function ma(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Mu(c,p){var _=null;if(c.g==p){ma(c),bs(c),c.g=null;var w=2}else if(Oo(c.h,p))_=p.D,nn(c.h,p),w=1;else return;if(c.G!=0){if(p.o)if(w==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var U=c.B;w=oi(),Qe(w,new At(w,_)),da(c)}else Du(c);else if(U=p.s,U==3||U==0&&0<p.X||!(w==1&&af(c,p)||w==2&&qo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),U){case 1:Or(c,5);break;case 4:Or(c,10);break;case 3:Or(c,6);break;default:Or(c,2)}}}function Ho(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Or(c,p){if(c.j.info("Error code "+p),p==2){var _=A(c.fb,c),w=c.Xa;const U=!w;w=new _t(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ds(w,"https"),ms(w),U?gs(w.toString(),_):Ln(w.toString(),_)}else it(2);c.G=0,c.l&&c.l.sa(p),Vu(c),Cu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Vu(c){if(c.G=0,c.ka=[],c.l){const p=Mo(c.h);(p.length!=0||c.i.length!=0)&&(G(c.ka,p),G(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Pu(c,p,_){var w=_ instanceof _t?fn(_):new _t(_);if(w.g!="")p&&(w.g=p+"."+w.g),fi(w,w.s);else{var U=m.location;w=U.protocol,p=p?p+"."+U.hostname:U.hostname,U=+U.port;var Q=new _t(null);w&&ds(Q,w),p&&(Q.g=p),U&&fi(Q,U),_&&(Q.l=_),w=Q}return _=c.D,p=c.ya,_&&p&&Xe(w,_,p),Xe(w,"VER",c.la),Ts(c,w),w}function ku(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new He(new di({eb:_})):new He(c.pa),p.Ha(c.J),p}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}i=Lu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function pa(){}pa.prototype.g=function(c,p){return new rn(c,p)};function rn(c,p){ut.call(this),this.g=new ha(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ne(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ne(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ir(this)}B(rn,ut),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){zo(this.g)},rn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);p.i.push(new Au(p.Ya++,c)),p.G==3&&da(p)},rn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,rn.aa.N.call(this)};function Uu(c){wr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}B(Uu,wr);function ju(){Io.call(this),this.status=1}B(ju,Io);function ir(c){this.g=c}B(ir,Lu),ir.prototype.ua=function(){Qe(this.g,"a")},ir.prototype.ta=function(c){Qe(this.g,new Uu(c))},ir.prototype.sa=function(c){Qe(this.g,new ju)},ir.prototype.ra=function(){Qe(this.g,"b")},pa.prototype.createWebChannel=pa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,CT=function(){return new pa},IT=function(){return oi()},RT=Xn,Am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ci.NO_ERROR=0,ci.TIMEOUT=8,ci.HTTP_ERROR=6,Xc=ci,Ar.COMPLETE="complete",xT=Ar,Ro.EventType=br,br.OPEN="a",br.CLOSE="b",br.ERROR="c",br.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Ml=Ro,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,ST=He}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const Iv="@firebase/firestore",Cv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Wm("@firebase/firestore");function Fa(){return Qs.logLevel}function ue(i,...e){if(Qs.logLevel<=Me.DEBUG){const n=e.map(ep);Qs.debug(`Firestore (${mo}): ${i}`,...n)}}function ti(i,...e){if(Qs.logLevel<=Me.ERROR){const n=e.map(ep);Qs.error(`Firestore (${mo}): ${i}`,...n)}}function Ys(i,...e){if(Qs.logLevel<=Me.WARN){const n=e.map(ep);Qs.warn(`Firestore (${mo}): ${i}`,...n)}}function ep(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ve(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,NT(i,s,n)}function NT(i,e,n){let s=`FIRESTORE (${mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ti(s),new Error(s)}function Fe(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||NT(e,o,s)}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class Vx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Px{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new DT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Wt(e)}}class kx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Lx{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new kx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ux{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Nv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=jx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Sm(i,e){const n=Math.min(i.length,e.length);for(let s=0;s<n;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return cm(o)===cm(u)?Ve(o,u):cm(o)?1:-1}return Ve(i.length,e.length)}const zx=55296,Bx=57343;function cm(i){const e=i.charCodeAt(0);return e>=zx&&e<=Bx}function eo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="__name__";class hr{constructor(e,n,s){n===void 0?n=0:n>e.length&&ve(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ve(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=hr.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=hr.isNumericId(e),o=hr.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hr.extractNumericId(e).compare(hr.extractNumericId(n)):Sm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}}class nt extends hr{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const qx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends hr{construct(e,n,s){return new Ut(e,n,s)}static isValidIdentifier(e){return qx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new Ut([Dv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(nt.fromString(e))}static fromName(e){return new de(nt.fromString(e).popFirst(5))}static empty(){return new de(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new nt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(i,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function VT(i,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Ov(i){if(!de.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Mv(i){if(de.isDocumentKey(i))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function PT(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Ch(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":ve(12329,{type:typeof i})}function ni(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ch(i);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(i,e){const n={typeString:i};return e&&(n.value=e),n}function su(i,e){if(!PT(i))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const f=i[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=-62135596800,Pv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Pv);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vv)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Pv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(su(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:wt("string",rt._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new rt(0,0))}static max(){return new we(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function Hx(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new Gi(o,de.empty(),e)}function Fx(i){return new Gi(i.readTime,i.key,Gl)}class Gi{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Gi(we.min(),de.empty(),Gl)}static max(){return new Gi(we.max(),de.empty(),Gl)}}function Gx(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==Qx)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ve(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},g=>s(g))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(E=>{f[y]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function Kx(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function go(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Nh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=-1;function Dh(i){return i==null}function oh(i){return i===0&&1/i==-1/0}function Xx(i){return typeof i=="number"&&Number.isInteger(i)&&!oh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="";function $x(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=kv(e)),e=Wx(i.get(n),e);return kv(e)}function Wx(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case kT:n+="";break;default:n+=u}}return n}function kv(i){return i+kT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Zi(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function LT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new lt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ve(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ve(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ve(27949);return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw ve(57766)}get value(){throw ve(16141)}get color(){throw ve(16727)}get left(){throw ve(29726)}get right(){throw ve(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uv(this.data.getIterator())}getIteratorFrom(e){return new Uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class Uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Nt(Ut.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return eo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new UT("Invalid base64 string: "+u):u}}(e);return new jt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const Zx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qi(i){if(Fe(!!i,39018),typeof i=="string"){let e=0;const n=Zx.exec(i);if(Fe(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(i.seconds),nanos:pt(i.nanos)}}function pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Yi(i){return typeof i=="string"?jt.fromBase64String(i):jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="server_timestamp",zT="__type__",BT="__previous_value__",qT="__local_write_time__";function np(i){return(i?.mapValue?.fields||{})[zT]?.stringValue===jT}function Oh(i){const e=i.mapValue.fields[BT];return np(e)?Oh(e):e}function Ql(i){const e=Qi(i.mapValue.fields[qT].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n,s,o,u,f,m,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const lh="(default)";class to{constructor(e,n){this.projectId=e,this.database=n||lh}static empty(){return new to("","")}get isDefaultDatabase(){return this.database===lh}isEqual(e){return e instanceof to&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="__type__",eR="__max__",Hc={mapValue:{}},FT="__vector__",uh="value";function Ki(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?np(i)?4:nR(i)?9007199254740991:tR(i)?10:11:ve(28295,{value:i})}function yr(i,e){if(i===e)return!0;const n=Ki(i);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ql(i).isEqual(Ql(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Qi(o.timestampValue),m=Qi(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Yi(o.bytesValue).isEqual(Yi(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?oh(f)===oh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return eo(i.arrayValue.values||[],e.arrayValue.values||[],yr);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Lv(f)!==Lv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!yr(f[g],m[g])))return!1;return!0}(i,e);default:return ve(52216,{left:i})}}function Yl(i,e){return(i.values||[]).find(n=>yr(n,e))!==void 0}function no(i,e){if(i===e)return 0;const n=Ki(i),s=Ki(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),g=pt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return jv(i.timestampValue,e.timestampValue);case 4:return jv(Ql(i),Ql(e));case 5:return Sm(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Yi(u),g=Yi(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Ve(m[y],g[y]);if(E!==0)return E}return Ve(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(pt(u.latitude),pt(f.latitude));return m!==0?m:Ve(pt(u.longitude),pt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return zv(i.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},g=f.fields||{},y=m[uh]?.arrayValue,E=g[uh]?.arrayValue,S=Ve(y?.values?.length||0,E?.values?.length||0);return S!==0?S:zv(y,E)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Hc.mapValue&&f===Hc.mapValue)return 0;if(u===Hc.mapValue)return 1;if(f===Hc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=f.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let S=0;S<g.length&&S<E.length;++S){const A=Sm(g[S],E[S]);if(A!==0)return A;const k=no(m[g[S]],y[E[S]]);if(k!==0)return k}return Ve(g.length,E.length)}(i.mapValue,e.mapValue);default:throw ve(23264,{he:n})}}function jv(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=Qi(i),s=Qi(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function zv(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=no(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function ro(i){return xm(i)}function xm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Qi(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Yi(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return de.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=xm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${xm(n.fields[f])}`;return o+"}"}(i.mapValue):ve(61005,{value:i})}function $c(i){switch(Ki(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(i);return e?16+$c(e):16;case 5:return 2*i.stringValue.length;case 6:return Yi(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+$c(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Zi(s.fields,(u,f)=>{o+=u.length+$c(f)}),o}(i.mapValue);default:throw ve(13486,{value:i})}}function Bv(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Rm(i){return!!i&&"integerValue"in i}function rp(i){return!!i&&"arrayValue"in i}function qv(i){return!!i&&"nullValue"in i}function Hv(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Wc(i){return!!i&&"mapValue"in i}function tR(i){return(i?.mapValue?.fields||{})[HT]?.stringValue===FT}function Ll(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Zi(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ll(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ll(i.arrayValue.values[n]);return e}return{...i}}function nR(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===eR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Wc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ll(n)}setAll(e){let n=Ut.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ll(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Wc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Wc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Zi(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(Ll(this.value))}}function GT(i){const e=[];return Zi(i.fields,(n,s)=>{const o=new Ut([n]);if(Wc(s)){const u=GT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,we.min(),we.min(),we.min(),cn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,we.min(),we.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,we.min(),we.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n){this.position=e,this.inclusive=n}}function Fv(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=de.comparator(de.fromName(f.referenceValue),n.key):s=no(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Gv(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!yr(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n="asc"){this.field=e,this.dir=n}}function rR(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{}class bt extends QT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new sR(e,n,s):n==="array-contains"?new lR(e,s):n==="in"?new uR(e,s):n==="not-in"?new cR(e,s):n==="array-contains-any"?new hR(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new aR(e,s):new oR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(no(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(no(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ve(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends QT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Yn(e,n)}matches(e){return YT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YT(i){return i.op==="and"}function KT(i){return iR(i)&&YT(i)}function iR(i){for(const e of i.filters)if(e instanceof Yn)return!1;return!0}function Im(i){if(i instanceof bt)return i.field.canonicalString()+i.op.toString()+ro(i.value);if(KT(i))return i.filters.map(e=>Im(e)).join(",");{const e=i.filters.map(n=>Im(n)).join(",");return`${i.op}(${e})`}}function XT(i,e){return i instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&yr(s.value,o.value)}(i,e):i instanceof Yn?function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&XT(f,o.filters[m]),!0):!1}(i,e):void ve(19439)}function $T(i){return i instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(i):i instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map($T).join(" ,")+"}"}(i):"Filter"}class sR extends bt{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class aR extends bt{constructor(e,n){super(e,"in",n),this.keys=WT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class oR extends bt{constructor(e,n){super(e,"not-in",n),this.keys=WT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function WT(i,e){return(e.arrayValue?.values||[]).map(n=>de.fromName(n.referenceValue))}class lR extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rp(n)&&Yl(n.arrayValue,this.value)}}class uR extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Yl(this.value.arrayValue,n)}}class cR extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Yl(this.value.arrayValue,n)}}class hR extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Yl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Qv(i,e=null,n=[],s=[],o=null,u=null,f=null){return new fR(i,e,n,s,o,u,f)}function ip(i){const e=Ae(i);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Im(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ro(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ro(s)).join(",")),e.Te=n}return e.Te}function sp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!rR(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!XT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Gv(i.startAt,e.startAt)&&Gv(i.endAt,e.endAt)}function Cm(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function dR(i,e,n,s,o,u,f,m){return new yo(i,e,n,s,o,u,f,m)}function ap(i){return new yo(i)}function Yv(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function ZT(i){return i.collectionGroup!==null}function Ul(i){const e=Ae(i);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Ut.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Kl(u,s))}),n.has(Ut.keyField().canonicalString())||e.Ie.push(new Kl(Ut.keyField(),s))}return e.Ie}function fr(i){const e=Ae(i);return e.Ee||(e.Ee=mR(e,Ul(i))),e.Ee}function mR(i,e){if(i.limitType==="F")return Qv(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Kl(o.field,u)});const n=i.endAt?new ch(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ch(i.startAt.position,i.startAt.inclusive):null;return Qv(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Nm(i,e){const n=i.filters.concat([e]);return new yo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Dm(i,e,n){return new yo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Mh(i,e){return sp(fr(i),fr(e))&&i.limitType===e.limitType}function JT(i){return`${ip(fr(i))}|lt:${i.limitType}`}function Ga(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>$T(o)).join(", ")}]`),Dh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ro(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ro(o)).join(",")),`Target(${s})`}(fr(i))}; limitType=${i.limitType})`}function Vh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ul(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,g){const y=Fv(f,m,g);return f.inclusive?y<=0:y<0}(s.startAt,Ul(s),o)||s.endAt&&!function(f,m,g){const y=Fv(f,m,g);return f.inclusive?y>=0:y>0}(s.endAt,Ul(s),o))}(i,e)}function pR(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function eb(i){return(e,n)=>{let s=!1;for(const o of Ul(i)){const u=gR(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function gR(i,e,n){const s=i.field.isKeyField()?de.comparator(e.key,n.key):function(u,f,m){const g=f.data.field(u),y=m.data.field(u);return g!==null&&y!==null?no(g,y):ve(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return ve(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return LT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR=new lt(de.comparator);function ri(){return yR}const tb=new lt(de.comparator);function Vl(...i){let e=tb;for(const n of i)e=e.insert(n.key,n);return e}function nb(i){let e=tb;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function js(){return jl()}function rb(){return jl()}function jl(){return new $s(i=>i.toString(),(i,e)=>i.isEqual(e))}const _R=new lt(de.comparator),vR=new Nt(de.comparator);function Pe(...i){let e=vR;for(const n of i)e=e.add(n);return e}const ER=new Nt(Ve);function TR(){return ER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oh(e)?"-0":e}}function ib(i){return{integerValue:""+i}}function bR(i,e){return Xx(e)?ib(e):op(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(){this._=void 0}}function wR(i,e,n){return i instanceof Xl?function(o,u){const f={fields:{[zT]:{stringValue:jT},[qT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&np(u)&&(u=Oh(u)),u&&(f.fields[BT]=u),{mapValue:f}}(n,e):i instanceof $l?ab(i,e):i instanceof Wl?ob(i,e):function(o,u){const f=sb(o,u),m=Kv(f)+Kv(o.Ae);return Rm(f)&&Rm(o.Ae)?ib(m):op(o.serializer,m)}(i,e)}function AR(i,e,n){return i instanceof $l?ab(i,e):i instanceof Wl?ob(i,e):n}function sb(i,e){return i instanceof hh?function(s){return Rm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Xl extends Ph{}class $l extends Ph{constructor(e){super(),this.elements=e}}function ab(i,e){const n=lb(e);for(const s of i.elements)n.some(o=>yr(o,s))||n.push(s);return{arrayValue:{values:n}}}class Wl extends Ph{constructor(e){super(),this.elements=e}}function ob(i,e){let n=lb(e);for(const s of i.elements)n=n.filter(o=>!yr(o,s));return{arrayValue:{values:n}}}class hh extends Ph{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Kv(i){return pt(i.integerValue||i.doubleValue)}function lb(i){return rp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.field=e,this.transform=n}}function xR(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof $l&&o instanceof $l||s instanceof Wl&&o instanceof Wl?eo(s.elements,o.elements,yr):s instanceof hh&&o instanceof hh?yr(s.Ae,o.Ae):s instanceof Xl&&o instanceof Xl}(i.transform,e.transform)}class RR{constructor(e,n){this.version=e,this.transformResults=n}}class dr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new dr}static exists(e){return new dr(void 0,e)}static updateTime(e){return new dr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zc(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class kh{}function ub(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new hb(i.key,dr.none()):new au(i.key,i.data,dr.none());{const n=i.data,s=cn.empty();let o=new Nt(Ut.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ji(i.key,s,new Tn(o.toArray()),dr.none())}}function IR(i,e,n){i instanceof au?function(o,u,f){const m=o.value.clone(),g=$v(o.fieldTransforms,u,f.transformResults);m.setAll(g),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof Ji?function(o,u,f){if(!Zc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=$v(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(cb(o)),g.setAll(m),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function zl(i,e,n,s){return i instanceof au?function(u,f,m,g){if(!Zc(u.precondition,f))return m;const y=u.value.clone(),E=Wv(u.fieldTransforms,g,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(i,e,n,s):i instanceof Ji?function(u,f,m,g){if(!Zc(u.precondition,f))return m;const y=Wv(u.fieldTransforms,g,f),E=f.data;return E.setAll(cb(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,n,s):function(u,f,m){return Zc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function CR(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=sb(s.transform,o||null);u!=null&&(n===null&&(n=cn.empty()),n.set(s.field,u))}return n||null}function Xv(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&eo(s,o,(u,f)=>xR(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class au extends kh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ji extends kh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function cb(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function $v(i,e,n){const s=new Map;Fe(i.length===n.length,32656,{Re:n.length,Ve:i.length});for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,AR(f,m,n[o]))}return s}function Wv(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,wR(u,f,e))}return s}class hb extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NR extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&IR(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=rb();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const g=ub(f,m);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&eo(this.mutations,e.mutations,(n,s)=>Xv(n,s))&&eo(this.baseMutations,e.baseMutations,(n,s)=>Xv(n,s))}}class lp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return _R}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new lp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,je;function VR(i){switch(i){case Z.OK:return ve(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return ve(15467,{code:i})}}function fb(i){if(i===void 0)return ti("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Tt.OK:return Z.OK;case Tt.CANCELLED:return Z.CANCELLED;case Tt.UNKNOWN:return Z.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return Z.INTERNAL;case Tt.UNAVAILABLE:return Z.UNAVAILABLE;case Tt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Tt.NOT_FOUND:return Z.NOT_FOUND;case Tt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Tt.ABORTED:return Z.ABORTED;case Tt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Tt.DATA_LOSS:return Z.DATA_LOSS;default:return ve(39323,{code:i})}}(je=Tt||(Tt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Hi([4294967295,4294967295],0);function Zv(i){const e=PR().encode(i),n=new AT;return n.update(e),new Uint8Array(n.digest())}function Jv(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Hi([n,s],0),new Hi([o,u],0)]}class up{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(s<0)throw new Pl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Hi.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Hi.fromNumber(s)));return o.compare(kR)===1&&(o=new Hi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Zv(e),[s,o]=Jv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new up(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=Zv(e),[s,o]=Jv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Lh(we.min(),o,new lt(Ve),ri(),Pe())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class db{constructor(e,n){this.targetId=e,this.Ce=n}}class mb{constructor(e,n,s=jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class eE{constructor(){this.ve=0,this.Fe=tE(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Pe(),n=Pe(),s=Pe();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:ve(38017,{changeType:u})}}),new ou(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=tE()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ri(),this.Je=Fc(),this.He=Fc(),this.Ye=new lt(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ve(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(Cm(u))if(s===0){const f=new de(u.path);this.et(n,f,Zt.newNoDocument(f,we.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Yi(s).toUint8Array()}catch(g){if(g instanceof UT)return Ys("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new up(f,o,u)}catch(g){return Ys(g instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Cm(m.target)){const g=new de(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,Zt.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=Pe();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Lh(e,n,this.Ye,this.je,s);return this.je=ri(),this.Je=Fc(),this.He=Fc(),this.Ye=new lt(Ve),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new eE,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new eE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new lt(de.comparator)}function tE(){return new lt(de.comparator)}const UR={asc:"ASCENDING",desc:"DESCENDING"},jR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zR={and:"AND",or:"OR"};class BR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Om(i,e){return i.useProto3Json||Dh(e)?e:{value:e}}function fh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function qR(i,e){return fh(i,e.toTimestamp())}function mr(i){return Fe(!!i,49232),we.fromTimestamp(function(n){const s=Qi(n);return new rt(s.seconds,s.nanos)}(i))}function cp(i,e){return Mm(i,e).canonicalString()}function Mm(i,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function gb(i){const e=nt.fromString(i);return Fe(Tb(e),10190,{key:e.toString()}),e}function Vm(i,e){return cp(i.databaseId,e.path)}function hm(i,e){const n=gb(e);if(n.get(1)!==i.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new de(_b(n))}function yb(i,e){return cp(i.databaseId,e)}function HR(i){const e=gb(i);return e.length===4?nt.emptyPath():_b(e)}function Pm(i){return new nt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _b(i){return Fe(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function nE(i,e,n){return{name:Vm(i,e),fields:n.value.mapValue.fields}}function FR(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:ve(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Fe(E===void 0||typeof E=="string",58123),jt.fromBase64String(E||"")):(Fe(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),jt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const E=y.code===void 0?Z.UNKNOWN:fb(y.code);return new le(E,y.message||"")}(f);n=new mb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=hm(i,s.document.name),u=mr(s.document.updateTime),f=s.document.createTime?mr(s.document.createTime):we.min(),m=new cn({mapValue:{fields:s.document.fields}}),g=Zt.newFoundDocument(o,u,f,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new Jc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=hm(i,s.document),u=s.readTime?mr(s.readTime):we.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Jc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=hm(i,s.document),u=s.removedTargetIds||[];n=new Jc([],u,o,null)}else{if(!("filter"in e))return ve(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new MR(o,u),m=s.targetId;n=new db(m,f)}}return n}function GR(i,e){let n;if(e instanceof au)n={update:nE(i,e.key,e.value)};else if(e instanceof hb)n={delete:Vm(i,e.key)};else if(e instanceof Ji)n={update:nE(i,e.key,e.data),updateMask:e2(e.fieldMask)};else{if(!(e instanceof NR))return ve(16599,{Vt:e.type});n={verify:Vm(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof hh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw ve(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:qR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:ve(27497)}(i,e.precondition)),n}function QR(i,e){return i&&i.length>0?(Fe(e!==void 0,14353),i.map(n=>function(o,u){let f=o.updateTime?mr(o.updateTime):mr(u);return f.isEqual(we.min())&&(f=mr(u)),new RR(f,o.transformResults||[])}(n,e))):[]}function YR(i,e){return{documents:[yb(i,e.path)]}}function KR(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=yb(i,o);const u=function(y){if(y.length!==0)return Eb(Yn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(A){return{field:Qa(A.field),direction:WR(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Om(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ft:n,parent:o}}function XR(i){let e=HR(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Fe(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(S){const A=vb(S);return A instanceof Yn&&KT(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(S){return S.map(A=>function(B){return new Kl(Ya(B.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(B.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(S){let A;return A=typeof S=="object"?S.value:S,Dh(A)?null:A}(n.limit));let g=null;n.startAt&&(g=function(S){const A=!!S.before,k=S.values||[];return new ch(k,A)}(n.startAt));let y=null;return n.endAt&&(y=function(S){const A=!S.before,k=S.values||[];return new ch(k,A)}(n.endAt)),dR(e,o,f,u,m,"F",g,y)}function $R(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ve(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function vb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ya(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ya(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ya(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ya(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ve(61313);default:return ve(60726)}}(i):i.fieldFilter!==void 0?function(n){return bt.create(Ya(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ve(58110);default:return ve(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(s=>vb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ve(1026)}}(n.compositeFilter.op))}(i):ve(30097,{filter:i})}function WR(i){return UR[i]}function ZR(i){return jR[i]}function JR(i){return zR[i]}function Qa(i){return{fieldPath:i.canonicalString()}}function Ya(i){return Ut.fromServerFormat(i.fieldPath)}function Eb(i){return i instanceof bt?function(n){if(n.op==="=="){if(Hv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NAN"}};if(qv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NAN"}};if(qv(n.value))return{unaryFilter:{field:Qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qa(n.field),op:ZR(n.op),value:n.value}}}(i):i instanceof Yn?function(n){const s=n.getFilters().map(o=>Eb(o));return s.length===1?s[0]:{compositeFilter:{op:JR(n.op),filters:s}}}(i):ve(54877,{filter:i})}function e2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Tb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n,s,o,u=we.min(),f=we.min(),m=jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.yt=e}}function n2(i){const e=XR({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.Cn=new i2}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Gi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Gi.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class i2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bb=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(bb,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="LruGarbageCollector",s2=1048576;function sE([i,e],[n,s]){const o=Ve(i,n);return o===0?Ve(e,s):o}class a2{constructor(e){this.Ir=e,this.buffer=new Nt(sE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();sE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class o2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(iE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){go(n)?ue(iE,"Ignoring IndexedDB error during garbage collection: ",n):await po(n)}await this.Vr(3e5)})}}class l2{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Nh.ce);const s=new a2(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(rE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),rE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,f=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,m=Date.now(),this.removeTargets(e,s,n))).next(S=>(u=S,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),Fa()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${S} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:S})))}}function u2(i,e){return new l2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.changes=new $s(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&zl(s.mutation,o,Tn.empty(),rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=js();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Vl();return u.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=js();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ri();const f=jl(),m=function(){return jl()}();return n.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ji)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),zl(E.mutation,y,E.mutation.getFieldMask(),rt.now())):f.set(y.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>m.set(y,new h2(E,f.get(y)??null))),m))}recalculateAndSaveOverlays(e,n){const s=jl();let o=new lt((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||Tn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const S=(o.get(m.batchId)||Pe()).add(g);o=o.insert(m.batchId,S)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,S=rb();E.forEach(A=>{if(!u.has(A)){const k=ub(n.get(A),s.get(A));k!==null&&S.set(A,k),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ZT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(js());let m=Gl,g=u;return f.next(y=>ee.forEach(y,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?ee.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{g=g.insert(E,A)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Pe())).next(E=>({batchId:m,changes:nb(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next(s=>{let o=Vl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Vl();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,g=>{const y=function(S,A){return new yo(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,A)=>{f=f.insert(S,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((g,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,Zt.newInvalidDocument(E)))});let m=Vl();return f.forEach((g,y)=>{const E=u.get(g);E!==void 0&&zl(E.mutation,y,Tn.empty(),rt.now()),Vh(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:n2(o.bundledQuery),readTime:mr(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.overlays=new lt(de.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=js();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=js(),u=n.length+1,f=new de(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new lt((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=js(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=js(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new OR(n,s));let u=this.qr.get(n);u===void 0&&(u=Pe(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.Qr=new Nt(Lt.$r),this.Ur=new Nt(Lt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Lt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new Lt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new de(new nt([])),s=new Lt(n,e),o=new Lt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new nt([])),s=new Lt(n,e),o=new Lt(n,e+1);let u=Pe();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Lt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Lt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(Lt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new DR(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new Lt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?tp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Lt(n,0),o=new Lt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Ve);return n.forEach(o=>{const u=new Lt(o,0),f=new Lt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const f=new Lt(new de(u),0);let m=new Nt(Ve);return this.Zr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Yr)),!0)},f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,o=>{const u=new Lt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new Lt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.ri=e,this.docs=function(){return new lt(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=ri();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ri();const f=n.path,m=new de(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Gx(Fx(E),s)<=0||(o.has(E.key)||Vh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){ve(9500)}ii(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new _2(this)}getSize(e){return ee.resolve(this.size)}}class _2 extends c2{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.persistence=e,this.si=new $s(n=>ip(n),sp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.oi=0,this._i=new hp,this.targetCount=0,this.ai=io.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new io(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e,n){this.ui={},this.overlays={},this.ci=new Nh(0),this.li=!1,this.li=!0,this.hi=new p2,this.referenceDelegate=e(this),this.Pi=new v2(this),this.indexManager=new r2,this.remoteDocumentCache=function(o){return new y2(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new t2(n),this.Ii=new d2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new m2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new g2(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new E2(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ee.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class E2 extends Yx{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.Ri=new hp,this.Vi=null}static mi(e){return new fp(e)}get fi(){if(this.Vi)return this.Vi;throw ve(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,s=>{const o=de.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class dh{constructor(e,n){this.persistence=e,this.pi=new $s(s=>$x(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=u2(this,n)}static mi(e,n){return new dh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ee.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$c(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new dp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return g1()?8:Kx(Jt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new T2;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Fa()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Fa()<=Me.DEBUG&&ue("QueryEngine","Query:",Ga(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Fa()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fr(n))):ee.resolve())}ys(e,n){if(Yv(n))return ee.resolve(null);let s=fr(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Dm(n,null,"F"),s=fr(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.Ds(n,m);return this.Cs(n,y,f,g.readTime)?this.ys(e,Dm(n,null,"F")):this.vs(e,y,n,g)}))})))}ws(e,n,s,o){return Yv(n)||o.isEqual(we.min())?ee.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Fa()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ga(n)),this.vs(e,f,n,Hx(o,Gl)).next(m=>m))})}Ds(e,n){let s=new Nt(eb(e));return n.forEach((o,u)=>{Vh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Fa()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.ps.getDocumentsMatchingQuery(e,n,Gi.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="LocalStore",w2=3e8;class A2{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new lt(Ve),this.xs=new $s(u=>ip(u),sp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function S2(i,e,n,s){return new A2(i,e,n,s)}async function Ab(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let g=Pe();for(const y of o){f.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(y=>({Ls:y,removedBatchIds:f,addedBatchIds:m}))})})}function x2(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const S=y.batch,A=S.keys();let k=ee.resolve();return A.forEach(B=>{k=k.next(()=>E.getEntry(g,B)).next(Y=>{const G=y.docVersions.get(B);Fe(G!==null,48541),Y.version.compareTo(G)<0&&(S.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),E.addEntry(Y)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(g,S))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Pe();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Sb(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function R2(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((E,S)=>{const A=o.get(S);if(!A)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,S).next(()=>n.Pi.addMatchingKeys(u,E.addedDocuments,S)));let k=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(jt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(S,k),function(Y,G,$){return Y.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=w2?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(A,k,E)&&m.push(n.Pi.updateTargetData(u,k))});let g=ri(),y=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(I2(u,f,e.documentUpdates).next(E=>{g=E.ks,y=E.qs})),!s.isEqual(we.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next(S=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.Ms=o,u))}function I2(i,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=ri();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ue(mp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{ks:f,qs:o}})}function C2(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=tp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function N2(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new ji(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function km(i,e,n){const s=Ae(i),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!go(f))throw f;ue(mp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function aE(i,e,n){const s=Ae(i);let o=we.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,y,E){const S=Ae(g),A=S.xs.get(E);return A!==void 0?ee.resolve(S.Ms.get(A)):S.Pi.getTargetData(y,E)}(s,f,fr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(g=>{u=g})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Pe())).next(m=>(D2(s,pR(e),m),{documents:m,Qs:u})))}function D2(i,e,n){let s=i.Os.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class oE{constructor(){this.activeTargetIds=TR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class O2{constructor(){this.Mo=new oE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new oE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="ConnectivityMonitor";class uE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(lE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(lE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function Lm(){return Gc===null?Gc=function(){return 268435456+Math.round(2147483648*Math.random())}():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="RestConnection",V2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P2{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===lh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Lm(),m=this.zo(e,n.toUriEncodedString());ue(fm,`Sending RPC '${e}' ${f}:`,m,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(m),E=ho(y);return this.Jo(e,m,g,s,E).then(S=>(ue(fm,`Received RPC '${e}' ${f}: `,S),S),S=>{throw Ys(fm,`RPC '${e}' ${f} failed with error: `,S,"url: ",m,"request:",s),S})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=V2[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class L2 extends P2{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Lm();return new Promise((m,g)=>{const y=new ST;y.setWithCredentials(!0),y.listenOnce(xT.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Xc.NO_ERROR:const S=y.getResponseJson();ue($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(S)),m(S);break;case Xc.TIMEOUT:ue($t,`RPC '${e}' ${f} timed out`),g(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Xc.HTTP_ERROR:const A=y.getStatus();if(ue($t,`RPC '${e}' ${f} failed with status:`,A,"response text:",y.getResponseText()),A>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const B=k?.error;if(B&&B.status&&B.message){const Y=function($){const ne=$.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ne)>=0?ne:Z.UNKNOWN}(B.status);g(new le(Y,B.message))}else g(new le(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new le(Z.UNAVAILABLE,"Connection failed."));break;default:ve(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ue($t,`RPC '${e}' ${f} completed.`)}});const E=JSON.stringify(o);ue($t,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",E,s,15)})}T_(e,n,s){const o=Lm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=CT(),m=IT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");ue($t,`Creating RPC '${e}' stream ${o}: ${E}`,g);const S=f.createWebChannel(E,g);this.I_(S);let A=!1,k=!1;const B=new k2({Yo:G=>{k?ue($t,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(A||(ue($t,`Opening RPC '${e}' stream ${o} transport.`),S.open(),A=!0),ue($t,`RPC '${e}' stream ${o} sending:`,G),S.send(G))},Zo:()=>S.close()}),Y=(G,$,ne)=>{G.listen($,re=>{try{ne(re)}catch(pe){setTimeout(()=>{throw pe},0)}})};return Y(S,Ml.EventType.OPEN,()=>{k||(ue($t,`RPC '${e}' stream ${o} transport opened.`),B.o_())}),Y(S,Ml.EventType.CLOSE,()=>{k||(k=!0,ue($t,`RPC '${e}' stream ${o} transport closed`),B.a_(),this.E_(S))}),Y(S,Ml.EventType.ERROR,G=>{k||(k=!0,Ys($t,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),B.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))}),Y(S,Ml.EventType.MESSAGE,G=>{if(!k){const $=G.data[0];Fe(!!$,16349);const ne=$,re=ne?.error||ne[0]?.error;if(re){ue($t,`RPC '${e}' stream ${o} received error:`,re);const pe=re.status;let he=function(R){const x=Tt[R];if(x!==void 0)return fb(x)}(pe),Se=re.message;he===void 0&&(he=Z.INTERNAL,Se="Unknown error status: "+pe+" with message "+re.message),k=!0,B.a_(new le(he,Se)),S.close()}else ue($t,`RPC '${e}' stream ${o} received:`,$),B.u_($)}}),Y(m,RT.STAT_EVENT,G=>{G.stat===Am.PROXY?ue($t,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===Am.NOPROXY&&ue($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{B.__()},0),B}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(i){return new BR(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="PersistentStream";class Rb{constructor(e,n,s,o,u,f,m,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xb(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(ti(n.toString()),ti("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(cE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(ue(cE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U2 extends Rb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=FR(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?mr(f.readTime):we.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Pm(this.serializer),n.addTarget=function(u,f){let m;const g=f.target;if(m=Cm(g)?{documents:YR(u,g)}:{query:KR(u,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=pb(u,f.resumeToken);const y=Om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=fh(u,f.snapshotVersion.toTimestamp());const y=Om(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=$R(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Pm(this.serializer),n.removeTarget=e,this.q_(n)}}class j2 extends Rb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=QR(e.writeResults,e.commitTime),s=mr(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Pm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>GR(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{}class B2 extends z2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Mm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Mm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(Z.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class q2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ti(n),this.aa=!1):ue("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class H2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Ws(this)&&(ue(Ks,"Restarting streams for network reachability change."),await async function(g){const y=Ae(g);y.Ea.add(4),await lu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await jh(y)}(this))})}),this.Ra=new q2(s,o)}}async function jh(i){if(Ws(i))for(const e of i.da)await e(!0)}async function lu(i){for(const e of i.da)await e(!1)}function Ib(i,e){const n=Ae(i);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),_p(n)?yp(n):_o(n).O_()&&gp(n,e))}function pp(i,e){const n=Ae(i),s=_o(n);n.Ia.delete(e),s.O_()&&Cb(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ws(n)&&n.Ra.set("Unknown"))}function gp(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_o(i).Y_(e)}function Cb(i,e){i.Va.Ue(e),_o(i).Z_(e)}function yp(i){i.Va=new LR({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),_o(i).start(),i.Ra.ua()}function _p(i){return Ws(i)&&!_o(i).x_()&&i.Ia.size>0}function Ws(i){return Ae(i).Ea.size===0}function Nb(i){i.Va=void 0}async function F2(i){i.Ra.set("Online")}async function G2(i){i.Ia.forEach((e,n)=>{gp(i,e)})}async function Q2(i,e){Nb(i),_p(i)?(i.Ra.ha(e),yp(i)):i.Ra.set("Unknown")}async function Y2(i,e,n){if(i.Ra.set("Online"),e instanceof mb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){ue(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await mh(i,s)}else if(e instanceof Jc?i.Va.Ze(e):e instanceof db?i.Va.st(e):i.Va.tt(e),!n.isEqual(we.min()))try{const s=await Sb(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ia.get(y);E&&u.Ia.set(y,E.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,y)=>{const E=u.Ia.get(g);if(!E)return;u.Ia.set(g,E.withResumeToken(jt.EMPTY_BYTE_STRING,E.snapshotVersion)),Cb(u,g);const S=new ji(E.target,g,y,E.sequenceNumber);gp(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ue(Ks,"Failed to raise snapshot:",s),await mh(i,s)}}async function mh(i,e,n){if(!go(e))throw e;i.Ea.add(1),await lu(i),i.Ra.set("Offline"),n||(n=()=>Sb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(Ks,"Retrying IndexedDB access"),await n(),i.Ea.delete(1),await jh(i)})}function Db(i,e){return e().catch(n=>mh(i,n,e))}async function zh(i){const e=Ae(i),n=Xi(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tp;for(;K2(e);)try{const o=await C2(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,X2(e,o)}catch(o){await mh(e,o)}Ob(e)&&Mb(e)}function K2(i){return Ws(i)&&i.Ta.length<10}function X2(i,e){i.Ta.push(e);const n=Xi(i);n.O_()&&n.X_&&n.ea(e.mutations)}function Ob(i){return Ws(i)&&!Xi(i).x_()&&i.Ta.length>0}function Mb(i){Xi(i).start()}async function $2(i){Xi(i).ra()}async function W2(i){const e=Xi(i);for(const n of i.Ta)e.ea(n.mutations)}async function Z2(i,e,n){const s=i.Ta.shift(),o=lp.from(s,e,n);await Db(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await zh(i)}async function J2(i,e){e&&Xi(i).X_&&await async function(s,o){if(function(f){return VR(f)&&f!==Z.ABORTED}(o.code)){const u=s.Ta.shift();Xi(s).B_(),await Db(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await zh(s)}}(i,e),Ob(i)&&Mb(i)}async function hE(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),ue(Ks,"RemoteStore received new credentials");const s=Ws(n);n.Ea.add(3),await lu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jh(n)}async function eI(i,e){const n=Ae(i);e?(n.Ea.delete(2),await jh(n)):e||(n.Ea.add(2),await lu(n),n.Ra.set("Unknown"))}function _o(i){return i.ma||(i.ma=function(n,s,o){const u=Ae(n);return u.sa(),new U2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:F2.bind(null,i),t_:G2.bind(null,i),r_:Q2.bind(null,i),H_:Y2.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),_p(i)?yp(i):i.Ra.set("Unknown")):(await i.ma.stop(),Nb(i))})),i.ma}function Xi(i){return i.fa||(i.fa=function(n,s,o){const u=Ae(n);return u.sa(),new j2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:$2.bind(null,i),r_:J2.bind(null,i),ta:W2.bind(null,i),na:Z2.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await zh(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Ks,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new vp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ep(i,e){if(ti("AsyncQueue",`${e}: ${i}`),go(i))return new le(Z.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{static emptySet(e){return new Xa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Vl(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Xa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.ga=new lt(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ve(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class so{constructor(e,n,s,o,u,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new so(e,n,Xa.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class nI{constructor(){this.queries=dE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=dE(),u.forEach((f,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function dE(){return new $s(i=>JT(i),Mh)}async function Vb(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new tI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ep(f,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Tp(n)}async function Pb(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function rI(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Tp(n)}function iI(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Tp(i){i.Ca.forEach(e=>{e.next()})}var Um,mE;(mE=Um||(Um={})).Ma="default",mE.Cache="cache";class kb{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new so(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e){this.key=e}}class Ub{constructor(e){this.key=e}}class sI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pe(),this.mutatedKeys=Pe(),this.eu=eb(e),this.tu=new Xa(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new fE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const A=o.get(E),k=Vh(this.query,S)?S:null,B=!!A&&this.mutatedKeys.has(A.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let G=!1;A&&k?A.data.isEqual(k.data)?B!==Y&&(s.track({type:3,doc:k}),G=!0):this.su(A,k)||(s.track({type:2,doc:k}),G=!0,(g&&this.eu(k,g)>0||y&&this.eu(k,y)<0)&&(m=!0)):!A&&k?(s.track({type:0,doc:k}),G=!0):A&&!k&&(s.track({type:1,doc:A}),G=!0,(g||y)&&(m=!0)),G&&(k?(f=f.add(k),u=Y?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((E,S)=>function(k,B){const Y=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ve(20277,{Rt:G})}};return Y(k)-Y(B)}(E.type,S.type)||this.eu(E.doc,S.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new so(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Pe(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new Ub(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new Lb(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Pe();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const bp="SyncEngine";class aI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class oI{constructor(e){this.key=e,this.hu=!1}}class lI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new $s(m=>JT(m),Mh),this.Iu=new Map,this.Eu=new Set,this.du=new lt(de.comparator),this.Au=new Map,this.Ru=new hp,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uI(i,e,n=!0){const s=Fb(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await jb(s,e,n,!0),o}async function cI(i,e){const n=Fb(i);await jb(n,e,!0,!1)}async function jb(i,e,n,s){const o=await N2(i.localStore,fr(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await hI(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Ib(i.remoteStore,o),m}async function hI(i,e,n,s,o){i.pu=(S,A,k)=>async function(Y,G,$,ne){let re=G.view.ru($);re.Cs&&(re=await aE(Y.localStore,G.query,!1).then(({documents:P})=>G.view.ru(P,re)));const pe=ne&&ne.targetChanges.get(G.targetId),he=ne&&ne.targetMismatches.get(G.targetId)!=null,Se=G.view.applyChanges(re,Y.isPrimaryClient,pe,he);return gE(Y,G.targetId,Se.au),Se.snapshot}(i,S,A,k);const u=await aE(i.localStore,e,!0),f=new sI(e,u.Qs),m=f.ru(u.documents),g=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),y=f.applyChanges(m,i.isPrimaryClient,g);gE(i,n,y.au);const E=new aI(e,n,f);return i.Tu.set(e,E),i.Iu.has(n)?i.Iu.get(n).push(e):i.Iu.set(n,[e]),y.snapshot}async function fI(i,e,n){const s=Ae(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Mh(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await km(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&pp(s.remoteStore,o.targetId),jm(s,o.targetId)}).catch(po)):(jm(s,o.targetId),await km(s.localStore,o.targetId,!0))}async function dI(i,e){const n=Ae(i),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),pp(n.remoteStore,s.targetId))}async function mI(i,e,n){const s=TI(i);try{const o=await function(f,m){const g=Ae(f),y=rt.now(),E=m.reduce((k,B)=>k.add(B.key),Pe());let S,A;return g.persistence.runTransaction("Locally write mutations","readwrite",k=>{let B=ri(),Y=Pe();return g.Ns.getEntries(k,E).next(G=>{B=G,B.forEach(($,ne)=>{ne.isValidDocument()||(Y=Y.add($))})}).next(()=>g.localDocuments.getOverlayedDocuments(k,B)).next(G=>{S=G;const $=[];for(const ne of m){const re=CR(ne,S.get(ne.key).overlayedDocument);re!=null&&$.push(new Ji(ne.key,re,GT(re.value.mapValue),dr.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,$,m)}).next(G=>{A=G;const $=G.applyToLocalDocumentSet(S,Y);return g.documentOverlayCache.saveOverlays(k,G.batchId,$)})}).then(()=>({batchId:A.batchId,changes:nb(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new lt(Ve)),y=y.insert(m,g),f.Vu[f.currentUser.toKey()]=y}(s,o.batchId,n),await uu(s,o.changes),await zh(s.remoteStore)}catch(o){const u=Ep(o,"Failed to persist write");n.reject(u)}}async function zb(i,e){const n=Ae(i);try{const s=await R2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Fe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Fe(f.hu,14607):o.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))}),await uu(n,s,e)}catch(s){await po(s)}}function pE(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const g=Ae(f);g.onlineState=m;let y=!1;g.queries.forEach((E,S)=>{for(const A of S.Sa)A.va(m)&&(y=!0)}),y&&Tp(g)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function pI(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new lt(de.comparator);f=f.insert(u,Zt.newNoDocument(u,we.min()));const m=Pe().add(u),g=new Lh(we.min(),new Map,new lt(Ve),f,m);await zb(s,g),s.du=s.du.remove(u),s.Au.delete(e),wp(s)}else await km(s.localStore,e,!1).then(()=>jm(s,e,n)).catch(po)}async function gI(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await x2(n.localStore,e);qb(n,s,null),Bb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await po(o)}}async function yI(i,e,n){const s=Ae(i);try{const o=await function(f,m){const g=Ae(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(S=>(Fe(S!==null,37113),E=S.keys(),g.mutationQueue.removeMutationBatch(y,S))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);qb(s,e,n),Bb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uu(s,o)}catch(o){await po(o)}}function Bb(i,e){(i.mu.get(e)||[]).forEach(n=>{n.resolve()}),i.mu.delete(e)}function qb(i,e,n){const s=Ae(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function jm(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),n&&i.Pu.yu(s,n);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||Hb(i,s)})}function Hb(i,e){i.Eu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(pp(i.remoteStore,n),i.du=i.du.remove(e),i.Au.delete(n),wp(i))}function gE(i,e,n){for(const s of n)s instanceof Lb?(i.Ru.addReference(s.key,e),_I(i,s)):s instanceof Ub?(ue(bp,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||Hb(i,s.key)):ve(19791,{wu:s})}function _I(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Eu.has(s)||(ue(bp,"New document in limbo: "+n),i.Eu.add(s),wp(i))}function wp(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const n=new de(nt.fromString(e)),s=i.fu.next();i.Au.set(s,new oI(n)),i.du=i.du.insert(n,s),Ib(i.remoteStore,new ji(fr(ap(n.path)),s,"TargetPurposeLimboResolution",Nh.ce))}}async function uu(i,e,n){const s=Ae(i),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,g)=>{f.push(s.pu(g,e,n).then(y=>{if((y||n)&&s.isPrimaryClient){const E=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,E?"current":"not-current")}if(y){o.push(y);const E=dp.As(g.targetId,y);u.push(E)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(g,y){const E=Ae(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ee.forEach(y,A=>ee.forEach(A.Es,k=>E.persistence.referenceDelegate.addReference(S,A.targetId,k)).next(()=>ee.forEach(A.ds,k=>E.persistence.referenceDelegate.removeReference(S,A.targetId,k)))))}catch(S){if(!go(S))throw S;ue(mp,"Failed to update sequence numbers: "+S)}for(const S of y){const A=S.targetId;if(!S.fromCache){const k=E.Ms.get(A),B=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(B);E.Ms=E.Ms.insert(A,Y)}}}(s.localStore,u))}async function vI(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){ue(bp,"User change. New user:",e.toKey());const s=await Ab(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(g=>{g.reject(new le(Z.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(n,s.Ls)}}function EI(i,e){const n=Ae(i),s=n.Au.get(e);if(s&&s.hu)return Pe().add(s.key);{let o=Pe();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function Fb(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pI.bind(null,e),e.Pu.H_=rI.bind(null,e.eventManager),e.Pu.yu=iI.bind(null,e.eventManager),e}function TI(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yI.bind(null,e),e}class ph{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return S2(this.persistence,new b2,e.initialUser,this.serializer)}Cu(e){return new wb(fp.mi,this.serializer)}Du(e){return new O2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ph.provider={build:()=>new ph};class bI extends ph{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof dh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new o2(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new wb(s=>dh.mi(s,n),this.serializer)}}class zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>pE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vI.bind(null,this.syncEngine),await eI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nI}()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),s=function(u){return new L2(u)}(e.databaseInfo);return function(u,f,m,g){return new B2(u,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new H2(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>pE(this.syncEngine,n,0),function(){return uE.v()?new uE:new M2}())}createSyncEngine(e,n){return function(o,u,f,m,g,y,E){const S=new lI(o,u,f,m,g,y);return E&&(S.gu=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Ae(n);ue(Ks,"RemoteStore shutting down."),s.Ea.add(5),await lu(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ti("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="FirestoreClient";class wI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=Ih.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue($i,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue($i,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ep(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function mm(i,e){i.asyncQueue.verifyOperationInProgress(),ue($i,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await Ab(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function yE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await AI(i);ue($i,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>hE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>hE(e.remoteStore,o)),i._onlineComponents=e}async function AI(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue($i,"Using user provided OfflineComponentProvider");try{await mm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ys("Error using user provided cache. Falling back to memory cache: "+n),await mm(i,new ph)}}else ue($i,"Using default OfflineComponentProvider"),await mm(i,new bI(void 0));return i._offlineComponents}async function Qb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue($i,"Using user provided OnlineComponentProvider"),await yE(i,i._uninitializedComponentsProvider._online)):(ue($i,"Using default OnlineComponentProvider"),await yE(i,new zm))),i._onlineComponents}function SI(i){return Qb(i).then(e=>e.syncEngine)}async function Yb(i){const e=await Qb(i),n=e.eventManager;return n.onListen=uI.bind(null,e.syncEngine),n.onUnlisten=fI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=cI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dI.bind(null,e.syncEngine),n}function xI(i,e,n={}){const s=new Wr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new Gb({next:A=>{E.Nu(),f.enqueueAndForget(()=>Pb(u,S));const k=A.docs.has(m);!k&&A.fromCache?y.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&A.fromCache&&g&&g.source==="server"?y.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(A)},error:A=>y.reject(A)}),S=new kb(ap(m.path),E,{includeMetadataChanges:!0,qa:!0});return Vb(u,S)}(await Yb(i),i.asyncQueue,e,n,s)),s.promise}function RI(i,e,n={}){const s=new Wr;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,g,y){const E=new Gb({next:A=>{E.Nu(),f.enqueueAndForget(()=>Pb(u,S)),A.fromCache&&g.source==="server"?y.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(A)},error:A=>y.reject(A)}),S=new kb(m,E,{includeMetadataChanges:!0,qa:!0});return Vb(u,S)}(await Yb(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firestore.googleapis.com",vE=!0;class EE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xb,this.ssl=vE}else this.host=e.host,this.ssl=e.ssl??vE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<s2)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Kb(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new OT;switch(s.type){case"firstParty":return new Lx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=_E.get(n);s&&(ue("ComponentProvider","Removing Datastore"),_E.delete(n),s.terminate())}(this),Promise.resolve()}}function $b(i,e,n,s={}){i=ni(i,Bh);const o=ho(e),u=i._getSettings(),f={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${n}`;o&&(gT(`https://${m}`),yT("Firestore",!0)),u.host!==Xb&&u.host!==m&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:m,ssl:o,emulatorOptions:s};if(!Fs(g,f)&&(i._setSettings(g),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Wt.MOCK_USER;else{y=o1(s.mockUserToken,i._app?.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Wt(S)}i._authCredentials=new Vx(new DT(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}toJSON(){return{type:gt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(su(n,gt._jsonSchema))return new gt(e,s||null,new de(nt.fromString(n.referencePath)))}}gt._jsonSchemaVersion="firestore/documentReference/1.0",gt._jsonSchema={type:wt("string",gt._jsonSchemaVersion),referencePath:wt("string")};class Zr extends es{constructor(e,n,s){super(e,n,ap(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new de(e))}withConverter(e){return new Zr(this.firestore,e,this._path)}}function Ap(i,e,...n){if(i=en(i),MT("collection","path",e),i instanceof Bh){const s=nt.fromString(e,...n);return Mv(s),new Zr(i,null,s)}{if(!(i instanceof gt||i instanceof Zr))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return Mv(s),new Zr(i.firestore,null,s)}}function Zl(i,e,...n){if(i=en(i),arguments.length===1&&(e=Ih.newId()),MT("doc","path",e),i instanceof Bh){const s=nt.fromString(e,...n);return Ov(s),new gt(i,null,new de(s))}{if(!(i instanceof gt||i instanceof Zr))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(nt.fromString(e,...n));return Ov(s),new gt(i.firestore,i instanceof Zr?i.converter:null,new de(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="AsyncQueue";class bE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xb(this,"async_queue_retry"),this._c=()=>{const s=dm();s&&ue(TE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Wr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!go(e))throw e;ue(TE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,ti("INTERNAL UNHANDLED ERROR: ",wE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=vp.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&ve(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class vo extends Bh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new bE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bE(e),this._firestoreClient=void 0,await e}}}function Wb(i,e){const n=typeof i=="object"?i:TT(),s=typeof i=="string"?i:lh,o=Jm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=s1("firestore");u&&$b(o,...u)}return o}function qh(i){if(i._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||II(i),i._firestoreClient}function II(i){const e=i._freezeSettings(),n=function(o,u,f,m){return new Jx(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,Kb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new wI(i._authCredentials,i._appCheckCredentials,i._queue,n,i._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(jt.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new En(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(su(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:wt("string",En._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fn._jsonSchemaVersion}}static fromJSON(e){if(su(e,Fn._jsonSchema))return new Fn(e.latitude,e.longitude)}}Fn._jsonSchemaVersion="firestore/geoPoint/1.0",Fn._jsonSchema={type:wt("string",Fn._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Gn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(su(e,Gn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Gn(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gn._jsonSchemaVersion="firestore/vectorValue/1.0",Gn._jsonSchema={type:wt("string",Gn._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=/^__.*__$/;class NI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}class Zb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Jb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ve(40011,{Ac:i})}}class Sp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Sp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jb(this.Ac)&&CI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class DI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Uh(e)}Cc(e,n,s,o=!1){return new Sp({Ac:e,methodName:n,Dc:s,path:Ut.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xp(i){const e=i._freezeSettings(),n=Uh(i._databaseId);return new DI(i._databaseId,!!e.ignoreUndefinedProperties,n)}function OI(i,e,n,s,o,u={}){const f=i.Cc(u.merge||u.mergeFields?2:0,e,n,o);Ip("Data must be an object, but it was:",f,s);const m=e0(s,f);let g,y;if(u.merge)g=new Tn(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const A=Bm(e,S,n);if(!f.contains(A))throw new le(Z.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);n0(E,A)||E.push(A)}g=new Tn(E),y=f.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,y=f.fieldTransforms;return new NI(new cn(m),g,y)}class Hh extends hu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Hh}}class Rp extends hu{_toFieldTransform(e){return new SR(e.path,new Xl)}isEqual(e){return e instanceof Rp}}function MI(i,e,n,s){const o=i.Cc(1,e,n);Ip("Data must be an object, but it was:",o,s);const u=[],f=cn.empty();Zi(s,(g,y)=>{const E=Cp(e,g,n);y=en(y);const S=o.yc(E);if(y instanceof Hh)u.push(E);else{const A=fu(y,S);A!=null&&(u.push(E),f.set(E,A))}});const m=new Tn(u);return new Zb(f,m,o.fieldTransforms)}function VI(i,e,n,s,o,u){const f=i.Cc(1,e,n),m=[Bm(e,s,n)],g=[o];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(Bm(e,u[A])),g.push(u[A+1]);const y=[],E=cn.empty();for(let A=m.length-1;A>=0;--A)if(!n0(y,m[A])){const k=m[A];let B=g[A];B=en(B);const Y=f.yc(k);if(B instanceof Hh)y.push(k);else{const G=fu(B,Y);G!=null&&(y.push(k),E.set(k,G))}}const S=new Tn(y);return new Zb(E,S,f.fieldTransforms)}function PI(i,e,n,s=!1){return fu(n,i.Cc(s?4:3,e))}function fu(i,e){if(t0(i=en(i)))return Ip("Unsupported field value:",e,i),e0(i,e);if(i instanceof hu)return function(s,o){if(!Jb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let g=fu(m,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return bR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:fh(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:fh(o.serializer,u)}}if(s instanceof Fn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof En)return{bytesValue:pb(o.serializer,s._byteString)};if(s instanceof gt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:cp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Gn)return function(f,m){return{mapValue:{fields:{[HT]:{stringValue:FT},[uh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Sc("VectorValues must only contain numeric values.");return op(m.serializer,y)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Ch(s)}`)}(i,e)}function e0(i,e){const n={};return LT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(i,(s,o)=>{const u=fu(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function t0(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof rt||i instanceof Fn||i instanceof En||i instanceof gt||i instanceof hu||i instanceof Gn)}function Ip(i,e,n){if(!t0(n)||!PT(n)){const s=Ch(n);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function Bm(i,e,n){if((e=en(e))instanceof cu)return e._internalPath;if(typeof e=="string")return Cp(i,e);throw gh("Field path arguments must be of type string or ",i,!1,void 0,n)}const kI=new RegExp("[~\\*/\\[\\]]");function Cp(i,e,n){if(e.search(kI)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new cu(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function gh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new le(Z.INVALID_ARGUMENT,m+i+g)}function n0(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Np("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LI extends r0{data(){return super.data()}}function Np(i,e){return typeof e=="string"?Cp(i,e):e instanceof cu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dp{}class Op extends Dp{}function i0(i,e,...n){let s=[];e instanceof Dp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(g=>g instanceof Gh).length,m=u.filter(g=>g instanceof Fh).length;if(f>1||f>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Fh extends Op{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Fh(e,n,s)}_apply(e){const n=this._parse(e);return a0(e._query,n),new es(e.firestore,e.converter,Nm(e._query,n))}_parse(e){const n=xp(e.firestore);return function(u,f,m,g,y,E,S){let A;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){SE(S,E);const B=[];for(const Y of S)B.push(AE(g,u,Y));A={arrayValue:{values:B}}}else A=AE(g,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||SE(S,E),A=PI(m,f,S,E==="in"||E==="not-in");return bt.create(y,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Gh extends Dp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Gh(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const g of m)a0(f,g),f=Nm(f,g)}(e._query,n),new es(e.firestore,e.converter,Nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Qh extends Op{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Qh(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Kl(u,f)}(e._query,this._field,this._direction);return new es(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new yo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function s0(i,e="asc"){const n=e,s=Np("orderBy",i);return Qh._create(s,n)}function AE(i,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZT(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!de.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Bv(i,new de(s))}if(n instanceof gt)return Bv(i,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ch(n)}.`)}function SE(i,e){if(!Array.isArray(i)||i.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function a0(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class o0{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ve(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Zi(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[uh].arrayValue?.values?.map(s=>pt(s.doubleValue));return new Gn(n)}convertGeoPoint(e){return new Fn(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Oh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=Qi(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Fe(Tb(s),9688,{name:e});const o=new to(s.get(1),s.get(3)),u=new de(s.popFirst(5));return o.isEqual(n)||ti(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class Ka{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fi extends r0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Np("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Fi._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Fi._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fi._jsonSchema={type:wt("string",Fi._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Bl extends Fi{data(e={}){return super.data(e)}}class qs{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ka(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bl(this._firestore,this._userDataWriter,s.key,s,new Ka(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const g=new Bl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ka(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Bl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ka(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:zI(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ih.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function zI(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ve(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i){i=ni(i,gt);const e=ni(i.firestore,vo);return xI(qh(e),i._key).then(n=>BI(e,i,n))}qs._jsonSchemaVersion="firestore/querySnapshot/1.0",qs._jsonSchema={type:wt("string",qs._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};class l0 extends o0{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function u0(i){i=ni(i,es);const e=ni(i.firestore,vo),n=qh(e),s=new l0(e);return UI(i._query),RI(n,i._query).then(o=>new qs(e,s,i,o))}function c0(i,e,n,...s){i=ni(i,gt);const o=ni(i.firestore,vo),u=xp(o);let f;return f=typeof(e=en(e))=="string"||e instanceof cu?VI(u,"updateDoc",i._key,e,n,s):MI(u,"updateDoc",i._key,e),Vp(o,[f.toMutation(i._key,dr.exists(!0))])}function h0(i,e){const n=ni(i.firestore,vo),s=Zl(i),o=jI(i.converter,e);return Vp(n,[OI(xp(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,dr.exists(!1))]).then(()=>s)}function Vp(i,e){return function(s,o){const u=new Wr;return s.asyncQueue.enqueueAndForget(async()=>mI(await SI(s),o,u)),u.promise}(qh(i),e)}function BI(i,e,n){const s=n.docs.get(e._key),o=new l0(i);return new Fi(i,o,e._key,s,new Ka(n.hasPendingWrites,n.fromCache),e.converter)}function f0(){return new Rp("serverTimestamp")}(function(e,n=!0){(function(o){mo=o})(fo),Ja(new Gs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new vo(new Px(s.getProvider("auth-internal")),new Ux(f,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new to(y.options.projectId,E)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),qi(Iv,Cv,e),qi(Iv,Cv,"esm2020")})();const qI=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:o0,Bytes:En,CollectionReference:Zr,DocumentReference:gt,DocumentSnapshot:Fi,FieldPath:cu,FieldValue:hu,Firestore:vo,FirestoreError:le,GeoPoint:Fn,Query:es,QueryCompositeFilterConstraint:Gh,QueryConstraint:Op,QueryDocumentSnapshot:Bl,QueryFieldFilterConstraint:Fh,QueryOrderByConstraint:Qh,QuerySnapshot:qs,SnapshotMetadata:Ka,Timestamp:rt,VectorValue:Gn,_AutoId:Ih,_ByteString:jt,_DatabaseId:to,_DocumentKey:de,_EmptyAuthCredentialsProvider:OT,_FieldPath:Ut,_cast:ni,_logWarn:Ys,_validateIsNotUsedTogether:VT,addDoc:h0,collection:Ap,connectFirestoreEmulator:$b,doc:Zl,ensureFirestoreConfigured:qh,executeWrite:Vp,getDoc:Mp,getDocs:u0,getFirestore:Wb,orderBy:s0,query:i0,serverTimestamp:f0,updateDoc:c0},Symbol.toStringTag,{value:"Module"}));var HI="firebase",FI="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qi(HI,FI,"app");function d0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GI=d0,m0=new ru("auth","Firebase",d0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new Wm("@firebase/auth");function QI(i,...e){yh.logLevel<=Me.WARN&&yh.warn(`Auth (${fo}): ${i}`,...e)}function eh(i,...e){yh.logLevel<=Me.ERROR&&yh.error(`Auth (${fo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(i,...e){throw kp(i,...e)}function Qn(i,...e){return kp(i,...e)}function Pp(i,e,n){const s={...GI(),[e]:n};return new ru("auth","Firebase",s).create(e,{appName:i.name})}function Hs(i){return Pp(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function YI(i,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&_r(i,"argument-error"),Pp(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function kp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return m0.create(i,...e)}function Te(i,e,...n){if(!i)throw kp(e,...n)}function Kr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw eh(e),new Error(e)}function ii(i,e){i||Kr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){return typeof self<"u"&&self.location?.href||""}function KI(){return xE()==="http:"||xE()==="https:"}function xE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KI()||d1()||"connection"in navigator)?navigator.onLine:!0}function $I(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(e,n){this.shortDelay=e,this.longDelay=n,ii(n>e,"Short delay should be less than long delay!"),this.isMobile=c1()||m1()}get(){return XI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(i,e){ii(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],JI=new du(3e4,6e4);function Up(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Eo(i,e,n,s,o={}){return g0(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=iu({key:i.config.apiKey,...f}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const y={method:e,headers:g,...u};return f1()||(y.referrerPolicy="no-referrer"),i.emulatorConfig&&ho(i.emulatorConfig.host)&&(y.credentials="include"),p0.fetch()(await y0(i,i.config.apiHost,n,m),y)})}async function g0(i,e,n){i._canInitEmulator=!1;const s={...WI,...e};try{const o=new tC(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Qc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qc(i,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw Qc(i,"email-already-in-use",f);if(g==="USER_DISABLED")throw Qc(i,"user-disabled",f);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Pp(i,E,y);_r(i,E)}}catch(o){if(o instanceof si)throw o;_r(i,"network-request-failed",{message:String(o)})}}async function eC(i,e,n,s,o={}){const u=await Eo(i,e,n,s,o);return"mfaPendingCredential"in u&&_r(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function y0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?Lp(i.config,o):`${i.config.apiScheme}://${o}`;return ZI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class tC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Qn(this.auth,"network-request-failed")),JI.get())})}}function Qc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Qn(i,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(i,e){return Eo(i,"POST","/v1/accounts:delete",e)}async function _h(i,e){return Eo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rC(i,e=!1){const n=en(i),s=await n.getIdToken(e),o=jp(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:ql(pm(o.auth_time)),issuedAtTime:ql(pm(o.iat)),expirationTime:ql(pm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function pm(i){return Number(i)*1e3}function jp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return eh("JWT malformed, contained fewer than 3 sections"),null;try{const o=fT(n);return o?JSON.parse(o):(eh("Failed to decode base64 JWT payload"),null)}catch(o){return eh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function RE(i){const e=jp(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof si&&iC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function iC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ql(this.lastLoginAt),this.creationTime=ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(i){const e=i.auth,n=await i.getIdToken(),s=await Jl(i,_h(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?_0(o.providerUserInfo):[],f=oC(i.providerData,u),m=i.isAnonymous,g=!(i.email&&o.passwordHash)&&!f?.length,y=m?g:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(i,E)}async function aC(i){const e=en(i);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function oC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function _0(i){return i.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(i,e){const n=await g0(i,{},async()=>{const s=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await y0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return i.emulatorConfig&&ho(i.emulatorConfig.host)&&(g.credentials="include"),p0.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function uC(i,e){return Eo(i,"POST","/v2/accounts:revokeToken",Up(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=RE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await lC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new $a;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Hn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new sC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Hm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rC(this,e)}reload(){return aC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await Jl(this,nC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:S,emailVerified:A,isAnonymous:k,providerData:B,stsTokenManager:Y}=n;Te(S&&Y,e,"internal-error");const G=$a.fromJSON(this.name,Y);Te(typeof S=="string",e,"internal-error"),Pi(s,e.name),Pi(o,e.name),Te(typeof A=="boolean",e,"internal-error"),Te(typeof k=="boolean",e,"internal-error"),Pi(u,e.name),Pi(f,e.name),Pi(m,e.name),Pi(g,e.name),Pi(y,e.name),Pi(E,e.name);const $=new Hn({uid:S,auth:e,email:o,emailVerified:A,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:G,createdAt:y,lastLoginAt:E});return B&&Array.isArray(B)&&($.providerData=B.map(ne=>({...ne}))),g&&($._redirectEventId=g),$}static async _fromIdTokenResponse(e,n,s=!1){const o=new $a;o.updateFromServerResponse(n);const u=new Hn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?_0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new $a;m.updateFromIdToken(s);const g=new Hn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Hm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE=new Map;function Xr(i){ii(i instanceof Function,"Expected a class definition");let e=IE.get(i);return e?(ii(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,IE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}v0.type="NONE";const CE=v0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(i,e,n){return`firebase:${i}:${e}:${n}`}class Wa{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=th(this.userKey,o.apiKey,u),this.fullPersistenceKey=th("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await _h(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Wa(Xr(CE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Xr(CE);const f=th(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(f);if(E){let S;if(typeof E=="string"){const A=await _h(e,{idToken:E}).catch(()=>{});if(!A)break;S=await Hn._fromGetAccountInfoResponse(e,A,E)}else S=Hn._fromJSON(e,E);y!==u&&(m=S),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Wa(u,e,s):(u=g[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new Wa(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(E0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(S0(e))return"Blackberry";if(x0(e))return"Webos";if(T0(e))return"Safari";if((e.includes("chrome/")||b0(e))&&!e.includes("edge/"))return"Chrome";if(A0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function E0(i=Jt()){return/firefox\//i.test(i)}function T0(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function b0(i=Jt()){return/crios\//i.test(i)}function w0(i=Jt()){return/iemobile/i.test(i)}function A0(i=Jt()){return/android/i.test(i)}function S0(i=Jt()){return/blackberry/i.test(i)}function x0(i=Jt()){return/webos/i.test(i)}function zp(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function cC(i=Jt()){return zp(i)&&!!window.navigator?.standalone}function hC(){return p1()&&document.documentMode===10}function R0(i=Jt()){return zp(i)||A0(i)||x0(i)||S0(i)||/windows phone/i.test(i)||w0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(i,e=[]){let n;switch(i){case"Browser":n=NE(Jt());break;case"Worker":n=`${NE(Jt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const g=e(u);f(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dC(i,e={}){return Eo(i,"GET","/v2/passwordPolicy",Up(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=6;class pC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??mC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new fC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wa.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _h(this,{idToken:e}),s=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=$I()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Hs(this));const n=e?en(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await dC(this),n=new pC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await uC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xr(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await Wa.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&QI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Yh(i){return en(i)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=w1(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yC(i){Bp=i}function _C(i){return Bp.loadJS(i)}function vC(){return Bp.gapiScript}function EC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(i,e){const n=Jm(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fs(u,e??{}))return o;_r(o,"already-initialized")}return n.initialize({options:e})}function bC(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Xr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function wC(i,e,n){const s=Yh(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=C0(e),{host:f,port:m}=AC(e),g=m===null?"":`:${m}`,y={url:`${u}//${f}${g}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(Fs(y,s.config.emulator)&&Fs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,ho(f)?(gT(`${u}//${f}${g}`),yT("Auth",!0)):SC()}function C0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function AC(i){const e=C0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:OE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:OE(f)}}}function OE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function SC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Kr("not implemented")}_getIdTokenResponse(e){return Kr("not implemented")}_linkToIdToken(e,n){return Kr("not implemented")}_getReauthenticationResolver(e){return Kr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Za(i,e){return eC(i,"POST","/v1/accounts:signInWithIdp",Up(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC="http://localhost";class Xs extends N0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_r("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Za(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Za(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Za(e,n)}buildRequest(){const e={requestUri:xC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=iu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends qp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends mu{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ki.credential(e.oauthAccessToken)}catch{return null}}}ki.FACEBOOK_SIGN_IN_METHOD="facebook.com";ki.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends mu{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.GITHUB_SIGN_IN_METHOD="github.com";Li.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends mu{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ui.credential(n,s)}catch{return null}}}Ui.TWITTER_SIGN_IN_METHOD="twitter.com";Ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Hn._fromIdTokenResponse(e,s,o),f=ME(s);return new ao({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=ME(s);return new ao({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function ME(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends si{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Eh(e,n,s,o)}}function D0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(i,u,e,s):u})}async function RC(i,e,n=!1){const s=await Jl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ao._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(i,e,n=!1){const{auth:s}=i;if(qn(s.app))return Promise.reject(Hs(s));const o="reauthenticate";try{const u=await Jl(i,D0(s,o,e,i),n);Te(u.idToken,s,"internal-error");const f=jp(u.idToken);Te(f,s,"internal-error");const{sub:m}=f;return Te(i.uid===m,s,"user-mismatch"),ao._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&_r(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(i,e,n=!1){if(qn(i.app))return Promise.reject(Hs(i));const s="signIn",o=await D0(i,s,e),u=await ao._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}function NC(i,e,n,s){return en(i).onIdTokenChanged(e,n,s)}function DC(i,e,n){return en(i).beforeAuthStateChanged(e,n)}function OC(i){return en(i).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=1e3,VC=10;class M0 extends O0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=R0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);hC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},MC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}M0.type="LOCAL";const PC=M0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0 extends O0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}V0.type="SESSION";const P0=V0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Kh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),g=await kC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,g)=>{const y=Hp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(S){const A=S;if(A.data.eventId===y)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function UC(i){pr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function jC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zC(){return navigator?.serviceWorker?.controller||null}function BC(){return k0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="firebaseLocalStorageDb",qC=1,bh="firebaseLocalStorage",U0="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(i,e){return i.transaction([bh],e?"readwrite":"readonly").objectStore(bh)}function HC(){const i=indexedDB.deleteDatabase(L0);return new pu(i).toPromise()}function Fm(){const i=indexedDB.open(L0,qC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(bh,{keyPath:U0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(bh)?e(s):(s.close(),await HC(),e(await Fm()))})})}async function VE(i,e,n){const s=Xh(i,!0).put({[U0]:e,value:n});return new pu(s).toPromise()}async function FC(i,e){const n=Xh(i,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function PE(i,e){const n=Xh(i,!0).delete(e);return new pu(n).toPromise()}const GC=800,QC=3;class j0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>QC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return k0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kh._getInstance(BC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await jC(),!this.activeServiceWorker)return;this.sender=new LC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await VE(e,Th,"1"),await PE(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>VE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>FC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j0.type="LOCAL";const YC=j0;new du(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(i,e){return e?Xr(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp extends N0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Za(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Za(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Za(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function KC(i){return CC(i.auth,new Fp(i),i.bypassAuthState)}function XC(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),IC(n,new Fp(i),i.bypassAuthState)}async function $C(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),RC(n,new Fp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return KC;case"linkViaPopup":case"linkViaRedirect":return $C;case"reauthViaPopup":case"reauthViaRedirect":return XC;default:_r(this.auth,"internal-error")}}resolve(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new du(2e3,1e4);async function ZC(i,e,n){if(qn(i.app))return Promise.reject(Qn(i,"operation-not-supported-in-this-environment"));const s=Yh(i);YI(i,e,qp);const o=z0(s,n);return new zs(s,"signInViaPopup",e,o).executeNotNull()}class zs extends B0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,zs.currentPopupAction&&zs.currentPopupAction.cancel(),zs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){ii(this.filter.length===1,"Popup operations only handle one event");const e=Hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WC.get())};e()}}zs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="pendingRedirect",nh=new Map;class eN extends B0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=nh.get(this.auth._key());if(!e){try{const s=await tN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}nh.set(this.auth._key(),e)}return this.bypassAuthState||nh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tN(i,e){const n=iN(e),s=rN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function nN(i,e){nh.set(i._key(),e)}function rN(i){return Xr(i._redirectPersistence)}function iN(i){return th(JC,i.config.apiKey,i.name)}async function sN(i,e,n=!1){if(qn(i.app))return Promise.reject(Hs(i));const s=Yh(i),o=z0(s,e),f=await new eN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=600*1e3;class oN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!q0(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aN&&this.cachedEventUids.clear(),this.cachedEventUids.has(kE(e))}saveEventToCache(e){this.cachedEventUids.add(kE(e)),this.lastProcessedEventTime=Date.now()}}function kE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function q0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function lN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(i,e={}){return Eo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hN=/^https?/;async function fN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await uN(i);for(const n of e)try{if(dN(n))return}catch{}_r(i,"unauthorized-domain")}function dN(i){const e=qm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!hN.test(n))return!1;if(cN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new du(3e4,6e4);function LE(){const i=pr().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function pN(i){return new Promise((e,n)=>{function s(){LE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LE(),n(Qn(i,"network-request-failed"))},timeout:mN.get()})}if(pr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pr().gapi?.load)s();else{const o=EC("iframefcb");return pr()[o]=()=>{gapi.load?s():n(Qn(i,"network-request-failed"))},_C(`${vC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw rh=null,e})}let rh=null;function gN(i){return rh=rh||pN(i),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new du(5e3,15e3),_N="__/auth/iframe",vN="emulator/auth/iframe",EN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bN(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Lp(e,vN):`https://${i.config.authDomain}/${_N}`,s={apiKey:e.apiKey,appName:i.name,v:fo},o=TN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${iu(s).slice(1)}`}async function wN(i){const e=await gN(i),n=pr().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:bN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Qn(i,"network-request-failed"),m=pr().setTimeout(()=>{u(f)},yN.get());function g(){pr().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SN=500,xN=600,RN="_blank",IN="http://localhost";class UE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CN(i,e,n,s=SN,o=xN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g={...AN,width:s.toString(),height:o.toString(),top:u,left:f},y=Jt().toLowerCase();n&&(m=b0(y)?RN:n),E0(y)&&(e=e||IN,g.scrollbars="yes");const E=Object.entries(g).reduce((A,[k,B])=>`${A}${k}=${B},`,"");if(cC(y)&&m!=="_self")return NN(e||"",m),new UE(null);const S=window.open(e||"",m,E);Te(S,i,"popup-blocked");try{S.focus()}catch{}return new UE(S)}function NN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN="__/auth/handler",ON="emulator/auth/handler",MN=encodeURIComponent("fac");async function jE(i,e,n,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:fo,eventId:o};if(e instanceof qp){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",b1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))f[E]=S}if(e instanceof mu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await i._getAppCheckToken(),y=g?`#${MN}=${encodeURIComponent(g)}`:"";return`${VN(i)}?${iu(m).slice(1)}${y}`}function VN({config:i}){return i.emulator?Lp(i,ON):`https://${i.authDomain}/${DN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class PN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=P0,this._completeRedirectFn=sN,this._overrideRedirectResult=nN}async _openPopup(e,n,s,o){ii(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await jE(e,n,s,qm(),o);return CN(e,u,Hp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await jE(e,n,s,qm(),o);return UC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ii(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await wN(e),s=new oN(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},o=>{const u=o?.[0]?.[gm];u!==void 0&&n(!!u),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return R0()||T0()||zp()}}const kN=PN;var zE="@firebase/auth",BE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jN(i){Ja(new Gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I0(i)},y=new gC(s,o,u,g);return bC(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ja(new Gs("auth-internal",e=>{const n=Yh(e.getProvider("auth").getImmediate());return(s=>new LN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qi(zE,BE,UN(i)),qi(zE,BE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=300,BN=pT("authIdTokenMaxAge")||zN;let qE=null;const qN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>BN)return;const o=n?.token;qE!==o&&(qE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function HN(i=TT()){const e=Jm(i,"auth");if(e.isInitialized())return e.getImmediate();const n=TC(i,{popupRedirectResolver:kN,persistence:[YC,PC,P0]}),s=pT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=qN(u.toString());DC(n,f,()=>f(n.currentUser)),NC(n,m=>f(m))}}const o=dT("auth");return o&&wC(n,`http://${o}`),n}function FN(){return document.getElementsByTagName("head")?.[0]??document}yC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Qn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",FN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jN("Browser");const GN={apiKey:"AIzaSyCZDPyFjxZo02dQUPocIcqjd4yaUPSsj6Y",authDomain:"writeon-bd926.firebaseapp.com",projectId:"writeon-bd926",storageBucket:"writeon-bd926.firebasestorage.app",messagingSenderId:"117698739426",appId:"1:117698739426:web:36f57f2f47826c032532bb"},H0=ET(GN),oo=Wb(H0),Gt=HN(H0),F0=new Yr,QN=Object.freeze(Object.defineProperty({__proto__:null,auth:Gt,db:oo,provider:F0},Symbol.toStringTag,{value:"Module"}));var G0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},HE=Bs.createContext&&Bs.createContext(G0),YN=["attr","size","title"];function KN(i,e){if(i==null)return{};var n=XN(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(n[s]=i[s])}return n}function XN(i,e){if(i==null)return{};var n={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function wh(){return wh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},wh.apply(this,arguments)}function FE(i,e){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),n.push.apply(n,s)}return n}function Ah(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FE(Object(n),!0).forEach(function(s){$N(i,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):FE(Object(n)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(n,s))})}return i}function $N(i,e,n){return e=WN(e),e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function WN(i){var e=ZN(i,"string");return typeof e=="symbol"?e:e+""}function ZN(i,e){if(typeof i!="object"||!i)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Q0(i){return i&&i.map((e,n)=>Bs.createElement(e.tag,Ah({key:n},e.attr),Q0(e.child)))}function To(i){return e=>Bs.createElement(JN,wh({attr:Ah({},i.attr)},e),Q0(i.child))}function JN(i){var e=n=>{var{attr:s,size:o,title:u}=i,f=KN(i,YN),m=o||n.size||"1em",g;return n.className&&(g=n.className),i.className&&(g=(g?g+" ":"")+i.className),Bs.createElement("svg",wh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:g,style:Ah(Ah({color:i.color||n.color},n.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Bs.createElement("title",null,u),i.children)};return HE!==void 0?Bs.createElement(HE.Consumer,null,n=>e(n)):e(G0)}function eD(i){return To({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(i)}function tD(i){return To({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(i)}function nD(i){return To({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(i)}function rD(i){return To({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"},child:[]},{tag:"polyline",attr:{points:"22,6 12,13 2,6"},child:[]}]})(i)}function iD(i){return To({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(i)}function sD(i){return To({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(i)}function aD(){const[i,e]=q.useState([]),[n,s]=q.useState(!0),[o,u]=q.useState(null),[f,m]=q.useState(!1),[g,y]=q.useState(null),E=q.useCallback(async()=>{s(!0),u(null);try{const A=Ap(oo,"posts"),k=i0(A,s0("createdAt","desc")),B=await u0(k);e(B.docs.map(Y=>({...Y.data(),id:Y.id})))}catch{u("Failed to load posts. Please try again later.")}finally{s(!1)}},[]);q.useEffect(()=>{E()},[E]);const S=Gt.currentUser?.uid;return T.jsxs("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:[T.jsxs("div",{className:"w-full flex flex-col lg:flex-row gap-12 items-start justify-center",children:[T.jsxs("div",{className:"w-full lg:basis-[20%] flex flex-col gap-6 text-secondary text-sm mb-10 lg:mb-0",children:[T.jsxs("nav",{className:"flex flex-col gap-2",children:[T.jsxs(Ct,{to:"/",className:"hover:text-primary font-bold flex items-center gap-2",children:[T.jsx(tD,{})," Home"]}),T.jsxs(Ct,{to:"/about",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary font-bold flex items-center gap-2",children:[T.jsx(nD,{})," About"]}),T.jsxs(Ct,{to:"/contact",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary font-bold flex items-center gap-2",children:[T.jsx(rD,{})," Contact"]}),T.jsxs(Ct,{to:"/code-of-conduct",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary font-bold flex items-center gap-2",children:[T.jsx(iD,{})," Code of Conduct"]}),T.jsxs(Ct,{to:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary font-bold flex items-center gap-2",children:[T.jsx(sD,{})," Privacy Policy"]}),T.jsxs(Ct,{to:"/terms-of-use",target:"_blank",rel:"noopener noreferrer",className:"hover:text-primary font-bold flex items-center gap-2",children:[T.jsx(eD,{})," Terms of use"]})]}),T.jsxs("div",{children:[T.jsx("span",{className:"font-bold text-primary text-base mb-2 block pt-4",children:"Tags"}),T.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[T.jsx("span",{className:"bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow border border-secondary",children:"#webdev"}),T.jsx("span",{className:"bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow border border-secondary",children:"#opensource"}),T.jsx("span",{className:"bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow border border-secondary",children:"#machinelearning"}),T.jsx("span",{className:"bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow border border-secondary",children:"#android"}),T.jsx("span",{className:"bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow border border-secondary",children:"#git"}),T.jsx("span",{className:"bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow border border-secondary",children:"#computerscience"}),T.jsx("span",{className:"bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow border border-secondary",children:"#kotlin"})]})]}),T.jsx("div",{className:"mt-4 border-secondary pt-4",children:T.jsxs("div",{className:"bg-secondary rounded-2xl p-4",children:[T.jsx("span",{className:"font-bold text-primary text-base mb-2 block",children:"WriteOn Community"}),T.jsx("p",{className:"text-xs text-secondary mb-2",children:"Welcome to WriteOn  your space to write, share, and discover insightful blogs from developers and creators around the world."}),T.jsx("p",{className:"text-xs text-secondary mb-2",children:"Join the conversation, connect with like-minded people, and grow your knowledge in tech, coding, and beyond."}),T.jsx("p",{className:"text-xs text-secondary mb-2",children:"WriteOn is built for the community, by the community. We believe in open sharing, learning, and supporting each other's journeys."}),T.jsx("p",{className:"text-xs text-secondary",children:"Made with  using React, Firebase, and a passion for writing. WriteOn  2025."})]})})]}),T.jsx("div",{className:"w-full lg:basis-[50%] flex flex-col gap-6",children:n?T.jsx("div",{className:"text-secondary text-lg text-center",children:"Loading posts..."}):o?T.jsx("div",{className:"text-red-500 text-lg text-center",children:o}):i.length===0?T.jsx("div",{className:"text-secondary text-lg text-center",children:"No posts yet. Be the first to create one!"}):i.map(A=>{const k=A.author?.id&&S&&A.author.id===S;return T.jsxs("div",{className:"relative group",children:[T.jsxs(Ct,{to:`/blog/${A.id}`,className:"block bg-secondary rounded-2xl shadow-md p-6 text-left hover:shadow-lg transition cursor-pointer focus:outline-none focus:ring-2 focus:ring-secondary",children:[A.coverImage&&T.jsx("img",{src:A.coverImage,alt:"Cover",className:"mb-4 w-full max-h-60 object-contain rounded-xl border border-secondary"}),T.jsx("h2",{className:"text-2xl font-bold text-primary mb-2",children:A.title}),T.jsx("div",{className:"text-base text-secondary mb-4 prose prose-invert max-w-none",dangerouslySetInnerHTML:{__html:A.content}}),Array.isArray(A.tags)&&A.tags.length>0&&T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:A.tags.map((B,Y)=>T.jsxs("span",{className:"inline-flex items-center bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow border border-secondary",children:["#",B]},B+Y))}),T.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:T.jsxs("span",{children:["By ",A.author?.name||"Unknown"]})})]}),k&&T.jsxs("div",{className:"absolute top-4 right-4 flex gap-2 z-10",children:[T.jsx("button",{onClick:B=>{B.preventDefault(),openDeleteModal(A.id)},className:"px-3 py-1 rounded-full bg-red-500 text-white text-xs font-semibold shadow hover:bg-red-700 transition",title:"Delete this post",children:"Delete"}),T.jsx(Ct,{to:`/update/${A.id}`,className:"px-3 py-1 rounded-full bg-blue-500 text-white text-xs font-semibold shadow hover:bg-blue-700 transition",title:"Edit this post",onClick:B=>B.stopPropagation(),children:"Update"})]})]},A.id)})}),T.jsxs("div",{className:"w-full lg:basis-[30%] flex flex-col gap-4 bg-secondary/80 rounded-2xl shadow-md mt-10 lg:mt-0",children:[T.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Active Discussions"}),T.jsxs("ul",{className:"flex flex-col gap-4",children:[T.jsxs("li",{className:"bg-primary/80 rounded-xl p-4 flex flex-col gap-1 border border-secondary",children:[T.jsx("span",{className:"font-semibold text-secondary",children:"Why I Ditched Cursor for Kiro - The Ultimate AI IDE for Beginners"}),T.jsx("span",{className:"text-xs text-gray-400",children:"11 comments"})]}),T.jsxs("li",{className:"bg-primary/80 rounded-xl p-4 flex flex-col gap-1 border border-secondary",children:[T.jsx("span",{className:"font-semibold text-secondary",children:"Top 7 Featured DEV Posts of the Week"}),T.jsx("span",{className:"text-xs text-gray-400",children:"4 comments"})]}),T.jsxs("li",{className:"bg-primary/80 rounded-xl p-4 flex flex-col gap-1 border border-secondary",children:[T.jsx("span",{className:"font-semibold text-secondary",children:"Why I Chose 'ForgeCode' as #1 AI Coding Assistant in 2025?"}),T.jsx("span",{className:"text-xs text-gray-400",children:"5 comments"})]}),T.jsxs("li",{className:"bg-primary/80 rounded-xl p-4 flex flex-col gap-1 border border-secondary",children:[T.jsx("span",{className:"font-semibold text-secondary",children:"A Lightweight 5-Star Rating System for PHP"}),T.jsx("span",{className:"text-xs text-gray-400",children:"1 comment"})]}),T.jsxs("li",{className:"bg-primary/80 rounded-xl p-4 flex flex-col gap-1 border border-secondary",children:[T.jsx("span",{className:"font-semibold text-secondary",children:"First Contributions: learn how to contribute to open source projects"}),T.jsx("span",{className:"text-xs text-gray-400",children:"5 comments"})]})]})]})]}),f&&T.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:T.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-sm w-full text-center",children:[T.jsx("h3",{className:"text-xl font-bold text-primary mb-4",children:"Confirm Delete"}),T.jsx("p",{className:"text-secondary mb-6",children:"Are you sure you want to delete this blog post? This action cannot be undone."}),T.jsxs("div",{className:"flex justify-center gap-4",children:[T.jsx("button",{onClick:closeDeleteModal,className:"px-5 py-2 rounded-full bg-gray-200 text-primary font-semibold hover:bg-gray-300 transition",children:"Cancel"}),T.jsx("button",{onClick:confirmDelete,className:"px-5 py-2 rounded-full bg-red-500 text-white font-semibold hover:bg-red-700 transition",children:"Delete"})]})]})})]})}function oD({setIsAuthenticated:i}){const e=co(),n=()=>{ZC(Gt,F0).then(s=>{localStorage.setItem("isAuth",!0),i(!0),e("/"),console.log("User signed in:",s.user)}).catch(s=>{console.error("Error signing in:",s)})};return T.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center justify-center px-4 py-12",children:T.jsxs("div",{className:"max-w-md w-full bg-secondary rounded-2xl shadow-lg p-8 flex flex-col items-center",children:[T.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-secondary mb-2",children:"Sign in"}),T.jsx("p",{className:"text-base text-secondary mb-8",children:"Sign in to continue with your Google account."}),T.jsxs("button",{className:"signin-with-google-btn flex items-center justify-center w-full h-14 rounded-full text-[1.2rem] bg-white text-gray-800 shadow-lg hover:bg-gray-100 transition gap-3 font-semibold border border-gray-300",onClick:n,children:[T.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-6 h-6"}),T.jsx("span",{children:"Sign in with Google"})]})]})})}function lD({isAuthenticated:i}){const[e,n]=q.useState(""),[s,o]=q.useState(""),u=q.useRef(null),[f,m]=q.useState([]),[g,y]=q.useState(""),[E,S]=q.useState(null),[A,k]=q.useState(null),[B,Y]=q.useState(""),G=Ap(oo,"posts"),$=co(),ne=x=>{y(x.target.value)},re=x=>{const N=x.trim();N&&!f.includes(N)&&m([...f,N])},pe=x=>{(x.key===" "||x.key==="Enter"||x.key===",")&&(x.preventDefault(),g.trim()&&(re(g),y("")))},he=()=>{g.trim()&&(re(g),y(""))},Se=x=>{m(f.filter((N,O)=>O!==x))},P=x=>{Y("");const N=x.target.files[0];if(!N)return;if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(N.type)){Y("Only PNG, JPEG, JPG, or WEBP images are allowed."),S(null),k(null);return}if(N.size>1024*1024){Y("Image size must be less than 1MB."),S(null),k(null);return}const D=new FileReader;D.onloadend=()=>{S(D.result),k(D.result)},D.readAsDataURL(N)},R=async x=>{x.preventDefault(),await h0(G,{author:{name:Gt.currentUser.displayName,id:Gt.currentUser.uid},title:e,content:s,tags:f,coverImage:E,createdAt:f0()}),$("/")};return q.useEffect(()=>{if(console.log("isAuthenticated in Create:",i),i||$("/login"),window.Jodit)u.current&&window.Jodit&&(window.joditInstance=window.Jodit.make(u.current,{buttons:["bold","italic","underline","|","ul","ol","|","link","image","hr","|","left","center","right","justify"],height:220,events:{change:x=>o(x)}}));else{const x=document.createElement("link");x.rel="stylesheet",x.href="https://cdn.jsdelivr.net/npm/jodit@latest/es2021/jodit.fat.min.css",document.head.appendChild(x);const N=document.createElement("script");N.src="https://cdn.jsdelivr.net/npm/jodit@latest/es2021/jodit.fat.min.js",N.onload=()=>{u.current&&window.Jodit&&(window.joditInstance=window.Jodit.make(u.current,{buttons:["bold","italic","underline","|","ul","ol","|","link","image","hr","|","left","center","right","justify"],height:220,events:{change:O=>o(O)}}))},document.body.appendChild(N)}return()=>{window.joditInstance&&(window.joditInstance.destruct(),window.joditInstance=null)}},[i,$]),T.jsx("div",{className:"createPostPage min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center justify-center px-4 py-12",children:T.jsxs("div",{className:"max-w-lg w-full bg-secondary rounded-2xl shadow-lg p-8 flex flex-col items-center",children:[T.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-secondary mb-2",children:"Create a New Post"}),T.jsx("p",{className:"text-base text-secondary mb-6",children:"Fill out the form below to create a new blog post."}),T.jsxs("form",{className:"w-full flex flex-col gap-4",children:[T.jsxs("div",{className:"mb-2",children:[T.jsx("label",{className:"block text-secondary font-medium mb-1",children:"Cover Image (optional)"}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("label",{htmlFor:"cover-image-upload",className:"cursor-pointer px-4 py-2 rounded-full bg-primary text-secondary border border-secondary font-medium shadow hover:bg-secondary hover:text-primary transition",children:[T.jsx("span",{className:"material-symbols-rounded align-middle mr-1 text-lg"}),A?"Change Image":"Upload Image"]}),T.jsx("input",{id:"cover-image-upload",type:"file",accept:"image/png, image/jpeg, image/jpg, image/webp",className:"hidden",onChange:P}),T.jsx("span",{className:"text-xs text-secondary",children:A?"Image selected":"No file chosen"})]}),B&&T.jsx("div",{className:"text-red-500 text-sm mt-1",children:B}),A&&T.jsx("img",{src:A,alt:"Cover Preview",className:"mt-2 w-full max-h-60 object-contain rounded-xl border border-secondary"})]}),T.jsx("input",{type:"text",placeholder:"Title",className:"w-full px-4 py-3 rounded-full bg-primary text-secondary placeholder:text-secondary border-none outline-none text-base transition focus:bg-secondary-hover",value:e,onChange:x=>n(x.target.value)}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-secondary font-medium mb-1",children:"Content"}),T.jsx("div",{ref:u,id:"editor",className:"w-full px-4 py-3 rounded-2xl bg-primary text-secondary border border-secondary focus-within:bg-secondary-hover min-h-[120px] transition",style:{minHeight:120,background:"var(--primary-color)"}})]}),f.length>0&&T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:f.map((x,N)=>T.jsxs("span",{className:"inline-flex items-center bg-primary text-secondary px-3 py-1 rounded-full text-sm font-medium shadow border border-secondary",children:["#",x,T.jsx("button",{type:"button",className:"ml-2 text-xs text-red-400 hover:text-red-600",onClick:()=>Se(N),children:""})]},x+N))}),T.jsx("input",{type:"text",placeholder:"Add tags (type and press space, enter, or comma)",className:"w-full px-4 py-3 rounded-full bg-primary text-secondary placeholder:text-secondary border-none outline-none text-base transition focus:bg-secondary-hover",value:g,onChange:ne,onKeyDown:pe,onBlur:he}),T.jsx("button",{onClick:R,type:"submit",className:"flex items-center justify-center mt-6 w-full h-14 rounded-full text-[1.2rem] bg-primary text-color shadow-lg hover:bg-secondary-hover transition font-semibold gap-2",children:T.jsx("span",{children:"Publish Post"})})]})]})})}function uD({isAuthenticated:i}){const{id:e}=nT(),[n,s]=q.useState(""),[o,u]=q.useState(""),f=q.useRef(null),m=q.useRef(null),[g,y]=q.useState([]),[E,S]=q.useState(""),[A,k]=q.useState(null),[B,Y]=q.useState(null),[G,$]=q.useState(""),[ne,re]=q.useState(!0),pe=co();q.useEffect(()=>{async function D(){re(!0);const I=Zl(oo,"posts",e),Ge=await Mp(I);if(Ge.exists()){const Re=Ge.data();s(Re.title||""),u(Re.content||""),y(Array.isArray(Re.tags)?Re.tags:[]),k(Re.coverImage||null),Y(Re.coverImage||null),(!Gt.currentUser||Re.author?.id!==Gt.currentUser.uid)&&pe("/")}else pe("/");re(!1)}D()},[e,pe]),q.useEffect(()=>{if(i||pe("/login"),ne)return;let D=!1;function I(){f.current&&window.Jodit&&!m.current&&(m.current=window.Jodit.make(f.current,{buttons:["bold","italic","underline","|","ul","ol","|","link","image","hr","|","left","center","right","justify"],height:220,events:{change:Ge=>u(Ge)}}),m.current.value=o)}if(window.Jodit)I();else{const Ge=document.createElement("link");Ge.rel="stylesheet",Ge.href="https://cdn.jsdelivr.net/npm/jodit@latest/es2021/jodit.fat.min.css",document.head.appendChild(Ge);const Re=document.createElement("script");Re.src="https://cdn.jsdelivr.net/npm/jodit@latest/es2021/jodit.fat.min.js",Re.onload=()=>{D||I()},document.body.appendChild(Re)}return()=>{D=!0,m.current&&(m.current.destruct(),m.current=null)}},[i,pe,ne]);const he=D=>S(D.target.value),Se=D=>{const I=D.trim();I&&!g.includes(I)&&y([...g,I])},P=D=>{(D.key===" "||D.key==="Enter"||D.key===",")&&(D.preventDefault(),E.trim()&&(Se(E),S("")))},R=()=>{E.trim()&&(Se(E),S(""))},x=D=>{y(g.filter((I,Ge)=>Ge!==D))},N=D=>{$("");const I=D.target.files[0];if(!I)return;if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(I.type)){$("Only PNG, JPEG, JPG, or WEBP images are allowed."),k(null),Y(null);return}if(I.size>1024*1024){$("Image size must be less than 1MB."),k(null),Y(null);return}const Re=new FileReader;Re.onloadend=()=>{k(Re.result),Y(Re.result)},Re.readAsDataURL(I)},O=async D=>{D.preventDefault();const I=Zl(oo,"posts",e);await c0(I,{title:n,content:o,tags:g,coverImage:A}),pe("/")};return ne?T.jsx("div",{className:"min-h-[calc(100vh-80px)] flex items-center justify-center text-secondary text-lg",children:"Loading..."}):T.jsx("div",{className:"createPostPage min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center justify-center px-4 py-12",children:T.jsxs("div",{className:"max-w-lg w-full bg-secondary rounded-2xl shadow-lg p-8 flex flex-col items-center",children:[T.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-secondary mb-2",children:"Update Post"}),T.jsx("p",{className:"text-base text-secondary mb-6",children:"Edit your blog post below and click update."}),T.jsxs("form",{className:"w-full flex flex-col gap-4",children:[T.jsxs("div",{className:"mb-2",children:[T.jsx("label",{className:"block text-secondary font-medium mb-1",children:"Cover Image (optional)"}),T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsxs("label",{htmlFor:"cover-image-upload",className:"cursor-pointer px-4 py-2 rounded-full bg-primary text-secondary border border-secondary font-medium shadow hover:bg-secondary hover:text-primary transition",children:[T.jsx("span",{className:"material-symbols-rounded align-middle mr-1 text-lg"}),B?"Change Image":"Upload Image"]}),T.jsx("input",{id:"cover-image-upload",type:"file",accept:"image/png, image/jpeg, image/jpg, image/webp",className:"hidden",onChange:N}),T.jsx("span",{className:"text-xs text-secondary",children:B?"Image selected":"No file chosen"})]}),G&&T.jsx("div",{className:"text-red-500 text-sm mt-1",children:G}),B&&T.jsx("img",{src:B,alt:"Cover Preview",className:"mt-2 w-full max-h-60 object-contain rounded-xl border border-secondary"})]}),T.jsx("input",{type:"text",placeholder:"Title",className:"w-full px-4 py-3 rounded-full bg-primary text-secondary placeholder:text-secondary border-none outline-none text-base transition focus:bg-secondary-hover",value:n,onChange:D=>s(D.target.value)}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-secondary font-medium mb-1",children:"Content"}),T.jsx("div",{ref:f,id:"editor",className:"w-full px-4 py-3 rounded-2xl bg-primary text-secondary border border-secondary focus-within:bg-secondary-hover min-h-[120px] transition",style:{minHeight:120,background:"var(--primary-color)"}})]}),g.length>0&&T.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:g.map((D,I)=>T.jsxs("span",{className:"inline-flex items-center bg-primary text-secondary px-3 py-1 rounded-full text-sm font-medium shadow border border-secondary",children:["#",D,T.jsx("button",{type:"button",className:"ml-2 text-xs text-red-400 hover:text-red-600",onClick:()=>x(I),children:""})]},D+I))}),T.jsx("input",{type:"text",placeholder:"Add tags (type and press space, enter, or comma)",className:"w-full px-4 py-3 rounded-full bg-primary text-secondary placeholder:text-secondary border-none outline-none text-base transition focus:bg-secondary-hover",value:E,onChange:he,onKeyDown:P,onBlur:R}),T.jsx("button",{onClick:O,type:"submit",className:"flex items-center justify-center mt-6 w-full h-14 rounded-full text-[1.2rem] bg-primary text-color shadow-lg hover:bg-secondary-hover transition font-semibold gap-2",children:T.jsx("span",{children:"Update Post"})})]})]})})}function cD(){const{id:i}=nT(),[e,n]=q.useState(null),[s,o]=q.useState(!0),[u,f]=q.useState(null);return co(),q.useEffect(()=>{async function m(){o(!0),f(null);try{const g=Zl(oo,"posts",i),y=await Mp(g);y.exists()?n({...y.data(),id:y.id}):f("Blog not found.")}catch{f("Failed to load blog.")}finally{o(!1)}}m()},[i]),s?T.jsx("div",{className:"min-h-[calc(100vh-80px)] flex items-center justify-center text-secondary text-lg",children:"Loading..."}):u?T.jsx("div",{className:"min-h-[calc(100vh-80px)] flex items-center justify-center text-red-500 text-lg",children:u}):e?T.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:T.jsxs("div",{className:"max-w-2xl w-full bg-secondary rounded-2xl shadow-lg p-8",children:[e.coverImage&&T.jsx("img",{src:e.coverImage,alt:"Cover",className:"mb-6 w-full max-h-80 object-contain rounded-xl border border-secondary"}),T.jsx("h1",{className:"text-4xl font-bold text-primary mb-4",children:e.title}),T.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:Array.isArray(e.tags)&&e.tags.map((m,g)=>T.jsxs("span",{className:"inline-flex items-center bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow border border-secondary",children:["#",m]},m+g))}),T.jsx("div",{className:"text-base text-secondary prose prose-invert max-w-none mb-6",dangerouslySetInnerHTML:{__html:e.content}}),T.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:T.jsxs("span",{children:["By ",e.author?.name||"Unknown"]})})]})}):null}function hD(){return T.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:T.jsxs("div",{className:"w-full max-w-6xl mx-auto bg-secondary rounded-2xl shadow-md p-8 text-left",children:[T.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"About WriteOn"}),T.jsx("p",{className:"text-base text-secondary mb-4",children:"WriteOn is a personal project and learning platform for developers, creators, and tech enthusiasts. Inspired by the spirit of open collaboration, WriteOn is a space to write, share, and discover insightful content while I learn and grow as a React developer."}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"A Place for Learning & Sharing"}),T.jsx("p",{className:"text-secondary",children:"The software industry thrives on collaboration and networked learning. WriteOn is my experiment in building a modern blogging platform, where anyone can share their journey, tutorials, or thoughts on technology. Whether youre a beginner or a pro, your voice matters here."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Open Source & Transparency"}),T.jsx("p",{className:"text-secondary",children:"WriteOn is built with React, Firebase, and Tailwind CSS. The code is open for anyone to explore, learn from, or contribute to. I believe in transparency and giving back to the developer ecosystem."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Why I Built WriteOn"}),T.jsx("p",{className:"text-secondary",children:"This project is my way of learning ReactJS and modern web development by building something real and useful. Every feature, bug fix, and improvement is a step in my journey as a developer. I hope WriteOn inspires others to build, share, and keep learning."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Get Involved"}),T.jsx("p",{className:"text-secondary mb-2",children:"Want to suggest a feature, report a bug, or just say hi? Reach out via the Contact page or check out the project on GitHub. Your feedback and ideas are always welcome!"}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[T.jsxs("div",{className:"flex-1 bg-primary/80 rounded-xl p-4 border border-secondary",children:[T.jsx("h3",{className:"font-bold text-secondary mb-2",children:"Contact"}),T.jsx("a",{href:"mailto:ayushbm84@gmail.com",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"Email: ayushbm84@gmail.com"})]}),T.jsxs("div",{className:"flex-1 bg-primary/80 rounded-xl p-4 border border-secondary",children:[T.jsx("h3",{className:"font-bold text-secondary mb-2",children:"GitHub"}),T.jsx("a",{href:"https://github.com/ayush-sleeping/WriteOn",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"github.com/ayush-sleeping/WriteOn"})]})]})]}),T.jsx("div",{className:"mt-8 text-center",children:T.jsx("span",{className:"inline-block bg-primary/80 text-secondary px-6 py-3 rounded-full font-semibold shadow border border-secondary text-lg",children:"Happy coding   Ayush Mishra"})})]})})}function fD(){return T.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:T.jsxs("div",{className:"w-full max-w-6xl mx-auto bg-secondary rounded-2xl shadow-md p-8 text-left",children:[T.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Contact WriteOn"}),T.jsx("p",{className:"text-base text-secondary mb-6",children:"Id love to hear from you! Whether you have feedback, want to report a bug, or just want to say hello, feel free to reach out using any of the methods below."}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:T.jsxs("div",{className:"bg-primary/80 rounded-xl p-4 border border-secondary",children:[T.jsx("h3",{className:"font-bold text-secondary mb-2",children:"Email"}),T.jsx("a",{href:"mailto:ayushbm84@gmail.com",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"ayushbm84@gmail.com"})]})}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Report a Bug or Vulnerability"}),T.jsx("p",{className:"text-secondary text-sm mb-2",children:"If you find a bug or security issue, please open an issue or discussion on GitHub, or email me directly."}),T.jsx("a",{href:"https://github.com/ayush-sleeping/WriteOn/issues",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"Report on GitHub"})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Request a Feature"}),T.jsx("p",{className:"text-secondary text-sm mb-2",children:"Have an idea for a new feature? Start a new discussion or open a feature request on GitHub!"}),T.jsx("a",{href:"https://github.com/ayush-sleeping/WriteOn/discussions",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"Start a Discussion"})]}),T.jsx("div",{className:"mt-8 text-center",children:T.jsx("span",{className:"inline-block bg-primary/80 text-secondary px-6 py-3 rounded-full font-semibold shadow border border-secondary text-lg",children:"Thanks for being part of the WriteOn journey!"})})]})})}function dD(){return T.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:T.jsxs("div",{className:"w-full max-w-6xl mx-auto bg-secondary rounded-2xl shadow-md p-8 text-left",children:[T.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Code of Conduct"}),T.jsx("p",{className:"text-xs text-secondary mb-6",children:"Last updated July 31, 2023"}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Our Pledge"}),T.jsx("p",{className:"text-secondary text-sm",children:"In the interest of fostering an open and welcoming environment, I pledge to make participation in WriteOn a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Our Standards"}),T.jsx("p",{className:"text-secondary text-sm mb-2",children:"Examples of behavior that contributes to creating a positive environment include:"}),T.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-4",children:[T.jsx("li",{children:"Using welcoming and inclusive language"}),T.jsx("li",{children:"Being respectful of differing viewpoints and experiences"}),T.jsx("li",{children:"Referring to people by their pronouns and using gender-neutral pronouns when uncertain"}),T.jsx("li",{children:"Gracefully accepting constructive criticism"}),T.jsx("li",{children:"Focusing on what is best for the community"}),T.jsx("li",{children:"Showing empathy towards other community members"}),T.jsx("li",{children:"Citing sources if used to create content"}),T.jsx("li",{children:"Disclosing AI assistance if used to create content"})]}),T.jsx("p",{className:"text-secondary text-sm mb-2",children:"Examples of unacceptable behavior include:"}),T.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-4",children:[T.jsx("li",{children:"The use of sexualized language or imagery and unwelcome sexual attention or advances"}),T.jsx("li",{children:"The use of hate speech or communication that is racist, homophobic, transphobic, ableist, sexist, or otherwise prejudiced/discriminatory"}),T.jsx("li",{children:"Trolling, insulting/derogatory comments, and personal or political attacks"}),T.jsx("li",{children:"Public or private harassment"}),T.jsx("li",{children:"Publishing others' private information without explicit permission"}),T.jsx("li",{children:"Plagiarizing content or misappropriating works"}),T.jsx("li",{children:"Other conduct which could reasonably be considered inappropriate in a professional setting"}),T.jsx("li",{children:"Dismissing or attacking inclusion-oriented requests"})]}),T.jsx("p",{className:"text-secondary text-xs mb-2",children:"I pledge to prioritize marginalized people's safety over privileged people's comfort."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Enforcement"}),T.jsxs("p",{className:"text-secondary text-sm mb-2",children:["Violations of the Code of Conduct may be reported by emailing ",T.jsx("a",{href:"mailto:ayushbm84@gmail.com",className:"underline hover:text-primary",target:"_blank",rel:"noopener noreferrer",children:"ayushbm84@gmail.com"}),". All reports will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances."]}),T.jsx("p",{className:"text-secondary text-sm mb-2",children:"I reserve the right and responsibility to remove comments or other contributions that are not aligned to this Code of Conduct or to suspend temporarily or permanently any members for other behaviors that are deemed inappropriate, threatening, offensive, or harmful."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Attribution"}),T.jsxs("p",{className:"text-secondary text-xs",children:["This Code of Conduct is adapted from:",T.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1",children:[T.jsx("li",{children:"Contributor Covenant, version 1.4"}),T.jsx("li",{children:"Write/Speak/Code"}),T.jsx("li",{children:"Geek Feminism"})]})]})]}),T.jsx("div",{className:"mt-8 text-center",children:T.jsx("span",{className:"inline-block bg-primary/80 text-secondary px-6 py-3 rounded-full font-semibold shadow border border-secondary text-lg",children:"Thank you for helping make WriteOn a welcoming and safe space!"})})]})})}function mD(){return T.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:T.jsxs("div",{className:"w-full max-w-6xl mx-auto bg-secondary rounded-2xl shadow-md p-8 text-left",children:[T.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Privacy Policy"}),T.jsx("p",{className:"text-xs text-secondary mb-6",children:"Last updated: July 29, 2025"}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Introduction"}),T.jsx("p",{className:"text-secondary text-sm",children:"This Privacy Policy explains how WriteOn (a personal project by Ayush Mishra) collects, uses, and protects your information. As a small, non-commercial platform, I value your privacy and strive to keep things simple and transparent."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"What Information is Collected?"}),T.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[T.jsxs("li",{children:[T.jsx("b",{children:"Account Info:"})," If you sign up, your email and display name are stored securely."]}),T.jsxs("li",{children:[T.jsx("b",{children:"Content:"})," Any posts, comments, or profile info you share are visible to others on the platform."]}),T.jsxs("li",{children:[T.jsx("b",{children:"Usage Data:"})," Basic analytics (like page views) may be collected to improve the site. No tracking for advertising or third-party marketing."]})]})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"How is Your Information Used?"}),T.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[T.jsx("li",{children:"To provide and improve the WriteOn platform."}),T.jsx("li",{children:"To communicate with you about your account or site updates."}),T.jsx("li",{children:"To keep the community safe and prevent abuse."})]})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"How is Your Information Shared?"}),T.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[T.jsx("li",{children:"Your public posts and comments are visible to all users."}),T.jsx("li",{children:"Your email is never sold or shared with advertisers."}),T.jsx("li",{children:"Data may be shared if required by law or to protect the platform and its users."})]})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Your Rights & Choices"}),T.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[T.jsx("li",{children:"You can update or delete your account at any time."}),T.jsx("li",{children:"Contact me if you have questions or want your data removed."})]})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Children's Privacy"}),T.jsx("p",{className:"text-secondary text-sm",children:"WriteOn is not intended for children under 13. I do not knowingly collect personal information from children. If you believe a child has provided personal info, please contact me for removal."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Third-Party Links"}),T.jsx("p",{className:"text-secondary text-sm",children:"WriteOn may link to other sites, but I am not responsible for their privacy practices. Please review their policies before sharing information."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Contact"}),T.jsx("p",{className:"text-secondary text-sm mb-2",children:"If you have any questions about this Privacy Policy or your data, please email:"}),T.jsx("a",{href:"mailto:ayushbm84@gmail.com",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"ayushbm84@gmail.com"})]}),T.jsx("div",{className:"mt-8 text-center",children:T.jsx("span",{className:"inline-block bg-primary/80 text-secondary px-6 py-3 rounded-full font-semibold shadow border border-secondary text-lg",children:"Thanks for trusting WriteOn with your data!"})})]})})}function pD(){return T.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:T.jsxs("div",{className:"w-full max-w-6xl mx-auto bg-secondary rounded-2xl shadow-md p-8 text-left",children:[T.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Terms of Use"}),T.jsx("p",{className:"text-xs text-secondary mb-6",children:"Last updated: July 29, 2025"}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"1. Acceptance of Terms"}),T.jsx("p",{className:"text-secondary text-sm",children:"By accessing or using WriteOn, you agree to be bound by these Terms of Use and the Privacy Policy. If you do not agree, please do not use the site."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"2. Use License"}),T.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[T.jsx("li",{children:"You may view and share content for personal, non-commercial use only."}),T.jsx("li",{children:"You may not copy, modify, or redistribute content without permission."}),T.jsx("li",{children:"Reverse engineering or scraping of the site is not allowed."})]})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"3. Disclaimer"}),T.jsx("p",{className:"text-secondary text-sm",children:'All content is provided "as is" without warranties of any kind. I do not guarantee the accuracy or reliability of any content on WriteOn.'})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"4. Limitations"}),T.jsx("p",{className:"text-secondary text-sm",children:"In no event shall WriteOn or its creator be liable for any damages arising out of the use or inability to use the site."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"5. Content Policy"}),T.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[T.jsx("li",{children:"Only share content you have the rights to post."}),T.jsx("li",{children:"No plagiarism, hate speech, or illegal content."}),T.jsx("li",{children:"Posts should be on-topic and add value to the community."}),T.jsx("li",{children:"Affiliate links must be clearly disclosed."})]})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"6. Changes to Terms"}),T.jsx("p",{className:"text-secondary text-sm",children:"These terms may be updated at any time. Continued use of WriteOn means you accept the current version of the Terms of Use."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"7. Contact"}),T.jsx("p",{className:"text-secondary text-sm mb-2",children:"For questions about these terms, please email:"}),T.jsx("a",{href:"mailto:ayushbm84@gmail.com",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"ayushbm84@gmail.com"})]}),T.jsx("div",{className:"mt-8 text-center",children:T.jsx("span",{className:"inline-block bg-primary/80 text-secondary px-6 py-3 rounded-full font-semibold shadow border border-secondary text-lg",children:"Thanks for using WriteOn!"})})]})})}const gD="modulepreload",yD=function(i){return"/WriteOn/"+i},GE={},QE=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let y=function(E){return Promise.all(E.map(S=>Promise.resolve(S).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};var f=y;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),g=m?.nonce||m?.getAttribute("nonce");o=y(n.map(E=>{if(E=yD(E),E in GE)return;GE[E]=!0;const S=E.endsWith(".css"),A=S?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${E}"]${A}`))return;const k=document.createElement("link");if(k.rel=S?"stylesheet":gD,S||(k.as="script"),k.crossOrigin="",k.href=E,g&&k.setAttribute("nonce",g),document.head.appendChild(k),S)return new Promise((B,Y)=>{k.addEventListener("load",B),k.addEventListener("error",()=>Y(new Error(`Unable to preload CSS for ${E}`)))})}))}function u(m){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=m,window.dispatchEvent(g),!g.defaultPrevented)throw m}return o.then(m=>{for(const g of m||[])g.status==="rejected"&&u(g.reason);return e().catch(u)})},_D="/WriteOn/assets/writeon_logo-CTFinPzb.png";function vD({setIsAuthenticated:i}){const e=localStorage.getItem("isAuth")==="true",[n,s]=q.useState(Gt.currentUser?.photoURL),[o,u]=q.useState(!1),f=q.useRef(null),m=co(),[g,y]=q.useState(""),[E,S]=q.useState([]),[A,k]=q.useState(!1),B=q.useRef(null);q.useEffect(()=>{function ne(re){B.current&&!B.current.contains(re.target)&&re.target.closest('input[type="text"]')!==document.activeElement&&k(!1)}return A&&document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[A]),q.useEffect(()=>{function ne(re){f.current&&!f.current.contains(re.target)&&u(!1)}return o&&document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[o]);const Y=async ne=>{const re=ne.target.value;if(y(re),!re.trim()){S([]),k(!1);return}try{const{collection:pe,getDocs:he}=await QE(async()=>{const{collection:O,getDocs:D}=await Promise.resolve().then(()=>qI);return{collection:O,getDocs:D}},[]),{db:Se}=await QE(async()=>{const{db:O}=await Promise.resolve().then(()=>QN);return{db:O}},void 0),P=pe(Se,"posts"),N=(await he(P)).docs.map(O=>({...O.data(),id:O.id})).filter(O=>O.title?.toLowerCase().includes(re.toLowerCase())||O.content?.toLowerCase().includes(re.toLowerCase())||Array.isArray(O.tags)&&O.tags.some(D=>D.toLowerCase().includes(re.toLowerCase())));S(N),k(!0)}catch{S([]),k(!1)}},G=ne=>{k(!1),y(""),S([]),m(`/blog/${ne}`)},$=()=>{OC(Gt).then(()=>{localStorage.removeItem("isAuth"),i&&i(!1),m("/login")}).catch(ne=>{console.error("Error signing out:",ne)})};return T.jsx("header",{className:"bg-primary sticky top-0 z-50",children:T.jsxs("div",{className:"max-w-8xl mx-auto flex items-center justify-between px-4 py-3",children:[T.jsxs("div",{className:"flex items-center gap-4 flex-shrink-0",children:[T.jsx(Ct,{to:"/",children:T.jsx("img",{src:_D,alt:"WriteOn Logo",className:"h-11 w-24 border-6 border-black shadow-sm hover:opacity-80 transition"})}),T.jsxs("div",{className:"relative flex items-center w-[420px] md:w-[600px]",children:[T.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center pointer-events-none",children:T.jsxs("svg",{className:"h-5 w-5 text-secondary",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[T.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor",strokeWidth:"2",fill:"none"}),T.jsx("line",{x1:"16.5",y1:"16.5",x2:"21",y2:"21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),T.jsx("input",{type:"text",placeholder:"Search...",required:!0,value:g,onChange:Y,className:"w-full h-12 pl-12 pr-14 rounded-full bg-secondary focus:bg-secondary-hover text-color placeholder:text-secondary border-none outline-none text-base transition",autoComplete:"off",onFocus:()=>{E.length>0&&k(!0)}}),g&&T.jsx("button",{type:"button","aria-label":"Clear search",className:"absolute right-12 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center rounded-full hover:bg-secondary/60 transition",onClick:()=>{y(""),S([]),k(!1)},tabIndex:0,children:T.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-5 h-5 text-secondary",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),A&&E.length>0&&T.jsxs("div",{ref:B,className:"absolute left-0 top-14 w-full bg-secondary text-secondary rounded-xl shadow-lg z-50 max-h-80 overflow-y-auto",children:[E.map(ne=>T.jsxs("div",{className:"px-5 py-3 cursor-pointer hover:bg-black text-left transition-colors",onClick:()=>G(ne.id),children:[T.jsx("div",{className:"font-semibold text-primary text-base line-clamp-1",children:ne.title}),T.jsx("div",{className:"text-xs text-secondary",children:ne.createdAt?(typeof ne.createdAt=="object"&&ne.createdAt.seconds?new Date(ne.createdAt.seconds*1e3):new Date(ne.createdAt)).toLocaleString("en-US",{month:"short",day:"numeric"}):""})]},ne.id)),E.length===0&&T.jsx("div",{className:"px-5 py-3 text-secondary text-sm",children:"No results found."})]}),T.jsx("button",{id:"send-message-button",className:"absolute right-2 top-1/2 -translate-y-1/2 w-10 h-10 flex items-center justify-center rounded-full bg-secondary hover:bg-[#a3a3a3] transition",type:"button"})]})]}),T.jsxs("div",{className:"flex items-center gap-3",children:[e&&T.jsxs(T.Fragment,{children:[T.jsx(Ct,{to:"/create",children:T.jsx("button",{className:"px-4 py-2 rounded-md bg-secondary text-secondary hover:!text-white font-medium transition-colors",children:"Create"})}),T.jsxs("div",{className:"relative",children:[T.jsx("button",{type:"button",onClick:()=>u(ne=>!ne),className:"focus:outline-none","aria-haspopup":"true","aria-expanded":o,children:T.jsx("img",{src:Gt.currentUser?.photoURL&&Gt.currentUser.photoURL.trim()!==""?Gt.currentUser.photoURL:Gt.currentUser?"https://randomuser.me/api/portraits/men/32.jpg":void 0,alt:"Profile",className:"w-10 h-10 rounded-full object-cover border-2 shadow-sm hover:opacity-80 transition",style:{borderColor:"var(--secondary-color)"}},Gt.currentUser?.photoURL||Gt.currentUser?.uid||"default")}),o&&T.jsxs("div",{ref:f,className:"absolute right-0 mt-2 w-56 bg-secondary text-secondary rounded-xl shadow-lg z-50 p-4 text-left",children:[T.jsx("div",{className:"font-semibold text-primary text-base mb-1",children:Gt.currentUser?.displayName||"User"}),T.jsx("div",{className:"text-xs text-secondary break-all mb-4",children:Gt.currentUser?.email}),T.jsx("div",{className:"w-full px-4 py-2 rounded-md font-medium mb-2 cursor-pointer select-none bg-primary hover:bg-secondary text-primary hover:text-secondary transition-colors",children:"Your Blogs"}),T.jsx("button",{className:"w-full px-4 py-2 rounded-md font-medium text-left cursor-pointer bg-primary text-secondary hover:bg-secondary hover:text-primary transition-colors",onClick:()=>{u(!1),$()},children:"Log out"})]})]})]}),!e&&T.jsx(Ct,{to:"/login",children:T.jsx("button",{className:"px-4 py-2 rounded-md bg-secondary text-secondary hover:!text-white font-medium transition-colors",children:"Log in"})})]})]})})}function ED(){return T.jsxs("footer",{className:"footer-main",children:[T.jsx("div",{className:"footer-gradient"}),T.jsx("div",{className:"footer-blur"}),T.jsxs("div",{className:"footer-content",children:[T.jsxs("div",{className:"col flex flex-col items-start w-full md:w-1/3 mb-8 md:mb-0",children:[T.jsx("h3",{className:"text-2xl font-bold title mb-2",children:"WriteOn"}),T.jsxs("p",{className:"text-secondary mb-2",children:["Made with ",T.jsx("span",{className:"text-[#BA6573]",children:""})," by Ayush"]}),T.jsx("p",{className:"text-[#818181] text-xs",children:"2025  All Rights Reserved"})]}),T.jsxs("div",{className:"col2 footer-box mb-8 md:mb-0",children:[T.jsx("p",{className:"text-white font-semibold mb-2",children:"About"}),T.jsx(Ct,{to:"/about",className:"text-secondary mb-1 cursor-pointer hover:text-white transition block",children:"Our mission"}),T.jsx(Ct,{to:"/privacy",className:"text-secondary mb-1 cursor-pointer hover:text-white transition block",children:"Privacy Policy"}),T.jsx(Ct,{to:"/terms",className:"text-secondary mb-1 cursor-pointer hover:text-white transition block",children:"Terms of service"})]}),T.jsxs("div",{className:"col3 footer-box",children:[T.jsx("p",{className:"text-white font-semibold mb-2",children:"Blog"}),localStorage.getItem("isAuth")==="true"?T.jsxs(T.Fragment,{children:[T.jsx(Ct,{to:"/create",className:"text-secondary mb-1 cursor-pointer hover:text-white transition block",children:"Write a Blog"}),T.jsx(Ct,{to:"/myblogs",className:"text-secondary mb-1 cursor-pointer hover:text-white transition block",children:"My Blogs"})]}):T.jsx(Ct,{to:"/login",className:"text-secondary mb-1 cursor-pointer hover:text-white transition block",children:"Log In"}),T.jsx("a",{href:"https://github.com/ayush-sleeping/WriteOn",target:"_blank",rel:"noopener noreferrer",className:"text-secondary mb-1 cursor-pointer hover:text-white transition block",children:"FAQ / Help"})]})]})]})}function TD(){const[i,e]=q.useState(()=>localStorage.getItem("isAuth")==="true");return T.jsxs(T.Fragment,{children:[T.jsx($S,{}),T.jsxs("div",{className:"app",children:[T.jsx(vD,{}),T.jsxs(yS,{children:[T.jsx(Bn,{path:"/",element:T.jsx(aD,{})}),T.jsx(Bn,{path:"/login",element:T.jsx(oD,{setIsAuthenticated:e})}),T.jsx(Bn,{path:"/create",element:T.jsx(lD,{isAuthenticated:i})}),T.jsx(Bn,{path:"/update/:id",element:T.jsx(uD,{isAuthenticated:i})}),T.jsx(Bn,{path:"/blog/:id",element:T.jsx(cD,{})}),T.jsx(Bn,{path:"/about",element:T.jsx(hD,{})}),T.jsx(Bn,{path:"/contact",element:T.jsx(fD,{})}),T.jsx(Bn,{path:"/code-of-conduct",element:T.jsx(dD,{})}),T.jsx(Bn,{path:"/privacy-policy",element:T.jsx(mD,{})}),T.jsx(Bn,{path:"/terms-of-use",element:T.jsx(pD,{})})]}),T.jsx(ED,{})]})]})}RA.createRoot(document.getElementById("root")).render(T.jsx(q.StrictMode,{children:T.jsx(zS,{basename:"/WriteOn",children:T.jsx(TD,{})})}));
