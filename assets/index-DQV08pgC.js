(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Kd={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function hA(){if(J_)return Cl;J_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Cl.Fragment=e,Cl.jsx=n,Cl.jsxs=n,Cl}var ev;function fA(){return ev||(ev=1,Kd.exports=hA()),Kd.exports}var E=fA(),Xd={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function dA(){if(tv)return Ie;tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function S(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,Y={};function F(O,ne,ue){this.props=O,this.context=ne,this.refs=Y,this.updater=ue||k}F.prototype.isReactComponent={},F.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function K(){}K.prototype=F.prototype;function re(O,ne,ue){this.props=O,this.context=ne,this.refs=Y,this.updater=ue||k}var ie=re.prototype=new K;ie.constructor=re,q(ie,F.prototype),ie.isPureReactComponent=!0;var ae=Array.isArray,te={H:null,A:null,T:null,S:null,V:null},he=Object.prototype.hasOwnProperty;function D(O,ne,ue,se,ye,Ne){return ue=Ne.ref,{$$typeof:r,type:O,key:ne,ref:ue!==void 0?ue:null,props:Ne}}function R(O,ne){return D(O.type,ne,void 0,void 0,void 0,O.props)}function x(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function N(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ue){return ne[ue]})}var P=/\/+/g;function M(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):ne.toString(36)}function I(){}function Re(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function xe(O,ne,ue,se,ye){var Ne=typeof O;(Ne==="undefined"||Ne==="boolean")&&(O=null);var we=!1;if(O===null)we=!0;else switch(Ne){case"bigint":case"string":case"number":we=!0;break;case"object":switch(O.$$typeof){case r:case e:we=!0;break;case T:return we=O._init,xe(we(O._payload),ne,ue,se,ye)}}if(we)return ye=ye(O),we=se===""?"."+M(O,0):se,ae(ye)?(ue="",we!=null&&(ue=we.replace(P,"$&/")+"/"),xe(ye,ne,ue,"",function(Xn){return Xn})):ye!=null&&(x(ye)&&(ye=R(ye,ue+(ye.key==null||O&&O.key===ye.key?"":(""+ye.key).replace(P,"$&/")+"/")+we)),ne.push(ye)),1;we=0;var Dt=se===""?".":se+":";if(ae(O))for(var tt=0;tt<O.length;tt++)se=O[tt],Ne=Dt+M(se,tt),we+=xe(se,ne,ue,Ne,ye);else if(tt=S(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(se=O.next()).done;)se=se.value,Ne=Dt+M(se,tt++),we+=xe(se,ne,ue,Ne,ye);else if(Ne==="object"){if(typeof O.then=="function")return xe(Re(O),ne,ue,se,ye);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(O,ne,ue){if(O==null)return O;var se=[],ye=0;return xe(O,se,"","",function(Ne){return ne.call(ue,Ne,ye++)}),se}function le(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(ue){(O._status===0||O._status===-1)&&(O._status=1,O._result=ue)},function(ue){(O._status===0||O._status===-1)&&(O._status=2,O._result=ue)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function qe(){}return Ie.Children={map:X,forEach:function(O,ne,ue){X(O,function(){ne.apply(this,arguments)},ue)},count:function(O){var ne=0;return X(O,function(){ne++}),ne},toArray:function(O){return X(O,function(ne){return ne})||[]},only:function(O){if(!x(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ie.Component=F,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=re,Ie.StrictMode=s,Ie.Suspense=y,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(O){return te.H.useMemoCache(O)}},Ie.cache=function(O){return function(){return O.apply(null,arguments)}},Ie.cloneElement=function(O,ne,ue){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=q({},O.props),ye=O.key,Ne=void 0;if(ne!=null)for(we in ne.ref!==void 0&&(Ne=void 0),ne.key!==void 0&&(ye=""+ne.key),ne)!he.call(ne,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ne.ref===void 0||(se[we]=ne[we]);var we=arguments.length-2;if(we===1)se.children=ue;else if(1<we){for(var Dt=Array(we),tt=0;tt<we;tt++)Dt[tt]=arguments[tt+2];se.children=Dt}return D(O.type,ye,void 0,void 0,Ne,se)},Ie.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ie.createElement=function(O,ne,ue){var se,ye={},Ne=null;if(ne!=null)for(se in ne.key!==void 0&&(Ne=""+ne.key),ne)he.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=ne[se]);var we=arguments.length-2;if(we===1)ye.children=ue;else if(1<we){for(var Dt=Array(we),tt=0;tt<we;tt++)Dt[tt]=arguments[tt+2];ye.children=Dt}if(O&&O.defaultProps)for(se in we=O.defaultProps,we)ye[se]===void 0&&(ye[se]=we[se]);return D(O,Ne,void 0,void 0,null,ye)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(O){return{$$typeof:m,render:O}},Ie.isValidElement=x,Ie.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:le}},Ie.memo=function(O,ne){return{$$typeof:g,type:O,compare:ne===void 0?null:ne}},Ie.startTransition=function(O){var ne=te.T,ue={};te.T=ue;try{var se=O(),ye=te.S;ye!==null&&ye(ue,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(qe,ge)}catch(Ne){ge(Ne)}finally{te.T=ne}},Ie.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ie.use=function(O){return te.H.use(O)},Ie.useActionState=function(O,ne,ue){return te.H.useActionState(O,ne,ue)},Ie.useCallback=function(O,ne){return te.H.useCallback(O,ne)},Ie.useContext=function(O){return te.H.useContext(O)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(O,ne){return te.H.useDeferredValue(O,ne)},Ie.useEffect=function(O,ne,ue){var se=te.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(O,ne)},Ie.useId=function(){return te.H.useId()},Ie.useImperativeHandle=function(O,ne,ue){return te.H.useImperativeHandle(O,ne,ue)},Ie.useInsertionEffect=function(O,ne){return te.H.useInsertionEffect(O,ne)},Ie.useLayoutEffect=function(O,ne){return te.H.useLayoutEffect(O,ne)},Ie.useMemo=function(O,ne){return te.H.useMemo(O,ne)},Ie.useOptimistic=function(O,ne){return te.H.useOptimistic(O,ne)},Ie.useReducer=function(O,ne,ue){return te.H.useReducer(O,ne,ue)},Ie.useRef=function(O){return te.H.useRef(O)},Ie.useState=function(O){return te.H.useState(O)},Ie.useSyncExternalStore=function(O,ne,ue){return te.H.useSyncExternalStore(O,ne,ue)},Ie.useTransition=function(){return te.H.useTransition()},Ie.version="19.1.0",Ie}var nv;function Hm(){return nv||(nv=1,Xd.exports=dA()),Xd.exports}var B=Hm(),$d={exports:{}},Nl={},Wd={exports:{}},Zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function mA(){return iv||(iv=1,function(r){function e(X,le){var ge=X.length;X.push(le);e:for(;0<ge;){var qe=ge-1>>>1,O=X[qe];if(0<o(O,le))X[qe]=le,X[ge]=O,ge=qe;else break e}}function n(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var le=X[0],ge=X.pop();if(ge!==le){X[0]=ge;e:for(var qe=0,O=X.length,ne=O>>>1;qe<ne;){var ue=2*(qe+1)-1,se=X[ue],ye=ue+1,Ne=X[ye];if(0>o(se,ge))ye<O&&0>o(Ne,se)?(X[qe]=Ne,X[ye]=ge,qe=ye):(X[qe]=se,X[ue]=ge,qe=ue);else if(ye<O&&0>o(Ne,ge))X[qe]=Ne,X[ye]=ge,qe=ye;else break e}}return le}function o(X,le){var ge=X.sortIndex-le.sortIndex;return ge!==0?ge:X.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var y=[],g=[],T=1,A=null,S=3,k=!1,q=!1,Y=!1,F=!1,K=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ae(X){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=X)s(g),le.sortIndex=le.expirationTime,e(y,le);else break;le=n(g)}}function te(X){if(Y=!1,ae(X),!q)if(n(y)!==null)q=!0,he||(he=!0,M());else{var le=n(g);le!==null&&xe(te,le.startTime-X)}}var he=!1,D=-1,R=5,x=-1;function N(){return F?!0:!(r.unstable_now()-x<R)}function P(){if(F=!1,he){var X=r.unstable_now();x=X;var le=!0;try{e:{q=!1,Y&&(Y=!1,re(D),D=-1),k=!0;var ge=S;try{t:{for(ae(X),A=n(y);A!==null&&!(A.expirationTime>X&&N());){var qe=A.callback;if(typeof qe=="function"){A.callback=null,S=A.priorityLevel;var O=qe(A.expirationTime<=X);if(X=r.unstable_now(),typeof O=="function"){A.callback=O,ae(X),le=!0;break t}A===n(y)&&s(y),ae(X)}else s(y);A=n(y)}if(A!==null)le=!0;else{var ne=n(g);ne!==null&&xe(te,ne.startTime-X),le=!1}}break e}finally{A=null,S=ge,k=!1}le=void 0}}finally{le?M():he=!1}}}var M;if(typeof ie=="function")M=function(){ie(P)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Re=I.port2;I.port1.onmessage=P,M=function(){Re.postMessage(null)}}else M=function(){K(P,0)};function xe(X,le){D=K(function(){X(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(X){X.callback=null},r.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(X){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var ge=S;S=le;try{return X()}finally{S=ge}},r.unstable_requestPaint=function(){F=!0},r.unstable_runWithPriority=function(X,le){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=S;S=X;try{return le()}finally{S=ge}},r.unstable_scheduleCallback=function(X,le,ge){var qe=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?qe+ge:qe):ge=qe,X){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,X={id:T++,callback:le,priorityLevel:X,startTime:ge,expirationTime:O,sortIndex:-1},ge>qe?(X.sortIndex=ge,e(g,X),n(y)===null&&X===n(g)&&(Y?(re(D),D=-1):Y=!0,xe(te,ge-qe))):(X.sortIndex=O,e(y,X),q||k||(q=!0,he||(he=!0,M()))),X},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(X){var le=S;return function(){var ge=S;S=le;try{return X.apply(this,arguments)}finally{S=ge}}}}(Zd)),Zd}var rv;function pA(){return rv||(rv=1,Wd.exports=mA()),Wd.exports}var Jd={exports:{}},Kt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function gA(){if(sv)return Kt;sv=1;var r=Hm();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(y,g,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:y,containerInfo:g,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Kt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Kt.createPortal=function(y,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(y,g,null,T)},Kt.flushSync=function(y){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,y)return y()}finally{f.T=g,s.p=T,s.d.f()}},Kt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(y,g))},Kt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Kt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var T=g.as,A=m(T,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:k}):T==="script"&&s.d.X(y,{crossOrigin:A,integrity:S,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Kt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(y)},Kt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,A=m(T,g.crossOrigin);s.d.L(y,T,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Kt.preloadModule=function(y,g){if(typeof y=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(y)},Kt.requestFormReset=function(y){s.d.r(y)},Kt.unstable_batchedUpdates=function(y,g){return y(g)},Kt.useFormState=function(y,g,T){return f.H.useFormState(y,g,T)},Kt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Kt.version="19.1.0",Kt}var av;function yA(){if(av)return Jd.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jd.exports=gA(),Jd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function _A(){if(ov)return Nl;ov=1;var r=pA(),e=Hm(),n=yA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var T=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function M(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function Re(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case q:return"Fragment";case F:return"Profiler";case Y:return"StrictMode";case te:return"Suspense";case he:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ie:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case ae:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D:return i=t.displayName||null,i!==null?i:Re(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return Re(t(i))}catch{}}return null}var xe=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},qe=[],O=-1;function ne(t){return{current:t}}function ue(t){0>O||(t.current=qe[O],qe[O]=null,O--)}function se(t,i){O++,qe[O]=t.current,t.current=i}var ye=ne(null),Ne=ne(null),we=ne(null),Dt=ne(null);function tt(t,i){switch(se(we,i),se(Ne,t),se(ye,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?R_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=R_(i),t=I_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ye),se(ye,t)}function Xn(){ue(ye),ue(Ne),ue(we)}function or(t){t.memoizedState!==null&&se(Dt,t);var i=ye.current,a=I_(i,t.type);i!==a&&(se(Ne,t),se(ye,a))}function bi(t){Ne.current===t&&(ue(ye),ue(Ne)),Dt.current===t&&(ue(Dt),Al._currentValue=ge)}var ns=Object.prototype.hasOwnProperty,is=r.unstable_scheduleCallback,rs=r.unstable_cancelCallback,To=r.unstable_shouldYield,mu=r.unstable_requestPaint,bn=r.unstable_now,Yh=r.unstable_getCurrentPriorityLevel,bo=r.unstable_ImmediatePriority,Js=r.unstable_UserBlockingPriority,ss=r.unstable_NormalPriority,Kh=r.unstable_LowPriority,ea=r.unstable_IdlePriority,wo=r.log,pu=r.unstable_setDisableYieldValue,ct=null,Qe=null;function hn(t){if(typeof wo=="function"&&pu(t),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ct,t)}catch{}}var Qt=Math.clz32?Math.clz32:as,gu=Math.log,Xh=Math.LN2;function as(t){return t>>>=0,t===0?32:31-(gu(t)/Xh|0)|0}var os=256,ls=4194304;function Pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ta(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=Pn(l):(v&=b,v!==0?h=Pn(v):a||(a=b&~t,a!==0&&(h=Pn(a))))):(b=l&~d,b!==0?h=Pn(b):v!==0?h=Pn(v):a||(a=l&~t,a!==0&&(h=Pn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function us(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ao(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function So(){var t=os;return os<<=1,(os&4194048)===0&&(os=256),t}function xo(){var t=ls;return ls<<=1,(ls&62914560)===0&&(ls=4194304),t}function wi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ai(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ro(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,z=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-Qt(a),J=1<<$;b[$]=0,C[$]=-1;var H=z[$];if(H!==null)for(z[$]=null,$=0;$<H.length;$++){var G=H[$];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&$n(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function $n(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Qt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Io(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Qt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function lr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function na(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ur(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Y_(t.type))}function yu(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var st=Math.random().toString(36).slice(2),St="__reactFiber$"+st,_t="__reactProps$"+st,wn="__reactContainer$"+st,Co="__reactEvents$"+st,$h="__reactListeners$"+st,cr="__reactHandles$"+st,_u="__reactResources$"+st,cs="__reactMarker$"+st;function hr(t){delete t[St],delete t[_t],delete t[Co],delete t[$h],delete t[cr]}function Si(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[wn]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=O_(t);t!==null;){if(a=t[St])return a;t=O_(t)}return i}t=a,a=t.parentNode}return null}function Wn(t){if(t=t[St]||t[wn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Zn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function en(t){var i=t[_u];return i||(i=t[_u]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function dt(t){t[cs]=!0}var No=new Set,ia={};function kn(t,i){xi(t,i),xi(t+"Capture",i)}function xi(t,i){for(ia[t]=i,t=0;t<i.length;t++)No.add(i[t])}var vu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Eu={},hs={};function Tu(t){return ns.call(hs,t)?!0:ns.call(Eu,t)?!1:vu.test(t)?hs[t]=!0:(Eu[t]=!0,!1)}function fr(t,i,a){if(Tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Jn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function zt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var fs,bu;function Ri(t){if(fs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fs=i&&i[1]||"",bu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fs+t+bu}var ra=!1;function sa(t,i){if(!t||ra)return"";ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var H=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){H=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){H=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var C=v.split(`
`),z=b.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ri(a):""}function Do(t){switch(t.tag){case 26:case 27:case 5:return Ri(t.type);case 16:return Ri("Lazy");case 13:return Ri("Suspense");case 19:return Ri("SuspenseList");case 0:case 15:return sa(t.type,!1);case 11:return sa(t.type.render,!1);case 1:return sa(t.type,!0);case 31:return Ri("Activity");default:return""}}function aa(t){try{var i="";do i+=Do(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Oo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wh(t){var i=Oo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function oa(t){t._valueTracker||(t._valueTracker=Wh(t))}function Mo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Oo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Zh=/[\n"\\]/g;function vt(t){return t.replace(Zh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function fn(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+tn(i)):t.value!==""+tn(i)&&(t.value=""+tn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?dr(t,v,tn(i)):a!=null?dr(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+tn(b):t.removeAttribute("name")}function ms(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+tn(a):"",i=i!=null?""+tn(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function dr(t,i,a){i==="number"&&ds(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ii(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Xe(t,i,a){if(i!=null&&(i=""+tn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+tn(a):""}function ps(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(xe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=tn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function An(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wu(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||gs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&wu(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&wu(t,d,i[d])}function Po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ef=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(t){return ef.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ci=null;function Sn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Di=null;function ko(t){var i=Wn(t);if(i&&(t=i.stateNode)){var a=t[_t]||null;e:switch(t=i.stateNode,i.type){case"input":if(fn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[_t]||null;if(!h)throw Error(s(90));fn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Mo(l)}break e;case"textarea":Xe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ii(t,!!a.multiple,i,!1)}}}var ei=!1;function Au(t,i,a){if(ei)return t(i,a);ei=!0;try{var l=t(i);return l}finally{if(ei=!1,(Ni!==null||Di!==null)&&(yc(),Ni&&(i=Ni,t=Di,Di=Ni=null,ko(i),t)))for(i=0;i<t.length;i++)ko(t[i])}}function ys(t,i){var a=t.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(jn)try{var _s={};Object.defineProperty(_s,"passive",{get:function(){xn=!0}}),window.addEventListener("test",_s,_s),window.removeEventListener("test",_s,_s)}catch{xn=!1}var ti=null,mr=null,Oi=null;function jo(){if(Oi)return Oi;var t,i=mr,a=i.length,l,h="value"in ti?ti.value:ti.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Oi=h.slice(t,1<l?1-l:void 0)}function ni(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ii(){return!0}function Lo(){return!1}function Ot(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:Lo,this.isPropagationStopped=Lo,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ua=Ot(Fe),vs=T({},Fe,{view:0,detail:0}),Su=Ot(vs),ca,ha,ri,Es=T({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ws,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(ca=t.screenX-ri.screenX,ha=t.screenY-ri.screenY):ha=ca=0,ri=t),ca)},movementY:function(t){return"movementY"in t?t.movementY:ha}}),Rn=Ot(Es),xu=T({},Es,{dataTransfer:0}),tf=Ot(xu),Ts=T({},vs,{relatedTarget:0}),fa=Ot(Ts),Uo=T({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),da=Ot(Uo),Ru=T({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ma=Ot(Ru),nf=T({},Fe,{data:0}),zo=Ot(nf),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Cu[t])?!!i[t]:!1}function ws(){return Bo}var Nu=T({},vs,{key:function(t){if(t.key){var i=bs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ni(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ws,charCode:function(t){return t.type==="keypress"?ni(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ni(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pa=Ot(Nu),Du=T({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=Ot(Du),Mi=T({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ws}),Ou=Ot(Mi),Mu=T({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=Ot(Mu),Pu=T({},Es,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ga=Ot(Pu),nn=T({},Fe,{newState:0,oldState:0}),ku=Ot(nn),ju=[9,13,27,32],si=jn&&"CompositionEvent"in window,c=null;jn&&"documentMode"in document&&(c=document.documentMode);var p=jn&&"TextEvent"in window&&!c,_=jn&&(!si||c&&8<c&&11>=c),w=" ",L=!1;function Q(t,i){switch(t){case"keyup":return ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function xt(t,i){switch(t){case"compositionend":return oe(i);case"keypress":return i.which!==32?null:(L=!0,w);case"textInput":return t=i.data,t===w&&L?null:t;default:return null}}function Le(t,i){if(je)return t==="compositionend"||!si&&Q(t,i)?(t=jo(),Oi=mr=ti=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Mt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mt[t.type]:i==="textarea"}function Vi(t,i,a,l){Ni?Di?Di.push(l):Di=[l]:Ni=l,i=wc(i,"onChange"),0<i.length&&(a=new ua("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bt=null,ai=null;function Ho(t){b_(t,0)}function Lu(t){var i=Zn(t);if(Mo(i))return t}function Hp(t,i){if(t==="change")return i}var Fp=!1;if(jn){var rf;if(jn){var sf="oninput"in document;if(!sf){var Gp=document.createElement("div");Gp.setAttribute("oninput","return;"),sf=typeof Gp.oninput=="function"}rf=sf}else rf=!1;Fp=rf&&(!document.documentMode||9<document.documentMode)}function Qp(){Bt&&(Bt.detachEvent("onpropertychange",Yp),ai=Bt=null)}function Yp(t){if(t.propertyName==="value"&&Lu(ai)){var i=[];Vi(i,ai,t,Sn(t)),Au(Ho,i)}}function Bb(t,i,a){t==="focusin"?(Qp(),Bt=i,ai=a,Bt.attachEvent("onpropertychange",Yp)):t==="focusout"&&Qp()}function qb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(ai)}function Hb(t,i){if(t==="click")return Lu(i)}function Fb(t,i){if(t==="input"||t==="change")return Lu(i)}function Gb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var dn=typeof Object.is=="function"?Object.is:Gb;function Fo(t,i){if(dn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ns.call(i,h)||!dn(t[h],i[h]))return!1}return!0}function Kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xp(t,i){var a=Kp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Kp(a)}}function $p(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?$p(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Wp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ds(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ds(t.document)}return i}function af(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Qb=jn&&"documentMode"in document&&11>=document.documentMode,ya=null,of=null,Go=null,lf=!1;function Zp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;lf||ya==null||ya!==ds(l)||(l=ya,"selectionStart"in l&&af(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=wc(of,"onSelect"),0<l.length&&(i=new ua("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ya)))}function As(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var _a={animationend:As("Animation","AnimationEnd"),animationiteration:As("Animation","AnimationIteration"),animationstart:As("Animation","AnimationStart"),transitionrun:As("Transition","TransitionRun"),transitionstart:As("Transition","TransitionStart"),transitioncancel:As("Transition","TransitionCancel"),transitionend:As("Transition","TransitionEnd")},uf={},Jp={};jn&&(Jp=document.createElement("div").style,"AnimationEvent"in window||(delete _a.animationend.animation,delete _a.animationiteration.animation,delete _a.animationstart.animation),"TransitionEvent"in window||delete _a.transitionend.transition);function Ss(t){if(uf[t])return uf[t];if(!_a[t])return t;var i=_a[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Jp)return uf[t]=i[a];return t}var eg=Ss("animationend"),tg=Ss("animationiteration"),ng=Ss("animationstart"),Yb=Ss("transitionrun"),Kb=Ss("transitionstart"),Xb=Ss("transitioncancel"),ig=Ss("transitionend"),rg=new Map,cf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");cf.push("scrollEnd");function Ln(t,i){rg.set(t,i),kn(i,[t])}var sg=new WeakMap;function In(t,i){if(typeof t=="object"&&t!==null){var a=sg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:aa(i)},sg.set(t,i),i)}return{value:t,source:i,stack:aa(i)}}var Cn=[],va=0,hf=0;function Uu(){for(var t=va,i=hf=va=0;i<t;){var a=Cn[i];Cn[i++]=null;var l=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&ag(a,h,d)}}function zu(t,i,a,l){Cn[va++]=t,Cn[va++]=i,Cn[va++]=a,Cn[va++]=l,hf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function ff(t,i,a,l){return zu(t,i,a,l),Bu(t)}function Ea(t,i){return zu(t,null,null,i),Bu(t)}function ag(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Qt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Bu(t){if(50<gl)throw gl=0,_d=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ta={};function $b(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,i,a,l){return new $b(t,i,a,l)}function df(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pi(t,i){var a=t.alternate;return a===null?(a=mn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function og(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function qu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")df(t)&&(v=1);else if(typeof t=="string")v=Zw(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=mn(31,a,i,h),t.elementType=x,t.lanes=d,t;case q:return xs(a.children,h,d,i);case Y:v=8,h|=24;break;case F:return t=mn(12,a,i,h|2),t.elementType=F,t.lanes=d,t;case te:return t=mn(13,a,i,h),t.elementType=te,t.lanes=d,t;case he:return t=mn(19,a,i,h),t.elementType=he,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K:case ie:v=10;break e;case re:v=9;break e;case ae:v=11;break e;case D:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=mn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function xs(t,i,a,l){return t=mn(7,t,l,i),t.lanes=a,t}function mf(t,i,a){return t=mn(6,t,null,i),t.lanes=a,t}function pf(t,i,a){return i=mn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ba=[],wa=0,Hu=null,Fu=0,Nn=[],Dn=0,Rs=null,ki=1,ji="";function Is(t,i){ba[wa++]=Fu,ba[wa++]=Hu,Hu=t,Fu=i}function lg(t,i,a){Nn[Dn++]=ki,Nn[Dn++]=ji,Nn[Dn++]=Rs,Rs=t;var l=ki;t=ji;var h=32-Qt(l)-1;l&=~(1<<h),a+=1;var d=32-Qt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,ki=1<<32-Qt(i)+h|a<<h|l,ji=d+t}else ki=1<<d|a<<h|l,ji=t}function gf(t){t.return!==null&&(Is(t,1),lg(t,1,0))}function yf(t){for(;t===Hu;)Hu=ba[--wa],ba[wa]=null,Fu=ba[--wa],ba[wa]=null;for(;t===Rs;)Rs=Nn[--Dn],Nn[Dn]=null,ji=Nn[--Dn],Nn[Dn]=null,ki=Nn[--Dn],Nn[Dn]=null}var rn=null,ht=null,He=!1,Cs=null,oi=!1,_f=Error(s(519));function Ns(t){var i=Error(s(418,""));throw Ko(In(i,t)),_f}function ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[_t]=l,a){case"dialog":Me("cancel",i),Me("close",i);break;case"iframe":case"object":case"embed":Me("load",i);break;case"video":case"audio":for(a=0;a<_l.length;a++)Me(_l[a],i);break;case"source":Me("error",i);break;case"img":case"image":case"link":Me("error",i),Me("load",i);break;case"details":Me("toggle",i);break;case"input":Me("invalid",i),ms(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),oa(i);break;case"select":Me("invalid",i);break;case"textarea":Me("invalid",i),ps(i,l.value,l.defaultValue,l.children),oa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||x_(i.textContent,a)?(l.popover!=null&&(Me("beforetoggle",i),Me("toggle",i)),l.onScroll!=null&&Me("scroll",i),l.onScrollEnd!=null&&Me("scrollend",i),l.onClick!=null&&(i.onclick=Ac),i=!0):i=!1,i||Ns(t)}function cg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:rn=rn.return}}function Qo(t){if(t!==rn)return!1;if(!He)return cg(t),He=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Vd(t.type,t.memoizedProps)),a=!a),a&&ht&&Ns(t),cg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ht=zn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ht=null}}else i===27?(i=ht,Nr(t.type)?(t=Ld,Ld=null,ht=t):ht=i):ht=rn?zn(t.stateNode.nextSibling):null;return!0}function Yo(){ht=rn=null,He=!1}function hg(){var t=Cs;return t!==null&&(on===null?on=t:on.push.apply(on,t),Cs=null),t}function Ko(t){Cs===null?Cs=[t]:Cs.push(t)}var vf=ne(null),Ds=null,Li=null;function pr(t,i,a){se(vf,i._currentValue),i._currentValue=a}function Ui(t){t._currentValue=vf.current,ue(vf)}function Ef(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Tf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var C=0;C<i.length;C++)if(b.context===i[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Ef(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Ef(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Xo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;dn(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===Dt.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Al):t=[Al])}h=h.return}t!==null&&Tf(i,t,a,l),i.flags|=262144}function Gu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Os(t){Ds=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return fg(Ds,t)}function Qu(t,i){return Ds===null&&Os(t),fg(t,i)}function fg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Li=Li.next=i;return a}var Wb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Zb=r.unstable_scheduleCallback,Jb=r.unstable_NormalPriority,It={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bf(){return{controller:new Wb,data:new Map,refCount:0}}function $o(t){t.refCount--,t.refCount===0&&Zb(Jb,function(){t.controller.abort()})}var Wo=null,wf=0,Aa=0,Sa=null;function ew(t,i){if(Wo===null){var a=Wo=[];wf=0,Aa=Sd(),Sa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,i.then(dg,dg),i}function dg(){if(--wf===0&&Wo!==null){Sa!==null&&(Sa.status="fulfilled");var t=Wo;Wo=null,Aa=0,Sa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function tw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var mg=X.S;X.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&ew(t,i),mg!==null&&mg(t,i)};var Ms=ne(null);function Af(){var t=Ms.current;return t!==null?t:nt.pooledCache}function Yu(t,i){i===null?se(Ms,Ms.current):se(Ms,i.pool)}function pg(){var t=Af();return t===null?null:{parent:It._currentValue,pool:t}}var Zo=Error(s(460)),gg=Error(s(474)),Ku=Error(s(542)),Sf={then:function(){}};function yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xu(){}function _g(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Xu,Xu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Eg(t),t;default:if(typeof i.status=="string")i.then(Xu,Xu);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Eg(t),t}throw Jo=i,Zo}}var Jo=null;function vg(){if(Jo===null)throw Error(s(459));var t=Jo;return Jo=null,t}function Eg(t){if(t===Zo||t===Ku)throw Error(s(483))}var gr=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function yr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function _r(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(t),ag(t,null,a),i}return zu(t,l,i,a),Bu(t)}function el(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Io(t,a)}}function If(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Cf=!1;function tl(){if(Cf){var t=Sa;if(t!==null)throw t}}function nl(t,i,a,l){Cf=!1;var h=t.updateQueue;gr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var C=b,z=C.next;C.next=null,v===null?d=z:v.next=z,v=C;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==v&&(b===null?$.firstBaseUpdate=z:b.next=z,$.lastBaseUpdate=C))}if(d!==null){var J=h.baseState;v=0,$=z=C=null,b=d;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(Ue&H)===H:(l&H)===H){H!==0&&H===Aa&&(Cf=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=t,_e=b;H=i;var Ze=a;switch(_e.tag){case 1:if(Te=_e.payload,typeof Te=="function"){J=Te.call(Ze,J,H);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=_e.payload,H=typeof Te=="function"?Te.call(Ze,J,H):Te,H==null)break e;J=T({},J,H);break e;case 2:gr=!0}}H=b.callback,H!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(z=$=G,C=J):$=$.next=G,v|=H;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;G=b,b=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);$===null&&(C=J),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),xr|=v,t.lanes=v,t.memoizedState=J}}function Tg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function bg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Tg(a[t],i)}var xa=ne(null),$u=ne(0);function wg(t,i){t=Qi,se($u,t),se(xa,i),Qi=t|i.baseLanes}function Nf(){se($u,Qi),se(xa,xa.current)}function Df(){Qi=$u.current,ue(xa),ue($u)}var vr=0,Ce=null,$e=null,Et=null,Wu=!1,Ra=!1,Vs=!1,Zu=0,il=0,Ia=null,nw=0;function mt(){throw Error(s(321))}function Of(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!dn(t[a],i[a]))return!1;return!0}function Mf(t,i,a,l,h,d){return vr=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,X.H=t===null||t.memoizedState===null?ay:oy,Vs=!1,d=a(l,h),Vs=!1,Ra&&(d=Sg(i,a,l,h)),Ag(t),d}function Ag(t){X.H=rc;var i=$e!==null&&$e.next!==null;if(vr=0,Et=$e=Ce=null,Wu=!1,il=0,Ia=null,i)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&Gu(t)&&(Vt=!0))}function Sg(t,i,a,l){Ce=t;var h=0;do{if(Ra&&(Ia=null),il=0,Ra=!1,25<=h)throw Error(s(301));if(h+=1,Et=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=uw,d=i(a,l)}while(Ra);return d}function iw(){var t=X.H,i=t.useState()[0];return i=typeof i.then=="function"?rl(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Vf(){var t=Zu!==0;return Zu=0,t}function Pf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function kf(t){if(Wu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Wu=!1}vr=0,Et=$e=Ce=null,Ra=!1,il=Zu=0,Ia=null}function sn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?Ce.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if($e===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=Et===null?Ce.memoizedState:Et.next;if(i!==null)Et=i,$e=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},Et===null?Ce.memoizedState=Et=t:Et=Et.next=t}return Et}function jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rl(t){var i=il;return il+=1,Ia===null&&(Ia=[]),t=_g(Ia,t,i),i=Ce,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,X.H=i===null||i.memoizedState===null?ay:oy),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===ie)return Yt(t)}throw Error(s(438,String(t)))}function Lf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=jf(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=N;return i.index++,a}function zi(t,i){return typeof i=="function"?i(t):i}function ec(t){var i=Tt();return Uf(i,$e,t)}function Uf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,C=null,z=i,$=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Ue&J)===J:(vr&J)===J){var H=z.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===Aa&&($=!0);else if((vr&H)===H){z=z.next,H===Aa&&($=!0);continue}else J={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(b=C=J,v=d):C=C.next=J,Ce.lanes|=H,xr|=H;J=z.action,Vs&&a(d,J),d=z.hasEagerState?z.eagerState:a(d,J)}else H={lane:J,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(b=C=H,v=d):C=C.next=H,Ce.lanes|=J,xr|=J;z=z.next}while(z!==null&&z!==i);if(C===null?v=d:C.next=b,!dn(d,t.memoizedState)&&(Vt=!0,$&&(a=Sa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zf(t){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);dn(d,i.memoizedState)||(Vt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function xg(t,i,a){var l=Ce,h=Tt(),d=He;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!dn(($e||h).memoizedState,a);v&&(h.memoizedState=a,Vt=!0),h=h.queue;var b=Cg.bind(null,l,h,t);if(sl(2048,8,b,[t]),h.getSnapshot!==i||v||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ca(9,tc(),Ig.bind(null,l,h,a,i),null),nt===null)throw Error(s(349));d||(vr&124)!==0||Rg(l,i,a)}return a}function Rg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=jf(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ig(t,i,a,l){i.value=a,i.getSnapshot=l,Ng(i)&&Dg(t)}function Cg(t,i,a){return a(function(){Ng(i)&&Dg(t)})}function Ng(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!dn(t,a)}catch{return!0}}function Dg(t){var i=Ea(t,2);i!==null&&vn(i,t,2)}function Bf(t){var i=sn();if(typeof t=="function"){var a=t;if(t=a(),Vs){hn(!0);try{a()}finally{hn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},i}function Og(t,i,a,l){return t.baseState=a,Uf(t,$e,typeof l=="function"?l:zi)}function rw(t,i,a,l,h){if(ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Mg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Mg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=X.T,v={};X.T=v;try{var b=a(h,l),C=X.S;C!==null&&C(v,b),Vg(t,i,b)}catch(z){qf(t,i,z)}finally{X.T=d}}else try{d=a(h,l),Vg(t,i,d)}catch(z){qf(t,i,z)}}function Vg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pg(t,i,l)},function(l){return qf(t,i,l)}):Pg(t,i,a)}function Pg(t,i,a){i.status="fulfilled",i.value=a,kg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Mg(t,a)))}function qf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,kg(i),i=i.next;while(i!==l)}t.action=null}function kg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function jg(t,i){return i}function Lg(t,i){if(He){var a=nt.formState;if(a!==null){e:{var l=Ce;if(He){if(ht){t:{for(var h=ht,d=oi;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ht=zn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(i=a[0])}}return a=sn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:i},a.queue=l,a=iy.bind(null,Ce,l),l.dispatch=a,l=Bf(!1),d=Yf.bind(null,Ce,!1,l.queue),l=sn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=rw.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Ug(t){var i=Tt();return zg(i,$e,t)}function zg(t,i,a){if(i=Uf(t,i,jg)[0],t=ec(zi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=rl(i)}catch(v){throw v===Zo?Ku:v}else l=i;i=Tt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Ca(9,tc(),sw.bind(null,h,a),null)),[l,d,t]}function sw(t,i){t.action=i}function Bg(t){var i=Tt(),a=$e;if(a!==null)return zg(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ca(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=jf(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function tc(){return{destroy:void 0,resource:void 0}}function qg(){return Tt().memoizedState}function nc(t,i,a,l){var h=sn();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=Ca(1|i,tc(),a,l)}function sl(t,i,a,l){var h=Tt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Of(l,$e.memoizedState.deps)?h.memoizedState=Ca(i,d,a,l):(Ce.flags|=t,h.memoizedState=Ca(1|i,d,a,l))}function Hg(t,i){nc(8390656,8,t,i)}function Fg(t,i){sl(2048,8,t,i)}function Gg(t,i){return sl(4,2,t,i)}function Qg(t,i){return sl(4,4,t,i)}function Yg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Kg(t,i,a){a=a!=null?a.concat([t]):null,sl(4,4,Yg.bind(null,i,t),a)}function Hf(){}function Xg(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Of(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function $g(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Of(i,l[1]))return l[0];if(l=t(),Vs){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l}function Ff(t,i,a){return a===void 0||(vr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Jy(),Ce.lanes|=t,xr|=t,a)}function Wg(t,i,a,l){return dn(a,i)?a:xa.current!==null?(t=Ff(t,a,l),dn(t,i)||(Vt=!0),t):(vr&42)===0?(Vt=!0,t.memoizedState=a):(t=Jy(),Ce.lanes|=t,xr|=t,i)}function Zg(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var v=X.T,b={};X.T=b,Yf(t,!1,i,a);try{var C=h(),z=X.S;if(z!==null&&z(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=tw(C,l);al(t,i,$,_n(t))}else al(t,i,l,_n(t))}catch(J){al(t,i,{then:function(){},status:"rejected",reason:J},_n())}finally{le.p=d,X.T=v}}function aw(){}function Gf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Jg(t).queue;Zg(t,h,i,ge,a===null?aw:function(){return ey(t),a(l)})}function Jg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:ge},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function ey(t){var i=Jg(t).next.queue;al(t,i,{},_n())}function Qf(){return Yt(Al)}function ty(){return Tt().memoizedState}function ny(){return Tt().memoizedState}function ow(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=_n();t=yr(a);var l=_r(i,t,a);l!==null&&(vn(l,i,a),el(l,i,a)),i={cache:bf()},t.payload=i;return}i=i.return}}function lw(t,i,a){var l=_n();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?ry(i,a):(a=ff(t,i,a,l),a!==null&&(vn(a,t,l),sy(a,i,l)))}function iy(t,i,a){var l=_n();al(t,i,a,l)}function al(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))ry(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,dn(b,v))return zu(t,i,h,0),nt===null&&Uu(),!1}catch{}finally{}if(a=ff(t,i,h,l),a!==null)return vn(a,t,l),sy(a,i,l),!0}return!1}function Yf(t,i,a,l){if(l={lane:2,revertLane:Sd(),action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(i)throw Error(s(479))}else i=ff(t,a,l,2),i!==null&&vn(i,t,2)}function ic(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function ry(t,i){Ra=Wu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function sy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Io(t,a)}}var rc={readContext:Yt,use:Ju,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},ay={readContext:Yt,use:Ju,useCallback:function(t,i){return sn().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:Hg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,nc(4194308,4,Yg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return nc(4194308,4,t,i)},useInsertionEffect:function(t,i){nc(4,2,t,i)},useMemo:function(t,i){var a=sn();i=i===void 0?null:i;var l=t();if(Vs){hn(!0);try{t()}finally{hn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=sn();if(a!==void 0){var h=a(i);if(Vs){hn(!0);try{a(i)}finally{hn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=lw.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=sn();return t={current:t},i.memoizedState=t},useState:function(t){t=Bf(t);var i=t.queue,a=iy.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(t,i){var a=sn();return Ff(a,t,i)},useTransition:function(){var t=Bf(!1);return t=Zg.bind(null,Ce,t.queue,!0,!1),sn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=sn();if(He){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),nt===null)throw Error(s(349));(Ue&124)!==0||Rg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Hg(Cg.bind(null,l,d,t),[t]),l.flags|=2048,Ca(9,tc(),Ig.bind(null,l,d,a,i),null),a},useId:function(){var t=sn(),i=nt.identifierPrefix;if(He){var a=ji,l=ki;a=(l&~(1<<32-Qt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Zu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=nw++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Qf,useFormState:Lg,useActionState:Lg,useOptimistic:function(t){var i=sn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Yf.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:Lf,useCacheRefresh:function(){return sn().memoizedState=ow.bind(null,Ce)}},oy={readContext:Yt,use:Ju,useCallback:Xg,useContext:Yt,useEffect:Fg,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:$g,useReducer:ec,useRef:qg,useState:function(){return ec(zi)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=Tt();return Wg(a,$e.memoizedState,t,i)},useTransition:function(){var t=ec(zi)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:rl(t),i]},useSyncExternalStore:xg,useId:ty,useHostTransitionStatus:Qf,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,i){var a=Tt();return Og(a,$e,t,i)},useMemoCache:Lf,useCacheRefresh:ny},uw={readContext:Yt,use:Ju,useCallback:Xg,useContext:Yt,useEffect:Fg,useImperativeHandle:Kg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:$g,useReducer:zf,useRef:qg,useState:function(){return zf(zi)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=Tt();return $e===null?Ff(a,t,i):Wg(a,$e.memoizedState,t,i)},useTransition:function(){var t=zf(zi)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:rl(t),i]},useSyncExternalStore:xg,useId:ty,useHostTransitionStatus:Qf,useFormState:Bg,useActionState:Bg,useOptimistic:function(t,i){var a=Tt();return $e!==null?Og(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Lf,useCacheRefresh:ny},Na=null,ol=0;function sc(t){var i=ol;return ol+=1,Na===null&&(Na=[]),_g(Na,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ac(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ly(t){var i=t._init;return i(t._payload)}function uy(t){function i(j,V){if(t){var U=j.deletions;U===null?(j.deletions=[V],j.flags|=16):U.push(V)}}function a(j,V){if(!t)return null;for(;V!==null;)i(j,V),V=V.sibling;return null}function l(j){for(var V=new Map;j!==null;)j.key!==null?V.set(j.key,j):V.set(j.index,j),j=j.sibling;return V}function h(j,V){return j=Pi(j,V),j.index=0,j.sibling=null,j}function d(j,V,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<V?(j.flags|=67108866,V):U):(j.flags|=67108866,V)):(j.flags|=1048576,V)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function b(j,V,U,W){return V===null||V.tag!==6?(V=mf(U,j.mode,W),V.return=j,V):(V=h(V,U),V.return=j,V)}function C(j,V,U,W){var de=U.type;return de===q?$(j,V,U.props.children,W,U.key):V!==null&&(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&ly(de)===V.type)?(V=h(V,U.props),ll(V,U),V.return=j,V):(V=qu(U.type,U.key,U.props,null,j.mode,W),ll(V,U),V.return=j,V)}function z(j,V,U,W){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=pf(U,j.mode,W),V.return=j,V):(V=h(V,U.children||[]),V.return=j,V)}function $(j,V,U,W,de){return V===null||V.tag!==7?(V=xs(U,j.mode,W,de),V.return=j,V):(V=h(V,U),V.return=j,V)}function J(j,V,U){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=mf(""+V,j.mode,U),V.return=j,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case S:return U=qu(V.type,V.key,V.props,null,j.mode,U),ll(U,V),U.return=j,U;case k:return V=pf(V,j.mode,U),V.return=j,V;case R:var W=V._init;return V=W(V._payload),J(j,V,U)}if(xe(V)||M(V))return V=xs(V,j.mode,U,null),V.return=j,V;if(typeof V.then=="function")return J(j,sc(V),U);if(V.$$typeof===ie)return J(j,Qu(j,V),U);ac(j,V)}return null}function H(j,V,U,W){var de=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return de!==null?null:b(j,V,""+U,W);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return U.key===de?C(j,V,U,W):null;case k:return U.key===de?z(j,V,U,W):null;case R:return de=U._init,U=de(U._payload),H(j,V,U,W)}if(xe(U)||M(U))return de!==null?null:$(j,V,U,W,null);if(typeof U.then=="function")return H(j,V,sc(U),W);if(U.$$typeof===ie)return H(j,V,Qu(j,U),W);ac(j,U)}return null}function G(j,V,U,W,de){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return j=j.get(U)||null,b(V,j,""+W,de);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return j=j.get(W.key===null?U:W.key)||null,C(V,j,W,de);case k:return j=j.get(W.key===null?U:W.key)||null,z(V,j,W,de);case R:var De=W._init;return W=De(W._payload),G(j,V,U,W,de)}if(xe(W)||M(W))return j=j.get(U)||null,$(V,j,W,de,null);if(typeof W.then=="function")return G(j,V,U,sc(W),de);if(W.$$typeof===ie)return G(j,V,U,Qu(V,W),de);ac(V,W)}return null}function Te(j,V,U,W){for(var de=null,De=null,me=V,ve=V=0,kt=null;me!==null&&ve<U.length;ve++){me.index>ve?(kt=me,me=null):kt=me.sibling;var Be=H(j,me,U[ve],W);if(Be===null){me===null&&(me=kt);break}t&&me&&Be.alternate===null&&i(j,me),V=d(Be,V,ve),De===null?de=Be:De.sibling=Be,De=Be,me=kt}if(ve===U.length)return a(j,me),He&&Is(j,ve),de;if(me===null){for(;ve<U.length;ve++)me=J(j,U[ve],W),me!==null&&(V=d(me,V,ve),De===null?de=me:De.sibling=me,De=me);return He&&Is(j,ve),de}for(me=l(me);ve<U.length;ve++)kt=G(me,j,ve,U[ve],W),kt!==null&&(t&&kt.alternate!==null&&me.delete(kt.key===null?ve:kt.key),V=d(kt,V,ve),De===null?de=kt:De.sibling=kt,De=kt);return t&&me.forEach(function(Pr){return i(j,Pr)}),He&&Is(j,ve),de}function _e(j,V,U,W){if(U==null)throw Error(s(151));for(var de=null,De=null,me=V,ve=V=0,kt=null,Be=U.next();me!==null&&!Be.done;ve++,Be=U.next()){me.index>ve?(kt=me,me=null):kt=me.sibling;var Pr=H(j,me,Be.value,W);if(Pr===null){me===null&&(me=kt);break}t&&me&&Pr.alternate===null&&i(j,me),V=d(Pr,V,ve),De===null?de=Pr:De.sibling=Pr,De=Pr,me=kt}if(Be.done)return a(j,me),He&&Is(j,ve),de;if(me===null){for(;!Be.done;ve++,Be=U.next())Be=J(j,Be.value,W),Be!==null&&(V=d(Be,V,ve),De===null?de=Be:De.sibling=Be,De=Be);return He&&Is(j,ve),de}for(me=l(me);!Be.done;ve++,Be=U.next())Be=G(me,j,ve,Be.value,W),Be!==null&&(t&&Be.alternate!==null&&me.delete(Be.key===null?ve:Be.key),V=d(Be,V,ve),De===null?de=Be:De.sibling=Be,De=Be);return t&&me.forEach(function(cA){return i(j,cA)}),He&&Is(j,ve),de}function Ze(j,V,U,W){if(typeof U=="object"&&U!==null&&U.type===q&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case S:e:{for(var de=U.key;V!==null;){if(V.key===de){if(de=U.type,de===q){if(V.tag===7){a(j,V.sibling),W=h(V,U.props.children),W.return=j,j=W;break e}}else if(V.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&ly(de)===V.type){a(j,V.sibling),W=h(V,U.props),ll(W,U),W.return=j,j=W;break e}a(j,V);break}else i(j,V);V=V.sibling}U.type===q?(W=xs(U.props.children,j.mode,W,U.key),W.return=j,j=W):(W=qu(U.type,U.key,U.props,null,j.mode,W),ll(W,U),W.return=j,j=W)}return v(j);case k:e:{for(de=U.key;V!==null;){if(V.key===de)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){a(j,V.sibling),W=h(V,U.children||[]),W.return=j,j=W;break e}else{a(j,V);break}else i(j,V);V=V.sibling}W=pf(U,j.mode,W),W.return=j,j=W}return v(j);case R:return de=U._init,U=de(U._payload),Ze(j,V,U,W)}if(xe(U))return Te(j,V,U,W);if(M(U)){if(de=M(U),typeof de!="function")throw Error(s(150));return U=de.call(U),_e(j,V,U,W)}if(typeof U.then=="function")return Ze(j,V,sc(U),W);if(U.$$typeof===ie)return Ze(j,V,Qu(j,U),W);ac(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,V!==null&&V.tag===6?(a(j,V.sibling),W=h(V,U),W.return=j,j=W):(a(j,V),W=mf(U,j.mode,W),W.return=j,j=W),v(j)):a(j,V)}return function(j,V,U,W){try{ol=0;var de=Ze(j,V,U,W);return Na=null,de}catch(me){if(me===Zo||me===Ku)throw me;var De=mn(29,me,null,j.mode);return De.lanes=W,De.return=j,De}finally{}}}var Da=uy(!0),cy=uy(!1),On=ne(null),li=null;function Er(t){var i=t.alternate;se(Ct,Ct.current&1),se(On,t),li===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(li=t)}function hy(t){if(t.tag===22){if(se(Ct,Ct.current),se(On,t),li===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(li=t)}}else Tr()}function Tr(){se(Ct,Ct.current),se(On,On.current)}function Bi(t){ue(On),li===t&&(li=null),ue(Ct)}var Ct=ne(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||jd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Kf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xf={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=_n(),h=yr(l);h.payload=i,a!=null&&(h.callback=a),i=_r(t,h,l),i!==null&&(vn(i,t,l),el(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=_n(),h=yr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=_r(t,h,l),i!==null&&(vn(i,t,l),el(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=_n(),l=yr(a);l.tag=2,i!=null&&(l.callback=i),i=_r(t,l,a),i!==null&&(vn(i,t,a),el(i,t,a))}};function fy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Fo(a,l)||!Fo(h,d):!0}function dy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Xf.enqueueReplaceState(i,i.state,null)}function Ps(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=T({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function my(t){lc(t)}function py(t){console.error(t)}function gy(t){lc(t)}function uc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function yy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(t,i,a){return a=yr(a),a.tag=3,a.payload={element:null},a.callback=function(){uc(t,i)},a}function _y(t){return t=yr(t),t.tag=3,t}function vy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){yy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){yy(i,a,l),typeof h!="function"&&(Rr===null?Rr=new Set([this]):Rr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function cw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Xo(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return li===null?Ed():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Sf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),bd(t,l,h)),!1;case 22:return a.flags|=65536,l===Sf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),bd(t,l,h)),!1}throw Error(s(435,a.tag))}return bd(t,l,h),Ed(),!1}if(He)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_f&&(t=Error(s(422),{cause:l}),Ko(In(t,a)))):(l!==_f&&(i=Error(s(423),{cause:l}),Ko(In(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=In(l,a),h=$f(t.stateNode,l,h),If(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=In(d,a),pl===null?pl=[d]:pl.push(d),ft!==4&&(ft=2),i===null)return!0;l=In(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=$f(a.stateNode,l,t),If(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Rr===null||!Rr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=_y(h),vy(h,t,a,l),If(a,h),!1}a=a.return}while(a!==null);return!1}var Ey=Error(s(461)),Vt=!1;function qt(t,i,a,l){i.child=t===null?cy(i,null,a,l):Da(i,t.child,a,l)}function Ty(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return Os(i),l=Mf(t,i,a,v,d,h),b=Vf(),t!==null&&!Vt?(Pf(t,i,h),qi(t,i,h)):(He&&b&&gf(i),i.flags|=1,qt(t,i,l,h),i.child)}function by(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!df(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,wy(t,i,d,l,h)):(t=qu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!rd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(v,l)&&t.ref===i.ref)return qi(t,i,h)}return i.flags|=1,t=Pi(d,l),t.ref=i.ref,t.return=i,i.child=t}function wy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Fo(d,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=d,rd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return i.lanes=t.lanes,qi(t,i,h)}return Wf(t,i,a,l,h)}function Ay(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Sy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?wg(i,d):Nf(),hy(i);else return i.lanes=i.childLanes=536870912,Sy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Yu(i,d.cachePool),wg(i,d),Tr(),i.memoizedState=null):(t!==null&&Yu(i,null),Nf(),Tr());return qt(t,i,h,a),i.child}function Sy(t,i,a,l){var h=Af();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Yu(i,null),Nf(),hy(i),t!==null&&Xo(t,i,l,!0),null}function cc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Wf(t,i,a,l,h){return Os(i),a=Mf(t,i,a,l,void 0,h),l=Vf(),t!==null&&!Vt?(Pf(t,i,h),qi(t,i,h)):(He&&l&&gf(i),i.flags|=1,qt(t,i,a,h),i.child)}function xy(t,i,a,l,h,d){return Os(i),i.updateQueue=null,a=Sg(i,l,a,h),Ag(t),l=Vf(),t!==null&&!Vt?(Pf(t,i,d),qi(t,i,d)):(He&&l&&gf(i),i.flags|=1,qt(t,i,a,d),i.child)}function Ry(t,i,a,l,h){if(Os(i),i.stateNode===null){var d=Ta,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},xf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Ta,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Kf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Xf.enqueueReplaceState(d,d.state,null),nl(i,l,d,h),tl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,C=Ps(a,b);d.props=C;var z=d.context,$=a.contextType;v=Ta,typeof $=="object"&&$!==null&&(v=Yt($));var J=a.getDerivedStateFromProps;$=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||z!==v)&&dy(i,d,l,v),gr=!1;var H=i.memoizedState;d.state=H,nl(i,l,d,h),tl(),z=i.memoizedState,b||H!==z||gr?(typeof J=="function"&&(Kf(i,a,J,l),z=i.memoizedState),(C=gr||fy(i,a,C,l,H,z,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=z),d.props=l,d.state=z,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Rf(t,i),v=i.memoizedProps,$=Ps(a,v),d.props=$,J=i.pendingProps,H=d.context,z=a.contextType,C=Ta,typeof z=="object"&&z!==null&&(C=Yt(z)),b=a.getDerivedStateFromProps,(z=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||H!==C)&&dy(i,d,l,C),gr=!1,H=i.memoizedState,d.state=H,nl(i,l,d,h),tl();var G=i.memoizedState;v!==J||H!==G||gr||t!==null&&t.dependencies!==null&&Gu(t.dependencies)?(typeof b=="function"&&(Kf(i,a,b,l),G=i.memoizedState),($=gr||fy(i,a,$,l,H,G,C)||t!==null&&t.dependencies!==null&&Gu(t.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=C,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,cc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Da(i,t.child,null,h),i.child=Da(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=qi(t,i,h),t}function Iy(t,i,a,l){return Yo(),i.flags|=256,qt(t,i,a,l),i.child}var Zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jf(t){return{baseLanes:t,cachePool:pg()}}function ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Mn),t}function Cy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(He){if(h?Er(i):Tr(),He){var b=ht,C;if(C=b){e:{for(C=b,b=oi;C.nodeType!==8;){if(!b){b=null;break e}if(C=zn(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(i.memoizedState={dehydrated:b,treeContext:Rs!==null?{id:ki,overflow:ji}:null,retryLane:536870912,hydrationErrors:null},C=mn(18,null,null,0),C.stateNode=b,C.return=i,i.child=C,rn=i,ht=null,C=!0):C=!1}C||Ns(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return jd(b)?i.lanes=32:i.lanes=536870912,null;Bi(i)}return b=l.children,l=l.fallback,h?(Tr(),h=i.mode,b=hc({mode:"hidden",children:b},h),l=xs(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,h=i.child,h.memoizedState=Jf(a),h.childLanes=ed(t,v,a),i.memoizedState=Zf,l):(Er(i),td(i,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)i.flags&256?(Er(i),i.flags&=-257,i=nd(t,i,a)):i.memoizedState!==null?(Tr(),i.child=t.child,i.flags|=128,i=null):(Tr(),h=l.fallback,b=i.mode,l=hc({mode:"visible",children:l.children},b),h=xs(h,b,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Da(i,t.child,null,a),l=i.child,l.memoizedState=Jf(a),l.childLanes=ed(t,v,a),i.memoizedState=Zf,i=h);else if(Er(i),jd(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var z=v.dgst;v=z,l=Error(s(419)),l.stack="",l.digest=v,Ko({value:l,source:null,stack:null}),i=nd(t,i,a)}else if(Vt||Xo(t,i,a,!1),v=(a&t.childLanes)!==0,Vt||v){if(v=nt,v!==null&&(l=a&-a,l=(l&42)!==0?1:lr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,Ea(t,l),vn(v,t,l),Ey;b.data==="$?"||Ed(),i=nd(t,i,a)}else b.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,ht=zn(b.nextSibling),rn=i,He=!0,Cs=null,oi=!1,t!==null&&(Nn[Dn++]=ki,Nn[Dn++]=ji,Nn[Dn++]=Rs,ki=t.id,ji=t.overflow,Rs=i),i=td(i,l.children),i.flags|=4096);return i}return h?(Tr(),h=l.fallback,b=i.mode,C=t.child,z=C.sibling,l=Pi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?h=Pi(z,h):(h=xs(h,b,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,b=t.child.memoizedState,b===null?b=Jf(a):(C=b.cachePool,C!==null?(z=It._currentValue,C=C.parent!==z?{parent:z,pool:z}:C):C=pg(),b={baseLanes:b.baseLanes|a,cachePool:C}),h.memoizedState=b,h.childLanes=ed(t,v,a),i.memoizedState=Zf,l):(Er(i),a=t.child,t=a.sibling,a=Pi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function td(t,i){return i=hc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function hc(t,i){return t=mn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function nd(t,i,a){return Da(i,t.child,null,a),t=td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ny(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ef(t.return,i,a)}function id(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function Dy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ny(t,a,i);else if(t.tag===19)Ny(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),id(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}id(i,!0,a,null,d);break;case"together":id(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function qi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),xr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Xo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Pi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Pi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function rd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Gu(t)))}function hw(t,i,a){switch(i.tag){case 3:tt(i,i.stateNode.containerInfo),pr(i,It,t.memoizedState.cache),Yo();break;case 27:case 5:or(i);break;case 4:tt(i,i.stateNode.containerInfo);break;case 10:pr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Er(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Cy(t,i,a):(Er(i),t=qi(t,i,a),t!==null?t.sibling:null);Er(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Xo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Dy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,Ay(t,i,a);case 24:pr(i,It,t.memoizedState.cache)}return qi(t,i,a)}function Oy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!rd(t,a)&&(i.flags&128)===0)return Vt=!1,hw(t,i,a);Vt=(t.flags&131072)!==0}else Vt=!1,He&&(i.flags&1048576)!==0&&lg(i,Fu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")df(l)?(t=Ps(l,t),i.tag=1,i=Ry(null,i,l,t,a)):(i.tag=0,i=Wf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ae){i.tag=11,i=Ty(null,i,l,t,a);break e}else if(h===D){i.tag=14,i=by(null,i,l,t,a);break e}}throw i=Re(l)||l,Error(s(306,i,""))}}return i;case 0:return Wf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ps(l,i.pendingProps),Ry(t,i,l,h,a);case 3:e:{if(tt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Rf(t,i),nl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,pr(i,It,l),l!==d.cache&&Tf(i,[It],a,!0),tl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Iy(t,i,l,a);break e}else if(l!==h){h=In(Error(s(424)),i),Ko(h),i=Iy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=zn(t.firstChild),rn=i,He=!0,Cs=null,oi=!0,a=cy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yo(),l===h){i=qi(t,i,a);break e}qt(t,i,l,a)}i=i.child}return i;case 26:return cc(t,i),t===null?(a=k_(i.type,null,i.pendingProps,null))?i.memoizedState=a:He||(a=i.type,t=i.pendingProps,l=Sc(we.current).createElement(a),l[St]=i,l[_t]=t,Ft(l,a,t),dt(l),i.stateNode=l):i.memoizedState=k_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return or(i),t===null&&He&&(l=i.stateNode=M_(i.type,i.pendingProps,we.current),rn=i,oi=!0,h=ht,Nr(i.type)?(Ld=h,ht=zn(l.firstChild)):ht=h),qt(t,i,i.pendingProps.children,a),cc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&He&&((h=l=ht)&&(l=Uw(l,i.type,i.pendingProps,oi),l!==null?(i.stateNode=l,rn=i,ht=zn(l.firstChild),oi=!1,h=!0):h=!1),h||Ns(i)),or(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Vd(h,d)?l=null:v!==null&&Vd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Mf(t,i,iw,null,null,a),Al._currentValue=h),cc(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&He&&((t=a=ht)&&(a=zw(a,i.pendingProps,oi),a!==null?(i.stateNode=a,rn=i,ht=null,t=!0):t=!1),t||Ns(i)),null;case 13:return Cy(t,i,a);case 4:return tt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Da(i,null,l,a):qt(t,i,l,a),i.child;case 11:return Ty(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,pr(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Os(i),h=Yt(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return by(t,i,i.type,i.pendingProps,a);case 15:return wy(t,i,i.type,i.pendingProps,a);case 19:return Dy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=hc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Pi(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ay(t,i,a);case 24:return Os(i),l=Yt(It),t===null?(h=Af(),h===null&&(h=nt,d=bf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},xf(i),pr(i,It,h)):((t.lanes&a)!==0&&(Rf(t,i),nl(i,null,null,a),tl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),pr(i,It,l)):(l=d.cache,pr(i,It,l),l!==h.cache&&Tf(i,[It],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Hi(t){t.flags|=4}function My(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!B_(i)){if(i=On.current,i!==null&&((Ue&4194048)===Ue?li!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==li))throw Jo=Sf,gg;t.flags|=8192}}function fc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?xo():536870912,t.lanes|=i,Pa|=i)}function ul(t,i){if(!He)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function fw(t,i,a){var l=i.pendingProps;switch(yf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(i),null;case 1:return ot(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ui(It),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qo(i)?Hi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,hg())),ot(i),null;case 26:return a=i.memoizedState,t===null?(Hi(i),a!==null?(ot(i),My(i,a)):(ot(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Hi(i),ot(i),My(i,a)):(ot(i),i.flags&=-16777217):(t.memoizedProps!==l&&Hi(i),ot(i),i.flags&=-16777217),null;case 27:bi(i),a=we.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}t=ye.current,Qo(i)?ug(i):(t=M_(h,l,a),i.stateNode=t,Hi(i))}return ot(i),null;case 5:if(bi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return ot(i),null}if(t=ye.current,Qo(i))ug(i);else{switch(h=Sc(we.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=i,t[_t]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hi(i)}}return ot(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Hi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=we.current,Qo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||x_(t.nodeValue,a)),t||Ns(i)}else t=Sc(t).createTextNode(l),t[St]=i,i.stateNode=t}return ot(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else Yo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ot(i),h=!1}else h=hg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Bi(i),i):(Bi(i),null)}if(Bi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),fc(i,i.updateQueue),ot(i),null;case 4:return Xn(),t===null&&Cd(i.stateNode.containerInfo),ot(i),null;case 10:return Ui(i.type),ot(i),null;case 19:if(ue(Ct),h=i.memoizedState,h===null)return ot(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)ul(h,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=oc(t),d!==null){for(i.flags|=128,ul(h,!1),t=d.updateQueue,i.updateQueue=t,fc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)og(a,t),a=a.sibling;return se(Ct,Ct.current&1|2),i.child}t=t.sibling}h.tail!==null&&bn()>pc&&(i.flags|=128,l=!0,ul(h,!1),i.lanes=4194304)}else{if(!l)if(t=oc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,fc(i,t),ul(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!He)return ot(i),null}else 2*bn()-h.renderingStartTime>pc&&a!==536870912&&(i.flags|=128,l=!0,ul(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=bn(),i.sibling=null,t=Ct.current,se(Ct,l?t&1|2:t&1),i):(ot(i),null);case 22:case 23:return Bi(i),Df(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ot(i),i.subtreeFlags&6&&(i.flags|=8192)):ot(i),a=i.updateQueue,a!==null&&fc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ue(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ui(It),ot(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function dw(t,i){switch(yf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ui(It),Xn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return bi(i),null;case 13:if(Bi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Yo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ue(Ct),null;case 4:return Xn(),null;case 10:return Ui(i.type),null;case 22:case 23:return Bi(i),Df(),t!==null&&ue(Ms),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ui(It),null;case 25:return null;default:return null}}function Vy(t,i){switch(yf(i),i.tag){case 3:Ui(It),Xn();break;case 26:case 27:case 5:bi(i);break;case 4:Xn();break;case 13:Bi(i);break;case 19:ue(Ct);break;case 10:Ui(i.type);break;case 22:case 23:Bi(i),Df(),t!==null&&ue(Ms);break;case 24:Ui(It)}}function cl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){Je(i,i.return,b)}}function br(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var C=a,z=b;try{z()}catch($){Je(h,C,$)}}}l=l.next}while(l!==d)}}catch($){Je(i,i.return,$)}}function Py(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{bg(i,a)}catch(l){Je(t,t.return,l)}}}function ky(t,i,a){a.props=Ps(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function hl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Je(t,i,h)}}function ui(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function jy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function sd(t,i,a){try{var l=t.stateNode;Vw(l,t.type,a,i),l[_t]=i}catch(h){Je(t,t.return,h)}}function Ly(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Nr(t.type)||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ly(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Nr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ac));else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(od(t,i,a),t=t.sibling;t!==null;)od(t,i,a),t=t.sibling}function dc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Nr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(dc(t,i,a),t=t.sibling;t!==null;)dc(t,i,a),t=t.sibling}function Uy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ft(i,l,a),i[St]=t,i[_t]=a}catch(d){Je(t,t.return,d)}}var Fi=!1,pt=!1,ld=!1,zy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function mw(t,i){if(t=t.containerInfo,Od=Dc,t=Wp(t),af(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,C=-1,z=0,$=0,J=t,H=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(b=v+h),J!==d||l!==0&&J.nodeType!==3||(C=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)H=J,J=G;for(;;){if(J===t)break t;if(H===a&&++z===h&&(b=v),H===d&&++$===l&&(C=v),(G=J.nextSibling)!==null)break;J=H,H=J.parentNode}J=G}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Md={focusedElem:t,selectionRange:a},Dc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=Ps(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){Je(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function By(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:wr(t,a),l&4&&cl(5,a);break;case 1:if(wr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Je(a,a.return,v)}else{var h=Ps(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Je(a,a.return,v)}}l&64&&Py(a),l&512&&hl(a,a.return);break;case 3:if(wr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{bg(t,i)}catch(v){Je(a,a.return,v)}}break;case 27:i===null&&l&4&&Uy(a);case 26:case 5:wr(t,a),i===null&&l&4&&jy(a),l&512&&hl(a,a.return);break;case 12:wr(t,a);break;case 13:wr(t,a),l&4&&Fy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=ww.bind(null,a),Bw(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){i=i!==null&&i.memoizedState!==null||pt,h=Fi;var d=pt;Fi=l,(pt=i)&&!d?Ar(t,a,(a.subtreeFlags&8772)!==0):wr(t,a),Fi=h,pt=d}break;case 30:break;default:wr(t,a)}}function qy(t){var i=t.alternate;i!==null&&(t.alternate=null,qy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&hr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,an=!1;function Gi(t,i,a){for(a=a.child;a!==null;)Hy(t,i,a),a=a.sibling}function Hy(t,i,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:pt||ui(a,i),Gi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:pt||ui(a,i);var l=at,h=an;Nr(a.type)&&(at=a.stateNode,an=!1),Gi(t,i,a),El(a.stateNode),at=l,an=h;break;case 5:pt||ui(a,i);case 6:if(l=at,h=an,at=null,Gi(t,i,a),at=l,an=h,at!==null)if(an)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(a.stateNode)}catch(d){Je(a,i,d)}else try{at.removeChild(a.stateNode)}catch(d){Je(a,i,d)}break;case 18:at!==null&&(an?(t=at,D_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Il(t)):D_(at,a.stateNode));break;case 4:l=at,h=an,at=a.stateNode.containerInfo,an=!0,Gi(t,i,a),at=l,an=h;break;case 0:case 11:case 14:case 15:pt||br(2,a,i),pt||br(4,a,i),Gi(t,i,a);break;case 1:pt||(ui(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&ky(a,i,l)),Gi(t,i,a);break;case 21:Gi(t,i,a);break;case 22:pt=(l=pt)||a.memoizedState!==null,Gi(t,i,a),pt=l;break;default:Gi(t,i,a)}}function Fy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Il(t)}catch(a){Je(i,i.return,a)}}function pw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new zy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new zy),i;default:throw Error(s(435,t.tag))}}function ud(t,i){var a=pw(t);i.forEach(function(l){var h=Aw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function pn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Nr(b.type)){at=b.stateNode,an=!1;break e}break;case 5:at=b.stateNode,an=!1;break e;case 3:case 4:at=b.stateNode.containerInfo,an=!0;break e}b=b.return}if(at===null)throw Error(s(160));Hy(d,v,h),at=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Gy(i,t),i=i.sibling}var Un=null;function Gy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:pn(i,t),gn(t),l&4&&(br(3,t,t.return),cl(3,t),br(5,t,t.return));break;case 1:pn(i,t),gn(t),l&512&&(pt||a===null||ui(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Un;if(pn(i,t),gn(t),l&512&&(pt||a===null||ui(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[cs]||d[St]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[St]=t,dt(d),l=d;break e;case"link":var v=U_("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(v=U_("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[St]=t,dt(d),l=d}t.stateNode=l}else z_(h,t.type,t.stateNode);else t.stateNode=L_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?z_(h,t.type,t.stateNode):L_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&sd(t,t.memoizedProps,a.memoizedProps)}break;case 27:pn(i,t),gn(t),l&512&&(pt||a===null||ui(a,a.return)),a!==null&&l&4&&sd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(pn(i,t),gn(t),l&512&&(pt||a===null||ui(a,a.return)),t.flags&32){h=t.stateNode;try{An(h,"")}catch(G){Je(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,sd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ld=!0);break;case 6:if(pn(i,t),gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){Je(t,t.return,G)}}break;case 3:if(Ic=null,h=Un,Un=xc(i.containerInfo),pn(i,t),Un=h,gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Il(i.containerInfo)}catch(G){Je(t,t.return,G)}ld&&(ld=!1,Qy(t));break;case 4:l=Un,Un=xc(t.stateNode.containerInfo),pn(i,t),gn(t),Un=l;break;case 12:pn(i,t),gn(t);break;case 13:pn(i,t),gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(pd=bn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ud(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,z=Fi,$=pt;if(Fi=z||h,pt=$||C,pn(i,t),pt=$,Fi=z,gn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||Fi||pt||ks(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=C.stateNode;var J=C.memoizedProps.style,H=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){Je(C,C.return,G)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(G){Je(C,C.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ud(t,a))));break;case 19:pn(i,t),gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ud(t,l)));break;case 30:break;case 21:break;default:pn(i,t),gn(t)}}function gn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Ly(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=ad(t);dc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(An(v,""),a.flags&=-33);var b=ad(t);dc(t,b,v);break;case 3:case 4:var C=a.stateNode.containerInfo,z=ad(t);od(t,z,C);break;default:throw Error(s(161))}}catch($){Je(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Qy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function wr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)By(t,i.alternate,i),i=i.sibling}function ks(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:br(4,i,i.return),ks(i);break;case 1:ui(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ky(i,i.return,a),ks(i);break;case 27:El(i.stateNode);case 26:case 5:ui(i,i.return),ks(i);break;case 22:i.memoizedState===null&&ks(i);break;case 30:ks(i);break;default:ks(i)}t=t.sibling}}function Ar(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Ar(h,d,a),cl(4,d);break;case 1:if(Ar(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Je(l,l.return,z)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Tg(C[h],b)}catch(z){Je(l,l.return,z)}}a&&v&64&&Py(d),hl(d,d.return);break;case 27:Uy(d);case 26:case 5:Ar(h,d,a),a&&l===null&&v&4&&jy(d),hl(d,d.return);break;case 12:Ar(h,d,a);break;case 13:Ar(h,d,a),a&&v&4&&Fy(h,d);break;case 22:d.memoizedState===null&&Ar(h,d,a),hl(d,d.return);break;case 30:break;default:Ar(h,d,a)}i=i.sibling}}function cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&$o(a))}function hd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t))}function ci(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Yy(t,i,a,l),i=i.sibling}function Yy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(t,i,a,l),h&2048&&cl(9,i);break;case 1:ci(t,i,a,l);break;case 3:ci(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&$o(t)));break;case 12:if(h&2048){ci(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Je(i,i.return,C)}}else ci(t,i,a,l);break;case 13:ci(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ci(t,i,a,l):fl(t,i):d._visibility&2?ci(t,i,a,l):(d._visibility|=2,Oa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&cd(v,i);break;case 24:ci(t,i,a,l),h&2048&&hd(i.alternate,i);break;default:ci(t,i,a,l)}}function Oa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,b=a,C=l,z=v.flags;switch(v.tag){case 0:case 11:case 15:Oa(d,v,b,C,h),cl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Oa(d,v,b,C,h):fl(d,v):($._visibility|=2,Oa(d,v,b,C,h)),h&&z&2048&&cd(v.alternate,v);break;case 24:Oa(d,v,b,C,h),h&&z&2048&&hd(v.alternate,v);break;default:Oa(d,v,b,C,h)}i=i.sibling}}function fl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:fl(a,l),h&2048&&cd(l.alternate,l);break;case 24:fl(a,l),h&2048&&hd(l.alternate,l);break;default:fl(a,l)}i=i.sibling}}var dl=8192;function Ma(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 26:Ma(t),t.flags&dl&&t.memoizedState!==null&&eA(Un,t.memoizedState,t.memoizedProps);break;case 5:Ma(t);break;case 3:case 4:var i=Un;Un=xc(t.stateNode.containerInfo),Ma(t),Un=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=dl,dl=16777216,Ma(t),dl=i):Ma(t));break;default:Ma(t)}}function Xy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Wy(l,t)}Xy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$y(t),t=t.sibling}function $y(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&br(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,mc(t)):ml(t);break;default:ml(t)}}function mc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Wy(l,t)}Xy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:br(8,i,i.return),mc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,mc(i));break;default:mc(i)}t=t.sibling}}function Wy(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:br(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,d=l.return;if(qy(l),l===a){Pt=null;break e}if(h!==null){h.return=d,Pt=h;break e}Pt=d}}}var gw={getCacheForType:function(t){var i=Yt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},yw=typeof WeakMap=="function"?WeakMap:Map,Ye=0,nt=null,Oe=null,Ue=0,Ke=0,yn=null,Sr=!1,Va=!1,fd=!1,Qi=0,ft=0,xr=0,js=0,dd=0,Mn=0,Pa=0,pl=null,on=null,md=!1,pd=0,pc=1/0,gc=null,Rr=null,Ht=0,Ir=null,ka=null,ja=0,gd=0,yd=null,Zy=null,gl=0,_d=null;function _n(){if((Ye&2)!==0&&Ue!==0)return Ue&-Ue;if(X.T!==null){var t=Aa;return t!==0?t:Sd()}return ur()}function Jy(){Mn===0&&(Mn=(Ue&536870912)===0||He?So():536870912);var t=On.current;return t!==null&&(t.flags|=32),Mn}function vn(t,i,a){(t===nt&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(La(t,0),Cr(t,Ue,Mn,!1)),Ai(t,a),((Ye&2)===0||t!==nt)&&(t===nt&&((Ye&2)===0&&(js|=a),ft===4&&Cr(t,Ue,Mn,!1)),hi(t))}function e_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||us(t,i),h=l?Ew(t,i):Td(t,i,!0),d=l;do{if(h===0){Va&&!l&&Cr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!_w(a)){h=Td(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=pl;var C=b.current.memoizedState.isDehydrated;if(C&&(La(b,v).flags|=256),v=Td(b,v,!1),v!==2){if(fd&&!C){b.errorRecoveryDisabledLanes|=d,js|=d,h=4;break e}d=on,on=h,d!==null&&(on===null?on=d:on.push.apply(on,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){La(t,0),Cr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Cr(l,i,Mn,!Sr);break e;case 2:on=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=pd+300-bn(),10<h)){if(Cr(l,i,Mn,!Sr),ta(l,0,!0)!==0)break e;l.timeoutHandle=C_(t_.bind(null,l,a,on,gc,md,i,Mn,js,Pa,Sr,d,2,-0,0),h);break e}t_(l,a,on,gc,md,i,Mn,js,Pa,Sr,d,0,-0,0)}}break}while(!0);hi(t)}function t_(t,i,a,l,h,d,v,b,C,z,$,J,H,G){if(t.timeoutHandle=-1,J=i.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:Jw},Ky(i),J=tA(),J!==null)){t.cancelPendingCommit=J(l_.bind(null,t,i,d,a,l,h,v,b,C,$,1,H,G)),Cr(t,d,v,!z);return}l_(t,i,d,a,l,h,v,b,C)}function _w(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Cr(t,i,a,l){i&=~dd,i&=~js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Qt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&$n(t,a,i)}function yc(){return(Ye&6)===0?(yl(0),!1):!0}function vd(){if(Oe!==null){if(Ke===0)var t=Oe.return;else t=Oe,Li=Ds=null,kf(t),Na=null,ol=0,t=Oe;for(;t!==null;)Vy(t.alternate,t),t=t.return;Oe=null}}function La(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,kw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),vd(),nt=t,Oe=a=Pi(t.current,null),Ue=i,Ke=0,yn=null,Sr=!1,Va=us(t,i),fd=!1,Pa=Mn=dd=js=xr=ft=0,on=pl=null,md=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Qt(l),d=1<<h;i|=t[h],l&=~d}return Qi=i,Uu(),a}function n_(t,i){Ce=null,X.H=rc,i===Zo||i===Ku?(i=vg(),Ke=3):i===gg?(i=vg(),Ke=4):Ke=i===Ey?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Oe===null&&(ft=1,uc(t,In(i,t.current)))}function i_(){var t=X.H;return X.H=rc,t===null?rc:t}function r_(){var t=X.A;return X.A=gw,t}function Ed(){ft=4,Sr||(Ue&4194048)!==Ue&&On.current!==null||(Va=!0),(xr&134217727)===0&&(js&134217727)===0||nt===null||Cr(nt,Ue,Mn,!1)}function Td(t,i,a){var l=Ye;Ye|=2;var h=i_(),d=r_();(nt!==t||Ue!==i)&&(gc=null,La(t,i)),i=!1;var v=ft;e:do try{if(Ke!==0&&Oe!==null){var b=Oe,C=yn;switch(Ke){case 8:vd(),v=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(i=!0);var z=Ke;if(Ke=0,yn=null,Ua(t,b,C,z),a&&Va){v=0;break e}break;default:z=Ke,Ke=0,yn=null,Ua(t,b,C,z)}}vw(),v=ft;break}catch($){n_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Li=Ds=null,Ye=l,X.H=h,X.A=d,Oe===null&&(nt=null,Ue=0,Uu()),v}function vw(){for(;Oe!==null;)s_(Oe)}function Ew(t,i){var a=Ye;Ye|=2;var l=i_(),h=r_();nt!==t||Ue!==i?(gc=null,pc=bn()+500,La(t,i)):Va=us(t,i);e:do try{if(Ke!==0&&Oe!==null){i=Oe;var d=yn;t:switch(Ke){case 1:Ke=0,yn=null,Ua(t,i,d,1);break;case 2:case 9:if(yg(d)){Ke=0,yn=null,a_(i);break}i=function(){Ke!==2&&Ke!==9||nt!==t||(Ke=7),hi(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:yg(d)?(Ke=0,yn=null,a_(i)):(Ke=0,yn=null,Ua(t,i,d,7));break;case 5:var v=null;switch(Oe.tag){case 26:v=Oe.memoizedState;case 5:case 27:var b=Oe;if(!v||B_(v)){Ke=0,yn=null;var C=b.sibling;if(C!==null)Oe=C;else{var z=b.return;z!==null?(Oe=z,_c(z)):Oe=null}break t}}Ke=0,yn=null,Ua(t,i,d,5);break;case 6:Ke=0,yn=null,Ua(t,i,d,6);break;case 8:vd(),ft=6;break e;default:throw Error(s(462))}}Tw();break}catch($){n_(t,$)}while(!0);return Li=Ds=null,X.H=l,X.A=h,Ye=a,Oe!==null?0:(nt=null,Ue=0,Uu(),ft)}function Tw(){for(;Oe!==null&&!To();)s_(Oe)}function s_(t){var i=Oy(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,i===null?_c(t):Oe=i}function a_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=xy(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=xy(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:kf(i);default:Vy(a,i),i=Oe=og(i,Qi),i=Oy(a,i,Qi)}t.memoizedProps=t.pendingProps,i===null?_c(t):Oe=i}function Ua(t,i,a,l){Li=Ds=null,kf(i),Na=null,ol=0;var h=i.return;try{if(cw(t,h,i,a,Ue)){ft=1,uc(t,In(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ft=1,uc(t,In(a,t.current)),Oe=null;return}i.flags&32768?(He||l===1?t=!0:Va||(Ue&536870912)!==0?t=!1:(Sr=t=!0,(l===2||l===9||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),o_(i,t)):_c(i)}function _c(t){var i=t;do{if((i.flags&32768)!==0){o_(i,Sr);return}t=i.return;var a=fw(i.alternate,i,Qi);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ft===0&&(ft=5)}function o_(t,i){do{var a=dw(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ft=6,Oe=null}function l_(t,i,a,l,h,d,v,b,C){t.cancelPendingCommit=null;do vc();while(Ht!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=hf,Ro(t,a,d,v,b,C),t===nt&&(Oe=nt=null,Ue=0),ka=i,Ir=t,ja=a,gd=d,yd=h,Zy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Sw(ss,function(){return d_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,h=le.p,le.p=2,v=Ye,Ye|=4;try{mw(t,i,a)}finally{Ye=v,le.p=h,X.T=l}}Ht=1,u_(),c_(),h_()}}function u_(){if(Ht===1){Ht=0;var t=Ir,i=ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var h=Ye;Ye|=4;try{Gy(i,t);var d=Md,v=Wp(t.containerInfo),b=d.focusedElem,C=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&$p(b.ownerDocument.documentElement,b)){if(C!==null&&af(b)){var z=C.start,$=C.end;if($===void 0&&($=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min($,b.value.length);else{var J=b.ownerDocument||document,H=J&&J.defaultView||window;if(H.getSelection){var G=H.getSelection(),Te=b.textContent.length,_e=Math.min(C.start,Te),Ze=C.end===void 0?_e:Math.min(C.end,Te);!G.extend&&_e>Ze&&(v=Ze,Ze=_e,_e=v);var j=Xp(b,_e),V=Xp(b,Ze);if(j&&V&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var U=J.createRange();U.setStart(j.node,j.offset),G.removeAllRanges(),_e>Ze?(G.addRange(U),G.extend(V.node,V.offset)):(U.setEnd(V.node,V.offset),G.addRange(U))}}}}for(J=[],G=b;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var W=J[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Dc=!!Od,Md=Od=null}finally{Ye=h,le.p=l,X.T=a}}t.current=i,Ht=2}}function c_(){if(Ht===2){Ht=0;var t=Ir,i=ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=le.p;le.p=2;var h=Ye;Ye|=4;try{By(t,i.alternate,i)}finally{Ye=h,le.p=l,X.T=a}}Ht=3}}function h_(){if(Ht===4||Ht===3){Ht=0,mu();var t=Ir,i=ka,a=ja,l=Zy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ht=5:(Ht=0,ka=Ir=null,f_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Rr=null),na(a),i=i.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=X.T,h=le.p,le.p=2,X.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{X.T=i,le.p=h}}(ja&3)!==0&&vc(),hi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===_d?gl++:(gl=0,_d=t):gl=0,yl(0)}}function f_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,$o(i)))}function vc(t){return u_(),c_(),h_(),d_()}function d_(){if(Ht!==5)return!1;var t=Ir,i=gd;gd=0;var a=na(ja),l=X.T,h=le.p;try{le.p=32>a?32:a,X.T=null,a=yd,yd=null;var d=Ir,v=ja;if(Ht=0,ka=Ir=null,ja=0,(Ye&6)!==0)throw Error(s(331));var b=Ye;if(Ye|=4,$y(d.current),Yy(d,d.current,v,a),Ye=b,yl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ct,d)}catch{}return!0}finally{le.p=h,X.T=l,f_(t,i)}}function m_(t,i,a){i=In(a,i),i=$f(t.stateNode,i,2),t=_r(t,i,2),t!==null&&(Ai(t,2),hi(t))}function Je(t,i,a){if(t.tag===3)m_(t,t,a);else for(;i!==null;){if(i.tag===3){m_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Rr===null||!Rr.has(l))){t=In(a,t),a=_y(2),l=_r(i,a,2),l!==null&&(vy(a,l,i,t),Ai(l,2),hi(l));break}}i=i.return}}function bd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new yw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(fd=!0,h.add(a),t=bw.bind(null,t,i,a),i.then(t,t))}function bw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(Ue&a)===a&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>bn()-pd?(Ye&2)===0&&La(t,0):dd|=a,Pa===Ue&&(Pa=0)),hi(t)}function p_(t,i){i===0&&(i=xo()),t=Ea(t,i),t!==null&&(Ai(t,i),hi(t))}function ww(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),p_(t,a)}function Aw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),p_(t,a)}function Sw(t,i){return is(t,i)}var Ec=null,za=null,wd=!1,Tc=!1,Ad=!1,Ls=0;function hi(t){t!==za&&t.next===null&&(za===null?Ec=za=t:za=za.next=t),Tc=!0,wd||(wd=!0,Rw())}function yl(t,i){if(!Ad&&Tc){Ad=!0;do for(var a=!1,l=Ec;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-Qt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,v_(l,d))}else d=Ue,d=ta(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||us(l,d)||(a=!0,v_(l,d));l=l.next}while(a);Ad=!1}}function xw(){g_()}function g_(){Tc=wd=!1;var t=0;Ls!==0&&(Pw()&&(t=Ls),Ls=0);for(var i=bn(),a=null,l=Ec;l!==null;){var h=l.next,d=y_(l,i);d===0?(l.next=null,a===null?Ec=h:a.next=h,h===null&&(za=a)):(a=l,(t!==0||(d&3)!==0)&&(Tc=!0)),l=h}yl(t)}function y_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Qt(d),b=1<<v,C=h[v];C===-1?((b&a)===0||(b&l)!==0)&&(h[v]=Ao(b,i)):C<=i&&(t.expiredLanes|=b),d&=~b}if(i=nt,a=Ue,a=ta(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||us(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&rs(l),na(a)){case 2:case 8:a=Js;break;case 32:a=ss;break;case 268435456:a=ea;break;default:a=ss}return l=__.bind(null,t),a=is(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&rs(l),t.callbackPriority=2,t.callbackNode=null,2}function __(t,i){if(Ht!==0&&Ht!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(vc()&&t.callbackNode!==a)return null;var l=Ue;return l=ta(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(e_(t,l,i),y_(t,bn()),t.callbackNode!=null&&t.callbackNode===a?__.bind(null,t):null)}function v_(t,i){if(vc())return null;e_(t,i,!0)}function Rw(){jw(function(){(Ye&6)!==0?is(bo,xw):g_()})}function Sd(){return Ls===0&&(Ls=So()),Ls}function E_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:la(""+t)}function T_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Iw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=E_((h[_t]||null).action),v=l.submitter;v&&(i=(i=v[_t]||null)?E_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new ua("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ls!==0){var C=v?T_(h,v):new FormData(h);Gf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=v?T_(h,v):new FormData(h),Gf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var xd=0;xd<cf.length;xd++){var Rd=cf[xd],Cw=Rd.toLowerCase(),Nw=Rd[0].toUpperCase()+Rd.slice(1);Ln(Cw,"on"+Nw)}Ln(eg,"onAnimationEnd"),Ln(tg,"onAnimationIteration"),Ln(ng,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Yb,"onTransitionRun"),Ln(Kb,"onTransitionStart"),Ln(Xb,"onTransitionCancel"),Ln(ig,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function b_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],C=b.instance,z=b.currentTarget;if(b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=z;try{d(h)}catch($){lc($)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(b=l[v],C=b.instance,z=b.currentTarget,b=b.listener,C!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=z;try{d(h)}catch($){lc($)}h.currentTarget=null,d=C}}}}function Me(t,i){var a=i[Co];a===void 0&&(a=i[Co]=new Set);var l=t+"__bubble";a.has(l)||(w_(i,t,2,!1),a.add(l))}function Id(t,i,a){var l=0;i&&(l|=4),w_(a,t,l,i)}var bc="_reactListening"+Math.random().toString(36).slice(2);function Cd(t){if(!t[bc]){t[bc]=!0,No.forEach(function(a){a!=="selectionchange"&&(Dw.has(a)||Id(a,!1,t),Id(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[bc]||(i[bc]=!0,Id("selectionchange",!1,i))}}function w_(t,i,a,l){switch(Y_(i)){case 2:var h=rA;break;case 8:h=sA;break;default:h=Hd}a=h.bind(null,i,a,t),h=void 0,!xn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Nd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=Si(b),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Au(function(){var z=d,$=Sn(a),J=[];e:{var H=rg.get(t);if(H!==void 0){var G=ua,Te=t;switch(t){case"keypress":if(ni(a)===0)break e;case"keydown":case"keyup":G=pa;break;case"focusin":Te="focus",G=fa;break;case"focusout":Te="blur",G=fa;break;case"beforeblur":case"afterblur":G=fa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=tf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Ou;break;case eg:case tg:case ng:G=da;break;case ig:G=Vu;break;case"scroll":case"scrollend":G=Su;break;case"wheel":G=ga;break;case"copy":case"cut":case"paste":G=ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=qo;break;case"toggle":case"beforetoggle":G=ku}var _e=(i&4)!==0,Ze=!_e&&(t==="scroll"||t==="scrollend"),j=_e?H!==null?H+"Capture":null:H;_e=[];for(var V=z,U;V!==null;){var W=V;if(U=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||U===null||j===null||(W=ys(V,j),W!=null&&_e.push(vl(V,W,U))),Ze)break;V=V.return}0<_e.length&&(H=new G(H,Te,null,a,$),J.push({event:H,listeners:_e}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",H&&a!==Ci&&(Te=a.relatedTarget||a.fromElement)&&(Si(Te)||Te[wn]))break e;if((G||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Te=a.relatedTarget||a.toElement,G=z,Te=Te?Si(Te):null,Te!==null&&(Ze=u(Te),_e=Te.tag,Te!==Ze||_e!==5&&_e!==27&&_e!==6)&&(Te=null)):(G=null,Te=z),G!==Te)){if(_e=Rn,W="onMouseLeave",j="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(_e=qo,W="onPointerLeave",j="onPointerEnter",V="pointer"),Ze=G==null?H:Zn(G),U=Te==null?H:Zn(Te),H=new _e(W,V+"leave",G,a,$),H.target=Ze,H.relatedTarget=U,W=null,Si($)===z&&(_e=new _e(j,V+"enter",Te,a,$),_e.target=U,_e.relatedTarget=Ze,W=_e),Ze=W,G&&Te)t:{for(_e=G,j=Te,V=0,U=_e;U;U=Ba(U))V++;for(U=0,W=j;W;W=Ba(W))U++;for(;0<V-U;)_e=Ba(_e),V--;for(;0<U-V;)j=Ba(j),U--;for(;V--;){if(_e===j||j!==null&&_e===j.alternate)break t;_e=Ba(_e),j=Ba(j)}_e=null}else _e=null;G!==null&&A_(J,H,G,_e,!1),Te!==null&&Ze!==null&&A_(J,Ze,Te,_e,!0)}}e:{if(H=z?Zn(z):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var de=Hp;else if(Rt(H))if(Fp)de=Fb;else{de=qb;var De=Bb}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?z&&Po(z.elementType)&&(de=Hp):de=Hb;if(de&&(de=de(t,z))){Vi(J,de,a,$);break e}De&&De(t,H,z),t==="focusout"&&z&&H.type==="number"&&z.memoizedProps.value!=null&&dr(H,"number",H.value)}switch(De=z?Zn(z):window,t){case"focusin":(Rt(De)||De.contentEditable==="true")&&(ya=De,of=z,Go=null);break;case"focusout":Go=of=ya=null;break;case"mousedown":lf=!0;break;case"contextmenu":case"mouseup":case"dragend":lf=!1,Zp(J,a,$);break;case"selectionchange":if(Qb)break;case"keydown":case"keyup":Zp(J,a,$)}var me;if(si)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else je?Q(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(_&&a.locale!=="ko"&&(je||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&je&&(me=jo()):(ti=$,mr="value"in ti?ti.value:ti.textContent,je=!0)),De=wc(z,ve),0<De.length&&(ve=new zo(ve,t,null,a,$),J.push({event:ve,listeners:De}),me?ve.data=me:(me=oe(a),me!==null&&(ve.data=me)))),(me=p?xt(t,a):Le(t,a))&&(ve=wc(z,"onBeforeInput"),0<ve.length&&(De=new zo("onBeforeInput","beforeinput",null,a,$),J.push({event:De,listeners:ve}),De.data=me)),Iw(J,t,z,a,$)}b_(J,i)})}function vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function wc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ys(t,a),h!=null&&l.unshift(vl(t,h,d)),h=ys(t,i),h!=null&&l.push(vl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Ba(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function A_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,C=b.alternate,z=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||z===null||(C=z,h?(z=ys(a,d),z!=null&&v.unshift(vl(a,z,C))):h||(z=ys(a,d),z!=null&&v.push(vl(a,z,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Ow=/\r\n?/g,Mw=/\u0000|\uFFFD/g;function S_(t){return(typeof t=="string"?t:""+t).replace(Ow,`
`).replace(Mw,"")}function x_(t,i){return i=S_(i),S_(t)===i}function Ac(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||An(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&An(t,""+l);break;case"className":Jn(t,"class",l);break;case"tabIndex":Jn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Jn(t,a,l);break;case"style":Vo(t,l,d);break;case"data":if(i!=="object"){Jn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=la(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ac);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=la(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),fr(t,"popover",l);break;case"xlinkActuate":zt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Jh.get(a)||a,fr(t,a,l))}}function Dd(t,i,a,l,h,d){switch(a){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?An(t,l):(typeof l=="number"||typeof l=="bigint")&&An(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ia.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):fr(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Me("invalid",t);var b=d=v=h=null,C=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":C=$;break;case"defaultChecked":z=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:We(t,i,l,$,a,null)}}ms(t,d,b,C,z,v,h,!1),oa(t);return;case"select":Me("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:We(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Ii(t,!!l,i,!1):a!=null&&Ii(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:We(t,i,v,b,a,null)}ps(t,l,h,d),oa(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,C,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)Me(_l[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,z,l,a,null)}return;default:if(Po(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&Dd(t,i,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&We(t,i,b,l,a,null))}function Vw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,C=null,z=null,$=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(G)||We(t,i,G,null,l,J)}}for(var H in l){var G=l[H];if(J=a[H],l.hasOwnProperty(H)&&(G!=null||J!=null))switch(H){case"type":d=G;break;case"name":h=G;break;case"checked":z=G;break;case"defaultChecked":$=G;break;case"value":v=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==J&&We(t,i,H,G,l,J)}}fn(t,v,b,C,z,$,d,h);return;case"select":G=v=b=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||We(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==C&&We(t,i,h,d,l,C)}i=b,a=v,l=G,H!=null?Ii(t,!!a,H,!1):!!l!=!!a&&(i!=null?Ii(t,!!a,i,!0):Ii(t,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:We(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,v,h,l,d)}Xe(t,H,G);return;case"option":for(var Te in a)if(H=a[Te],a.hasOwnProperty(Te)&&H!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":t.selected=!1;break;default:We(t,i,Te,null,l,H)}for(C in l)if(H=l[C],G=a[C],l.hasOwnProperty(C)&&H!==G&&(H!=null||G!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(t,i,C,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)H=a[_e],a.hasOwnProperty(_e)&&H!=null&&!l.hasOwnProperty(_e)&&We(t,i,_e,null,l,H);for(z in l)if(H=l[z],G=a[z],l.hasOwnProperty(z)&&H!==G&&(H!=null||G!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:We(t,i,z,H,l,G)}return;default:if(Po(i)){for(var Ze in a)H=a[Ze],a.hasOwnProperty(Ze)&&H!==void 0&&!l.hasOwnProperty(Ze)&&Dd(t,i,Ze,void 0,l,H);for($ in l)H=l[$],G=a[$],!l.hasOwnProperty($)||H===G||H===void 0&&G===void 0||Dd(t,i,$,H,l,G);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&We(t,i,j,null,l,H);for(J in l)H=l[J],G=a[J],!l.hasOwnProperty(J)||H===G||H==null&&G==null||We(t,i,J,H,l,G)}var Od=null,Md=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function R_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function I_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Vd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Pd=null;function Pw(){var t=window.event;return t&&t.type==="popstate"?t===Pd?!1:(Pd=t,!0):(Pd=null,!1)}var C_=typeof setTimeout=="function"?setTimeout:void 0,kw=typeof clearTimeout=="function"?clearTimeout:void 0,N_=typeof Promise=="function"?Promise:void 0,jw=typeof queueMicrotask=="function"?queueMicrotask:typeof N_<"u"?function(t){return N_.resolve(null).then(t).catch(Lw)}:C_;function Lw(t){setTimeout(function(){throw t})}function Nr(t){return t==="head"}function D_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&El(v.documentElement),a&2&&El(v.body),a&4)for(a=v.head,El(a),v=a.firstChild;v;){var b=v.nextSibling,C=v.nodeName;v[cs]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=b}}if(h===0){t.removeChild(d),Il(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Il(i)}function kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":kd(a),hr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Uw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[cs])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function zw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Bw(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Ld=null;function O_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function M_(t,i,a){switch(i=Sc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function El(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);hr(t)}var Vn=new Map,V_=new Set;function xc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Yi=le.d;le.d={f:qw,r:Hw,D:Fw,C:Gw,L:Qw,m:Yw,X:Xw,S:Kw,M:$w};function qw(){var t=Yi.f(),i=yc();return t||i}function Hw(t){var i=Wn(t);i!==null&&i.tag===5&&i.type==="form"?ey(i):Yi.r(t)}var qa=typeof document>"u"?null:document;function P_(t,i,a){var l=qa;if(l&&typeof i=="string"&&i){var h=vt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),V_.has(h)||(V_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),dt(i),l.head.appendChild(i)))}}function Fw(t){Yi.D(t),P_("dns-prefetch",t,null)}function Gw(t,i){Yi.C(t,i),P_("preconnect",t,i)}function Qw(t,i,a){Yi.L(t,i,a);var l=qa;if(l&&t&&i){var h='link[rel="preload"][as="'+vt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vt(a.imageSizes)+'"]')):h+='[href="'+vt(t)+'"]';var d=h;switch(i){case"style":d=Ha(t);break;case"script":d=Fa(t)}Vn.has(d)||(t=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Vn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Tl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),Ft(i,"link",t),dt(i),l.head.appendChild(i)))}}function Yw(t,i){Yi.m(t,i);var a=qa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+vt(l)+'"][href="'+vt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Fa(t)}if(!Vn.has(d)&&(t=T({rel:"modulepreload",href:t},i),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),Ft(l,"link",t),dt(l),a.head.appendChild(l)}}}function Kw(t,i,a){Yi.S(t,i,a);var l=qa;if(l&&t){var h=en(l).hoistableStyles,d=Ha(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Tl(d)))b.loading=5;else{t=T({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Vn.get(d))&&Ud(t,a);var C=v=l.createElement("link");dt(C),Ft(C,"link",t),C._p=new Promise(function(z,$){C.onload=z,C.onerror=$}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Rc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function Xw(t,i){Yi.X(t,i);var a=qa;if(a&&t){var l=en(a).hoistableScripts,h=Fa(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=T({src:t,async:!0},i),(i=Vn.get(h))&&zd(t,i),d=a.createElement("script"),dt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $w(t,i){Yi.M(t,i);var a=qa;if(a&&t){var l=en(a).hoistableScripts,h=Fa(t),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(t=T({src:t,async:!0,type:"module"},i),(i=Vn.get(h))&&zd(t,i),d=a.createElement("script"),dt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function k_(t,i,a,l){var h=(h=we.current)?xc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ha(a.href),a=en(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ha(a.href);var d=en(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Tl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||Ww(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Fa(a),a=en(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ha(t){return'href="'+vt(t)+'"'}function Tl(t){return'link[rel="stylesheet"]['+t+"]"}function j_(t){return T({},t,{"data-precedence":t.precedence,precedence:null})}function Ww(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),dt(i),t.head.appendChild(i))}function Fa(t){return'[src="'+vt(t)+'"]'}function bl(t){return"script[async]"+t}function L_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+vt(a.href)+'"]');if(l)return i.instance=l,dt(l),l;var h=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),Ft(l,"style",h),Rc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ha(a.href);var d=t.querySelector(Tl(h));if(d)return i.state.loading|=4,i.instance=d,dt(d),d;l=j_(a),(h=Vn.get(h))&&Ud(l,h),d=(t.ownerDocument||t).createElement("link"),dt(d);var v=d;return v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),Ft(d,"link",l),i.state.loading|=4,Rc(d,a.precedence,t),i.instance=d;case"script":return d=Fa(a.src),(h=t.querySelector(bl(d)))?(i.instance=h,dt(h),h):(l=a,(h=Vn.get(d))&&(l=T({},a),zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),dt(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Rc(l,a.precedence,t));return i.instance}function Rc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Ud(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Ic=null;function U_(t,i,a){if(Ic===null){var l=new Map,h=Ic=new Map;h.set(a,l)}else h=Ic,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[cs]||d[St]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function z_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Zw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function B_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function Jw(){}function eA(t,i,a){if(wl===null)throw Error(s(475));var l=wl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ha(a.href),d=t.querySelector(Tl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Cc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,dt(d);return}d=t.ownerDocument||t,a=j_(a),(h=Vn.get(h))&&Ud(a,h),d=d.createElement("link"),dt(d);var v=d;v._p=new Promise(function(b,C){v.onload=b,v.onerror=C}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Cc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function tA(){if(wl===null)throw Error(s(475));var t=wl;return t.stylesheets&&t.count===0&&Bd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Bd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Cc(){if(this.count--,this.count===0){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Nc=null;function Bd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Nc=new Map,i.forEach(nA,t),Nc=null,Cc.call(t))}function nA(t,i){if(!(i.state.loading&4)){var a=Nc.get(t);if(a)var l=a.get(null);else{a=new Map,Nc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Al={$$typeof:ie,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function iA(t,i,a,l,h,d,v,b){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function q_(t,i,a,l,h,d,v,b,C,z,$,J){return t=new iA(t,i,a,v,b,C,z,J),i=1,d===!0&&(i|=24),d=mn(3,null,null,i),t.current=d,d.stateNode=t,i=bf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},xf(d),t}function H_(t){return t?(t=Ta,t):Ta}function F_(t,i,a,l,h,d){h=H_(h),l.context===null?l.context=h:l.pendingContext=h,l=yr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=_r(t,l,i),a!==null&&(vn(a,t,i),el(a,t,i))}function G_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function qd(t,i){G_(t,i),(t=t.alternate)&&G_(t,i)}function Q_(t){if(t.tag===13){var i=Ea(t,67108864);i!==null&&vn(i,t,67108864),qd(t,67108864)}}var Dc=!0;function rA(t,i,a,l){var h=X.T;X.T=null;var d=le.p;try{le.p=2,Hd(t,i,a,l)}finally{le.p=d,X.T=h}}function sA(t,i,a,l){var h=X.T;X.T=null;var d=le.p;try{le.p=8,Hd(t,i,a,l)}finally{le.p=d,X.T=h}}function Hd(t,i,a,l){if(Dc){var h=Fd(l);if(h===null)Nd(t,i,l,Oc,a),K_(t,l);else if(oA(h,t,i,a,l))l.stopPropagation();else if(K_(t,l),i&4&&-1<aA.indexOf(t)){for(;h!==null;){var d=Wn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Pn(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var C=1<<31-Qt(v);b.entanglements[1]|=C,v&=~C}hi(d),(Ye&6)===0&&(pc=bn()+500,yl(0))}}break;case 13:b=Ea(d,2),b!==null&&vn(b,d,2),yc(),qd(d,2)}if(d=Fd(l),d===null&&Nd(t,i,l,Oc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Nd(t,i,l,null,a)}}function Fd(t){return t=Sn(t),Gd(t)}var Oc=null;function Gd(t){if(Oc=null,t=Si(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Oc=t,null}function Y_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yh()){case bo:return 2;case Js:return 8;case ss:case Kh:return 32;case ea:return 268435456;default:return 32}default:return 32}}var Qd=!1,Dr=null,Or=null,Mr=null,Sl=new Map,xl=new Map,Vr=[],aA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function K_(t,i){switch(t){case"focusin":case"focusout":Dr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Mr=null;break;case"pointerover":case"pointerout":Sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(i.pointerId)}}function Rl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Wn(i),i!==null&&Q_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function oA(t,i,a,l,h){switch(i){case"focusin":return Dr=Rl(Dr,t,i,a,l,h),!0;case"dragenter":return Or=Rl(Or,t,i,a,l,h),!0;case"mouseover":return Mr=Rl(Mr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Sl.set(d,Rl(Sl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,xl.set(d,Rl(xl.get(d)||null,t,i,a,l,h)),!0}return!1}function X_(t){var i=Si(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,yu(t.priority,function(){if(a.tag===13){var l=_n();l=lr(l);var h=Ea(a,l);h!==null&&vn(h,a,l),qd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Fd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ci=l,a.target.dispatchEvent(l),Ci=null}else return i=Wn(a),i!==null&&Q_(i),t.blockedOn=a,!1;i.shift()}return!0}function $_(t,i,a){Mc(t)&&a.delete(i)}function lA(){Qd=!1,Dr!==null&&Mc(Dr)&&(Dr=null),Or!==null&&Mc(Or)&&(Or=null),Mr!==null&&Mc(Mr)&&(Mr=null),Sl.forEach($_),xl.forEach($_)}function Vc(t,i){t.blockedOn===i&&(t.blockedOn=null,Qd||(Qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lA)))}var Pc=null;function W_(t){Pc!==t&&(Pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Gd(l||a)===null)continue;break}var d=Wn(a);d!==null&&(t.splice(i,3),i-=3,Gf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Il(t){function i(C){return Vc(C,t)}Dr!==null&&Vc(Dr,t),Or!==null&&Vc(Or,t),Mr!==null&&Vc(Mr,t),Sl.forEach(i),xl.forEach(i);for(var a=0;a<Vr.length;a++){var l=Vr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Vr.length&&(a=Vr[0],a.blockedOn===null);)X_(a),a.blockedOn===null&&Vr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[_t]||null;if(typeof d=="function")v||W_(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[_t]||null)b=v.formAction;else if(Gd(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),W_(a)}}}function Yd(t){this._internalRoot=t}kc.prototype.render=Yd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=_n();F_(a,l,t,i,null,null)},kc.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;F_(t.current,2,null,t,null,null),yc(),i[wn]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=ur();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Vr.length&&i!==0&&i<Vr[a].priority;a++);Vr.splice(a,0,t),a===0&&X_(t)}};var Z_=e.version;if(Z_!=="19.1.0")throw Error(s(527,Z_,"19.1.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var uA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{ct=jc.inject(uA),Qe=jc}catch{}}return Nl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=my,d=py,v=gy,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=q_(t,1,!1,null,null,a,l,h,d,v,b,null),t[wn]=i.current,Cd(t),new Yd(i)},Nl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=my,v=py,b=gy,C=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),i=q_(t,1,!0,i,a??null,l,h,d,v,b,C,z),i.context=H_(null),a=i.current,l=_n(),l=lr(l),h=yr(l),h.callback=null,_r(a,h,l),a=l,i.current.lanes=a,Ai(i,a),hi(i),t[wn]=i.current,Cd(t),new kc(i)},Nl.version="19.1.0",Nl}var lv;function vA(){if(lv)return $d.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$d.exports=_A(),$d.exports}var EA=vA();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var uv="popstate";function TA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return mm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ql(o)}return wA(e,n,null,r)}function lt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function gi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bA(){return Math.random().toString(36).substring(2,10)}function cv(r,e){return{usr:r.state,key:r.key,idx:e}}function mm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?uo(e):e,state:n,key:e&&e.key||s||bA()}}function ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function uo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function wA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",y=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function A(){m="POP";let F=T(),K=F==null?null:F-g;g=F,y&&y({action:m,location:Y.location,delta:K})}function S(F,K){m="PUSH";let re=mm(Y.location,F,K);g=T()+1;let ie=cv(re,g),ae=Y.createHref(re);try{f.pushState(ie,"",ae)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;o.location.assign(ae)}u&&y&&y({action:m,location:Y.location,delta:1})}function k(F,K){m="REPLACE";let re=mm(Y.location,F,K);g=T();let ie=cv(re,g),ae=Y.createHref(re);f.replaceState(ie,"",ae),u&&y&&y({action:m,location:Y.location,delta:0})}function q(F){return AA(F)}let Y={get action(){return m},get location(){return r(o,f)},listen(F){if(y)throw new Error("A history only accepts one active listener");return o.addEventListener(uv,A),y=F,()=>{o.removeEventListener(uv,A),y=null}},createHref(F){return e(o,F)},createURL:q,encodeLocation(F){let K=q(F);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:S,replace:k,go(F){return f.go(F)}};return Y}function AA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:ql(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function qE(r,e,n="/"){return SA(r,e,n,!1)}function SA(r,e,n,s){let o=typeof e=="string"?uo(e):e,u=er(o.pathname||"/",n);if(u==null)return null;let f=HE(r);xA(f);let m=null;for(let y=0;m==null&&y<f.length;++y){let g=jA(u);m=PA(f[y],g,s)}return m}function HE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let y={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};y.relativePath.startsWith("/")&&(lt(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let g=Wi([s,y.relativePath]),T=n.concat(y);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),HE(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:MA(g,u.index),routesMeta:T})};return r.forEach((u,f)=>{if(u.path===""||!u.path?.includes("?"))o(u,f);else for(let m of FE(u.path))o(u,f,m)}),e}function FE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=FE(s.join("/")),m=[];return m.push(...f.map(y=>y===""?u:[u,y].join("/"))),o&&m.push(...f),m.map(y=>r.startsWith("/")&&y===""?"/":y)}function xA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:VA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var RA=/^:[\w-]+$/,IA=3,CA=2,NA=1,DA=10,OA=-2,hv=r=>r==="*";function MA(r,e){let n=r.split("/"),s=n.length;return n.some(hv)&&(s+=OA),e&&(s+=CA),n.filter(o=>!hv(o)).reduce((o,u)=>o+(RA.test(u)?IA:u===""?NA:DA),s)}function VA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function PA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let y=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",A=nh({path:y.relativePath,caseSensitive:y.caseSensitive,end:g},T),S=y.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=nh({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Wi([u,A.pathname]),pathnameBase:BA(Wi([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=Wi([u,A.pathnameBase]))}return f}function nh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=kA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:A},S)=>{if(T==="*"){let q=m[S]||"";f=u.slice(0,u.length-q.length).replace(/(.)\/+$/,"$1")}const k=m[S];return A&&!k?g[T]=void 0:g[T]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function kA(r,e=!1,n=!0){gi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,y)=>(s.push({paramName:m,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function jA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function er(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function LA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?uo(r):r;return{pathname:n?n.startsWith("/")?n:UA(n,e):e,search:qA(s),hash:HA(o)}}function UA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function em(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function GE(r){let e=zA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function QE(r,e,n,s=!1){let o;typeof r=="string"?o=uo(r):(o={...r},lt(!o.pathname||!o.pathname.includes("?"),em("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),em("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),em("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?e[A]:"/"}let y=LA(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!y.pathname.endsWith("/")&&(g||T)&&(y.pathname+="/"),y}var Wi=r=>r.join("/").replace(/\/\/+/g,"/"),BA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,HA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function FA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var YE=["POST","PUT","PATCH","DELETE"];new Set(YE);var GA=["GET",...YE];new Set(GA);var co=B.createContext(null);co.displayName="DataRouter";var Th=B.createContext(null);Th.displayName="DataRouterState";B.createContext(!1);var KE=B.createContext({isTransitioning:!1});KE.displayName="ViewTransition";var QA=B.createContext(new Map);QA.displayName="Fetchers";var YA=B.createContext(null);YA.displayName="Await";var Ei=B.createContext(null);Ei.displayName="Navigation";var Zl=B.createContext(null);Zl.displayName="Location";var Ti=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var Fm=B.createContext(null);Fm.displayName="RouteError";function KA(r,{relative:e}={}){lt(Jl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(Ei),{hash:o,pathname:u,search:f}=eu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Wi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function Jl(){return B.useContext(Zl)!=null}function sr(){return lt(Jl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Zl).location}var XE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $E(r){B.useContext(Ei).static||B.useLayoutEffect(r)}function ho(){let{isDataRoute:r}=B.useContext(Ti);return r?oS():XA()}function XA(){lt(Jl(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(co),{basename:e,navigator:n}=B.useContext(Ei),{matches:s}=B.useContext(Ti),{pathname:o}=sr(),u=JSON.stringify(GE(s)),f=B.useRef(!1);return $E(()=>{f.current=!0}),B.useCallback((y,g={})=>{if(gi(f.current,XE),!f.current)return;if(typeof y=="number"){n.go(y);return}let T=QE(y,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Wi([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}B.createContext(null);function WE(){let{matches:r}=B.useContext(Ti),e=r[r.length-1];return e?e.params:{}}function eu(r,{relative:e}={}){let{matches:n}=B.useContext(Ti),{pathname:s}=sr(),o=JSON.stringify(GE(n));return B.useMemo(()=>QE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function $A(r,e){return ZE(r,e)}function ZE(r,e,n,s){lt(Jl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=B.useContext(Ei),{matches:u}=B.useContext(Ti),f=u[u.length-1],m=f?f.params:{},y=f?f.pathname:"/",g=f?f.pathnameBase:"/",T=f&&f.route;{let K=T&&T.path||"";JE(y,!T||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let A=sr(),S;if(e){let K=typeof e=="string"?uo(e):e;lt(g==="/"||K.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${K.pathname}" was given in the \`location\` prop.`),S=K}else S=A;let k=S.pathname||"/",q=k;if(g!=="/"){let K=g.replace(/^\//,"").split("/");q="/"+k.replace(/^\//,"").split("/").slice(K.length).join("/")}let Y=qE(r,{pathname:q});gi(T||Y!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),gi(Y==null||Y[Y.length-1].route.element!==void 0||Y[Y.length-1].route.Component!==void 0||Y[Y.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=tS(Y&&Y.map(K=>Object.assign({},K,{params:Object.assign({},m,K.params),pathname:Wi([g,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?g:Wi([g,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),u,n,s);return e&&F?B.createElement(Zl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function WA(){let r=aS(),e=FA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var ZA=B.createElement(WA,null),JA=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(Ti.Provider,{value:this.props.routeContext},B.createElement(Fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function eS({routeContext:r,match:e,children:n}){let s=B.useContext(co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ti.Provider,{value:r},n)}function tS(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n?.errors;if(u!=null){let y=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);lt(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,y+1))}let f=!1,m=-1;if(n)for(let y=0;y<o.length;y++){let g=o[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=y),g.route.id){let{loaderData:T,errors:A}=n,S=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((y,g,T)=>{let A,S=!1,k=null,q=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,k=g.route.errorElement||ZA,f&&(m<0&&T===0?(JE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,q=null):m===T&&(S=!0,q=g.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,T+1)),F=()=>{let K;return A?K=k:S?K=q:g.route.Component?K=B.createElement(g.route.Component,null):g.route.element?K=g.route.element:K=y,B.createElement(eS,{match:g,routeContext:{outlet:y,matches:Y,isDataRoute:n!=null},children:K})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?B.createElement(JA,{location:n.location,revalidation:n.revalidation,component:k,error:A,children:F(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):F()},null)}function Gm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nS(r){let e=B.useContext(co);return lt(e,Gm(r)),e}function iS(r){let e=B.useContext(Th);return lt(e,Gm(r)),e}function rS(r){let e=B.useContext(Ti);return lt(e,Gm(r)),e}function Qm(r){let e=rS(r),n=e.matches[e.matches.length-1];return lt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function sS(){return Qm("useRouteId")}function aS(){let r=B.useContext(Fm),e=iS("useRouteError"),n=Qm("useRouteError");return r!==void 0?r:e.errors?.[n]}function oS(){let{router:r}=nS("useNavigate"),e=Qm("useNavigate"),n=B.useRef(!1);return $E(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{gi(n.current,XE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var fv={};function JE(r,e,n){!e&&!fv[r]&&(fv[r]=!0,gi(!1,n))}B.memo(lS);function lS({routes:r,future:e,state:n}){return ZE(r,void 0,n,e)}function Bn(r){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uS({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Jl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=uo(n));let{pathname:y="/",search:g="",hash:T="",state:A=null,key:S="default"}=n,k=B.useMemo(()=>{let q=er(y,f);return q==null?null:{location:{pathname:q,search:g,hash:T,state:A,key:S},navigationType:s}},[f,y,g,T,A,S,s]);return gi(k!=null,`<Router basename="${f}"> is not able to match the URL "${y}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:B.createElement(Ei.Provider,{value:m},B.createElement(Zl.Provider,{children:e,value:k}))}function cS({children:r,location:e}){return $A(pm(r),e)}function pm(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,pm(s.props.children,u));return}lt(s.type===Bn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=pm(s.props.children,u)),n.push(f)}),n}var Gc="get",Qc="application/x-www-form-urlencoded";function bh(r){return r!=null&&typeof r.tagName=="string"}function hS(r){return bh(r)&&r.tagName.toLowerCase()==="button"}function fS(r){return bh(r)&&r.tagName.toLowerCase()==="form"}function dS(r){return bh(r)&&r.tagName.toLowerCase()==="input"}function mS(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function pS(r,e){return r.button===0&&(!e||e==="_self")&&!mS(r)}var Lc=null;function gS(){if(Lc===null)try{new FormData(document.createElement("form"),0),Lc=!1}catch{Lc=!0}return Lc}var yS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function tm(r){return r!=null&&!yS.has(r)?(gi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Qc}"`),null):r}function _S(r,e){let n,s,o,u,f;if(fS(r)){let m=r.getAttribute("action");s=m?er(m,e):null,n=r.getAttribute("method")||Gc,o=tm(r.getAttribute("enctype"))||Qc,u=new FormData(r)}else if(hS(r)||dS(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=r.getAttribute("formaction")||m.getAttribute("action");if(s=y?er(y,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Gc,o=tm(r.getAttribute("formenctype"))||tm(m.getAttribute("enctype"))||Qc,u=new FormData(m,r),!gS()){let{name:g,type:T,value:A}=r;if(T==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,A)}}else{if(bh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gc,s=null,o=Qc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ym(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vS(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&er(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ES(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TS(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function bS(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await ES(u,n);return f.links?f.links():[]}return[]}));return xS(s.flat(1).filter(TS).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function dv(r,e,n,s,o,u){let f=(y,g)=>n[g]?y.route.id!==n[g].route.id:!0,m=(y,g)=>n[g].pathname!==y.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==y.params["*"];return u==="assets"?e.filter((y,g)=>f(y,g)||m(y,g)):u==="data"?e.filter((y,g)=>{let T=s.routes[y.route.id];if(!T||!T.hasLoader)return!1;if(f(y,g)||m(y,g))return!0;if(y.route.shouldRevalidate){let A=y.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function wS(r,e,{includeHydrateFallback:n}={}){return AS(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function AS(r){return[...new Set(r)]}function SS(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function xS(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(SS(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function eT(){let r=B.useContext(co);return Ym(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function RS(){let r=B.useContext(Th);return Ym(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Km=B.createContext(void 0);Km.displayName="FrameworkContext";function tT(){let r=B.useContext(Km);return Ym(r,"You must render this element inside a <HydratedRouter> element"),r}function IS(r,e){let n=B.useContext(Km),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:y,onMouseEnter:g,onMouseLeave:T,onTouchStart:A}=e,S=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=K=>{K.forEach(re=>{f(re.isIntersecting)})},F=new IntersectionObserver(Y,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[r]),B.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let k=()=>{o(!0)},q=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Dl(m,k),onBlur:Dl(y,q),onMouseEnter:Dl(g,k),onMouseLeave:Dl(T,q),onTouchStart:Dl(A,k)}]:[!1,S,{}]}function Dl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function CS({page:r,...e}){let{router:n}=eT(),s=B.useMemo(()=>qE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(DS,{page:r,matches:s,...e}):null}function NS(r){let{manifest:e,routeModules:n}=tT(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return bS(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function DS({page:r,matches:e,...n}){let s=sr(),{manifest:o,routeModules:u}=tT(),{basename:f}=eT(),{loaderData:m,matches:y}=RS(),g=B.useMemo(()=>dv(r,e,y,o,s,"data"),[r,e,y,o,s]),T=B.useMemo(()=>dv(r,e,y,o,s,"assets"),[r,e,y,o,s]),A=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let q=new Set,Y=!1;if(e.forEach(K=>{let re=o.routes[K.route.id];!re||!re.hasLoader||(!g.some(ie=>ie.route.id===K.route.id)&&K.route.id in m&&u[K.route.id]?.shouldRevalidate||re.hasClientLoader?Y=!0:q.add(K.route.id))}),q.size===0)return[];let F=vS(r,f,"data");return Y&&q.size>0&&F.searchParams.set("_routes",e.filter(K=>q.has(K.route.id)).map(K=>K.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,r,u]),S=B.useMemo(()=>wS(T,o),[T,o]),k=NS(T);return B.createElement(B.Fragment,null,A.map(q=>B.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...n})),S.map(q=>B.createElement("link",{key:q,rel:"modulepreload",href:q,...n})),k.map(({key:q,link:Y})=>B.createElement("link",{key:q,...Y})))}function OS(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nT&&(window.__reactRouterVersion="7.7.1")}catch{}function MS({basename:r,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=TA({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(y=>{B.startTransition(()=>f(y))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(uS,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var iT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,et=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:y,to:g,preventScrollReset:T,viewTransition:A,...S},k){let{basename:q}=B.useContext(Ei),Y=typeof g=="string"&&iT.test(g),F,K=!1;if(typeof g=="string"&&Y&&(F=g,nT))try{let x=new URL(window.location.href),N=g.startsWith("//")?new URL(x.protocol+g):new URL(g),P=er(N.pathname,q);N.origin===x.origin&&P!=null?g=P+N.search+N.hash:K=!0}catch{gi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=KA(g,{relative:o}),[ie,ae,te]=IS(s,S),he=jS(g,{replace:f,state:m,target:y,preventScrollReset:T,relative:o,viewTransition:A});function D(x){e&&e(x),x.defaultPrevented||he(x)}let R=B.createElement("a",{...S,...te,href:F||re,onClick:K||u?e:D,ref:OS(k,ae),target:y,"data-discover":!Y&&n==="render"?"true":void 0});return ie&&!Y?B.createElement(B.Fragment,null,R,B.createElement(CS,{page:re})):R});et.displayName="Link";var VS=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:y,...g},T){let A=eu(f,{relative:g.relative}),S=sr(),k=B.useContext(Th),{navigator:q,basename:Y}=B.useContext(Ei),F=k!=null&&qS(A)&&m===!0,K=q.encodeLocation?q.encodeLocation(A).pathname:A.pathname,re=S.pathname,ie=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(re=re.toLowerCase(),ie=ie?ie.toLowerCase():null,K=K.toLowerCase()),ie&&Y&&(ie=er(ie,Y)||ie);const ae=K!=="/"&&K.endsWith("/")?K.length-1:K.length;let te=re===K||!o&&re.startsWith(K)&&re.charAt(ae)==="/",he=ie!=null&&(ie===K||!o&&ie.startsWith(K)&&ie.charAt(K.length)==="/"),D={isActive:te,isPending:he,isTransitioning:F},R=te?e:void 0,x;typeof s=="function"?x=s(D):x=[s,te?"active":null,he?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(D):u;return B.createElement(et,{...g,"aria-current":R,className:x,ref:T,style:N,to:f,viewTransition:m},typeof y=="function"?y(D):y)});VS.displayName="NavLink";var PS=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Gc,action:m,onSubmit:y,relative:g,preventScrollReset:T,viewTransition:A,...S},k)=>{let q=zS(),Y=BS(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",K=typeof m=="string"&&iT.test(m),re=ie=>{if(y&&y(ie),ie.defaultPrevented)return;ie.preventDefault();let ae=ie.nativeEvent.submitter,te=ae?.getAttribute("formmethod")||f;q(ae||ie.currentTarget,{fetcherKey:e,method:te,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:A})};return B.createElement("form",{ref:k,method:F,action:Y,onSubmit:s?y:re,...S,"data-discover":!K&&r==="render"?"true":void 0})});PS.displayName="Form";function kS(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rT(r){let e=B.useContext(co);return lt(e,kS(r)),e}function jS(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ho(),y=sr(),g=eu(r,{relative:u});return B.useCallback(T=>{if(pS(T,e)){T.preventDefault();let A=n!==void 0?n:ql(y)===ql(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[y,m,g,n,s,e,r,o,u,f])}var LS=0,US=()=>`__${String(++LS)}__`;function zS(){let{router:r}=rT("useSubmit"),{basename:e}=B.useContext(Ei),n=sS();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:y,body:g}=_S(s,e);if(o.navigate===!1){let T=o.fetcherKey||US();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:y,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function BS(r,{relative:e}={}){let{basename:n}=B.useContext(Ei),s=B.useContext(Ti);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...eu(r||".",{relative:e})},f=sr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),y=m.getAll("index");if(y.some(T=>T==="")){m.delete("index"),y.filter(A=>A).forEach(A=>m.append("index",A));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Wi([n,u.pathname])),ql(u)}function qS(r,{relative:e}={}){let n=B.useContext(KE);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=rT("useViewTransitionState"),o=eu(r,{relative:e});if(!n.isTransitioning)return!1;let u=er(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=er(n.nextLocation.pathname,s)||n.nextLocation.pathname;return nh(o.pathname,f)!=null||nh(o.pathname,u)!=null}const HS=()=>{const{pathname:r}=sr();return B.useEffect(()=>{window.scrollTo(0,0)},[r]),null},FS="/WriteOn/assets/formula1-BaGoCRwN.png",GS=()=>{};var mv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},QS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],y=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,T=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,k=g&63;y||(k=64,f||(S=64)),s.push(n[T],n[A],n[S],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(sT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):QS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new YS;const S=u<<2|m>>4;if(s.push(S),g!==64){const k=m<<4&240|g>>2;if(s.push(k),A!==64){const q=g<<6&192|A;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class YS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KS=function(r){const e=sT(r);return aT.encodeByteArray(e,!0)},ih=function(r){return KS(r).replace(/\./g,"")},oT=function(r){try{return aT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=()=>XS().__FIREBASE_DEFAULTS__,WS=()=>{if(typeof process>"u"||typeof mv>"u")return;const r=mv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&oT(r[1]);return e&&JSON.parse(e)},wh=()=>{try{return GS()||$S()||WS()||ZS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lT=r=>wh()?.emulatorHosts?.[r],JS=r=>{const e=lT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},uT=()=>wh()?.config,cT=r=>wh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[ih(JSON.stringify(n)),ih(JSON.stringify(f)),""].join(".")}const Pl={};function nx(){const r={prod:[],emulator:[]};for(const e of Object.keys(Pl))Pl[e]?r.emulator.push(e):r.prod.push(e);return r}function ix(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let pv=!1;function fT(r,e){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Pl[r]===e||Pl[r]||pv)return;Pl[r]=e;function n(S){return`__firebase__banner__${S}`}const s="__firebase__banner",u=nx().prod.length>0;function f(){const S=document.getElementById(s);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,k){S.setAttribute("width","24"),S.setAttribute("id",k),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{pv=!0,f()},S}function T(S,k){S.setAttribute("id",k),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function A(){const S=ix(s),k=n("text"),q=document.getElementById(k)||document.createElement("span"),Y=n("learnmore"),F=document.getElementById(Y)||document.createElement("a"),K=n("preprendIcon"),re=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ie=S.element;m(ie),T(F,Y);const ae=g();y(re,K),ie.append(re,q,F,ae),document.body.appendChild(ie)}u?(q.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Zt())}function sx(){const r=wh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ax(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ox(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function lx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ux(){const r=Zt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function cx(){return!sx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hx(){try{return typeof indexedDB=="object"}catch{return!1}}function fx(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="FirebaseError";class ar extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=dx,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tu.prototype.create)}}class tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?mx(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new ar(o,m,s)}}function mx(r,e){return r.replace(px,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const px=/\{\$([^}]+)}/g;function gx(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Fs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(gv(u)&&gv(f)){if(!Fs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function gv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function yx(r,e){const n=new _x(r,e);return n.subscribe.bind(n)}class _x{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");vx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=nm),o.error===void 0&&(o.error=nm),o.complete===void 0&&(o.complete=nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vx(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(r){return r&&r._delegate?r._delegate:r}class Gs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new ex;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bx(e))try{this.getOrInitializeService({instanceIdentifier:Us})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Us){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Us){return this.instances.has(e)}getOptions(e=Us){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Tx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Us){return this.component?this.component.multipleInstances?e:Us:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Tx(r){return r===Us?void 0:r}function bx(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Ex(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ve||(Ve={}));const Ax={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},Sx=Ve.INFO,xx={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},Rx=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=xx[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xm{constructor(e){this.name=e,this._logLevel=Sx,this._logHandler=Rx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ax[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const Ix=(r,e)=>e.some(n=>r instanceof n);let yv,_v;function Cx(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nx(){return _v||(_v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dT=new WeakMap,gm=new WeakMap,mT=new WeakMap,im=new WeakMap,$m=new WeakMap;function Dx(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Br(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&dT.set(n,r)}).catch(()=>{}),$m.set(e,r),e}function Ox(r){if(gm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});gm.set(r,e)}let ym={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return gm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||mT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Br(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function Mx(r){ym=r(ym)}function Vx(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(rm(this),e,...n);return mT.set(s,e.sort?e.sort():[e]),Br(s)}:Nx().includes(r)?function(...e){return r.apply(rm(this),e),Br(dT.get(this))}:function(...e){return Br(r.apply(rm(this),e))}}function Px(r){return typeof r=="function"?Vx(r):(r instanceof IDBTransaction&&Ox(r),Ix(r,Cx())?new Proxy(r,ym):r)}function Br(r){if(r instanceof IDBRequest)return Dx(r);if(im.has(r))return im.get(r);const e=Px(r);return e!==r&&(im.set(r,e),$m.set(e,r)),e}const rm=r=>$m.get(r);function kx(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Br(f);return s&&f.addEventListener("upgradeneeded",y=>{s(Br(f.result),y.oldVersion,y.newVersion,Br(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{u&&y.addEventListener("close",()=>u()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const jx=["get","getKey","getAll","getAllKeys","count"],Lx=["put","add","delete","clear"],sm=new Map;function vv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(sm.get(e))return sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Lx.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||jx.includes(n)))return;const u=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let g=y.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&y.done]))[0]};return sm.set(e,u),u}Mx(r=>({...r,get:(e,n,s)=>vv(e,n)||r.get(e,n,s),has:(e,n)=>!!vv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zx(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function zx(r){return r.getComponent()?.type==="VERSION"}const _m="@firebase/app",Ev="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new Xm("@firebase/app"),Bx="@firebase/app-compat",qx="@firebase/analytics-compat",Hx="@firebase/analytics",Fx="@firebase/app-check-compat",Gx="@firebase/app-check",Qx="@firebase/auth",Yx="@firebase/auth-compat",Kx="@firebase/database",Xx="@firebase/data-connect",$x="@firebase/database-compat",Wx="@firebase/functions",Zx="@firebase/functions-compat",Jx="@firebase/installations",e1="@firebase/installations-compat",t1="@firebase/messaging",n1="@firebase/messaging-compat",i1="@firebase/performance",r1="@firebase/performance-compat",s1="@firebase/remote-config",a1="@firebase/remote-config-compat",o1="@firebase/storage",l1="@firebase/storage-compat",u1="@firebase/firestore",c1="@firebase/ai",h1="@firebase/firestore-compat",f1="firebase",d1="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="[DEFAULT]",m1={[_m]:"fire-core",[Bx]:"fire-core-compat",[Hx]:"fire-analytics",[qx]:"fire-analytics-compat",[Gx]:"fire-app-check",[Fx]:"fire-app-check-compat",[Qx]:"fire-auth",[Yx]:"fire-auth-compat",[Kx]:"fire-rtdb",[Xx]:"fire-data-connect",[$x]:"fire-rtdb-compat",[Wx]:"fire-fn",[Zx]:"fire-fn-compat",[Jx]:"fire-iid",[e1]:"fire-iid-compat",[t1]:"fire-fcm",[n1]:"fire-fcm-compat",[i1]:"fire-perf",[r1]:"fire-perf-compat",[s1]:"fire-rc",[a1]:"fire-rc-compat",[o1]:"fire-gcs",[l1]:"fire-gcs-compat",[u1]:"fire-fst",[h1]:"fire-fst-compat",[c1]:"fire-vertex","fire-js":"fire-js",[f1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new Map,p1=new Map,Em=new Map;function Tv(r,e){try{r.container.addComponent(e)}catch(n){tr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function eo(r){const e=r.name;if(Em.has(e))return tr.debug(`There were multiple attempts to register component ${e}.`),!1;Em.set(e,r);for(const n of rh.values())Tv(n,r);for(const n of p1.values())Tv(n,r);return!0}function Wm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},qr=new tu("app","Firebase",g1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Gs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=d1;function pT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:vm,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw qr.create("bad-app-name",{appName:String(o)});if(n||(n=uT()),!n)throw qr.create("no-options");const u=rh.get(o);if(u){if(Fs(n,u.options)&&Fs(s,u.config))return u;throw qr.create("duplicate-app",{appName:o})}const f=new wx(o);for(const y of Em.values())f.addComponent(y);const m=new y1(n,s,f);return rh.set(o,m),m}function gT(r=vm){const e=rh.get(r);if(!e&&r===vm&&uT())return pT();if(!e)throw qr.create("no-app",{appName:r});return e}function Hr(r,e,n){let s=m1[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tr.warn(f.join(" "));return}eo(new Gs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1="firebase-heartbeat-database",v1=1,Hl="firebase-heartbeat-store";let am=null;function yT(){return am||(am=kx(_1,v1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Hl)}catch(n){console.warn(n)}}}}).catch(r=>{throw qr.create("idb-open",{originalErrorMessage:r.message})})),am}async function E1(r){try{const n=(await yT()).transaction(Hl),s=await n.objectStore(Hl).get(_T(r));return await n.done,s}catch(e){if(e instanceof ar)tr.warn(e.message);else{const n=qr.create("idb-get",{originalErrorMessage:e?.message});tr.warn(n.message)}}}async function bv(r,e){try{const s=(await yT()).transaction(Hl,"readwrite");await s.objectStore(Hl).put(e,_T(r)),await s.done}catch(n){if(n instanceof ar)tr.warn(n.message);else{const s=qr.create("idb-set",{originalErrorMessage:n?.message});tr.warn(s.message)}}}function _T(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=1024,b1=30;class w1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=wv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>b1){const o=x1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){tr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=wv(),{heartbeatsToSend:n,unsentEntries:s}=A1(this._heartbeatsCache.heartbeats),o=ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return tr.warn(e),""}}}function wv(){return new Date().toISOString().substring(0,10)}function A1(r,e=T1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Av(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Av(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class S1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hx()?fx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await E1(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return bv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return bv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Av(r){return ih(JSON.stringify({version:2,heartbeats:r})).length}function x1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R1(r){eo(new Gs("platform-logger",e=>new Ux(e),"PRIVATE")),eo(new Gs("heartbeat",e=>new w1(e),"PRIVATE")),Hr(_m,Ev,r),Hr(_m,Ev,"esm2020"),Hr("fire-js","")}R1("");var Sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fr,vT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function x(){}x.prototype=R.prototype,D.D=R.prototype,D.prototype=new x,D.prototype.constructor=D,D.C=function(N,P,M){for(var I=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)I[Re-2]=arguments[Re];return R.prototype[P].apply(N,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,R,x){x||(x=0);var N=Array(16);if(typeof R=="string")for(var P=0;16>P;++P)N[P]=R.charCodeAt(x++)|R.charCodeAt(x++)<<8|R.charCodeAt(x++)<<16|R.charCodeAt(x++)<<24;else for(P=0;16>P;++P)N[P]=R[x++]|R[x++]<<8|R[x++]<<16|R[x++]<<24;R=D.g[0],x=D.g[1],P=D.g[2];var M=D.g[3],I=R+(M^x&(P^M))+N[0]+3614090360&4294967295;R=x+(I<<7&4294967295|I>>>25),I=M+(P^R&(x^P))+N[1]+3905402710&4294967295,M=R+(I<<12&4294967295|I>>>20),I=P+(x^M&(R^x))+N[2]+606105819&4294967295,P=M+(I<<17&4294967295|I>>>15),I=x+(R^P&(M^R))+N[3]+3250441966&4294967295,x=P+(I<<22&4294967295|I>>>10),I=R+(M^x&(P^M))+N[4]+4118548399&4294967295,R=x+(I<<7&4294967295|I>>>25),I=M+(P^R&(x^P))+N[5]+1200080426&4294967295,M=R+(I<<12&4294967295|I>>>20),I=P+(x^M&(R^x))+N[6]+2821735955&4294967295,P=M+(I<<17&4294967295|I>>>15),I=x+(R^P&(M^R))+N[7]+4249261313&4294967295,x=P+(I<<22&4294967295|I>>>10),I=R+(M^x&(P^M))+N[8]+1770035416&4294967295,R=x+(I<<7&4294967295|I>>>25),I=M+(P^R&(x^P))+N[9]+2336552879&4294967295,M=R+(I<<12&4294967295|I>>>20),I=P+(x^M&(R^x))+N[10]+4294925233&4294967295,P=M+(I<<17&4294967295|I>>>15),I=x+(R^P&(M^R))+N[11]+2304563134&4294967295,x=P+(I<<22&4294967295|I>>>10),I=R+(M^x&(P^M))+N[12]+1804603682&4294967295,R=x+(I<<7&4294967295|I>>>25),I=M+(P^R&(x^P))+N[13]+4254626195&4294967295,M=R+(I<<12&4294967295|I>>>20),I=P+(x^M&(R^x))+N[14]+2792965006&4294967295,P=M+(I<<17&4294967295|I>>>15),I=x+(R^P&(M^R))+N[15]+1236535329&4294967295,x=P+(I<<22&4294967295|I>>>10),I=R+(P^M&(x^P))+N[1]+4129170786&4294967295,R=x+(I<<5&4294967295|I>>>27),I=M+(x^P&(R^x))+N[6]+3225465664&4294967295,M=R+(I<<9&4294967295|I>>>23),I=P+(R^x&(M^R))+N[11]+643717713&4294967295,P=M+(I<<14&4294967295|I>>>18),I=x+(M^R&(P^M))+N[0]+3921069994&4294967295,x=P+(I<<20&4294967295|I>>>12),I=R+(P^M&(x^P))+N[5]+3593408605&4294967295,R=x+(I<<5&4294967295|I>>>27),I=M+(x^P&(R^x))+N[10]+38016083&4294967295,M=R+(I<<9&4294967295|I>>>23),I=P+(R^x&(M^R))+N[15]+3634488961&4294967295,P=M+(I<<14&4294967295|I>>>18),I=x+(M^R&(P^M))+N[4]+3889429448&4294967295,x=P+(I<<20&4294967295|I>>>12),I=R+(P^M&(x^P))+N[9]+568446438&4294967295,R=x+(I<<5&4294967295|I>>>27),I=M+(x^P&(R^x))+N[14]+3275163606&4294967295,M=R+(I<<9&4294967295|I>>>23),I=P+(R^x&(M^R))+N[3]+4107603335&4294967295,P=M+(I<<14&4294967295|I>>>18),I=x+(M^R&(P^M))+N[8]+1163531501&4294967295,x=P+(I<<20&4294967295|I>>>12),I=R+(P^M&(x^P))+N[13]+2850285829&4294967295,R=x+(I<<5&4294967295|I>>>27),I=M+(x^P&(R^x))+N[2]+4243563512&4294967295,M=R+(I<<9&4294967295|I>>>23),I=P+(R^x&(M^R))+N[7]+1735328473&4294967295,P=M+(I<<14&4294967295|I>>>18),I=x+(M^R&(P^M))+N[12]+2368359562&4294967295,x=P+(I<<20&4294967295|I>>>12),I=R+(x^P^M)+N[5]+4294588738&4294967295,R=x+(I<<4&4294967295|I>>>28),I=M+(R^x^P)+N[8]+2272392833&4294967295,M=R+(I<<11&4294967295|I>>>21),I=P+(M^R^x)+N[11]+1839030562&4294967295,P=M+(I<<16&4294967295|I>>>16),I=x+(P^M^R)+N[14]+4259657740&4294967295,x=P+(I<<23&4294967295|I>>>9),I=R+(x^P^M)+N[1]+2763975236&4294967295,R=x+(I<<4&4294967295|I>>>28),I=M+(R^x^P)+N[4]+1272893353&4294967295,M=R+(I<<11&4294967295|I>>>21),I=P+(M^R^x)+N[7]+4139469664&4294967295,P=M+(I<<16&4294967295|I>>>16),I=x+(P^M^R)+N[10]+3200236656&4294967295,x=P+(I<<23&4294967295|I>>>9),I=R+(x^P^M)+N[13]+681279174&4294967295,R=x+(I<<4&4294967295|I>>>28),I=M+(R^x^P)+N[0]+3936430074&4294967295,M=R+(I<<11&4294967295|I>>>21),I=P+(M^R^x)+N[3]+3572445317&4294967295,P=M+(I<<16&4294967295|I>>>16),I=x+(P^M^R)+N[6]+76029189&4294967295,x=P+(I<<23&4294967295|I>>>9),I=R+(x^P^M)+N[9]+3654602809&4294967295,R=x+(I<<4&4294967295|I>>>28),I=M+(R^x^P)+N[12]+3873151461&4294967295,M=R+(I<<11&4294967295|I>>>21),I=P+(M^R^x)+N[15]+530742520&4294967295,P=M+(I<<16&4294967295|I>>>16),I=x+(P^M^R)+N[2]+3299628645&4294967295,x=P+(I<<23&4294967295|I>>>9),I=R+(P^(x|~M))+N[0]+4096336452&4294967295,R=x+(I<<6&4294967295|I>>>26),I=M+(x^(R|~P))+N[7]+1126891415&4294967295,M=R+(I<<10&4294967295|I>>>22),I=P+(R^(M|~x))+N[14]+2878612391&4294967295,P=M+(I<<15&4294967295|I>>>17),I=x+(M^(P|~R))+N[5]+4237533241&4294967295,x=P+(I<<21&4294967295|I>>>11),I=R+(P^(x|~M))+N[12]+1700485571&4294967295,R=x+(I<<6&4294967295|I>>>26),I=M+(x^(R|~P))+N[3]+2399980690&4294967295,M=R+(I<<10&4294967295|I>>>22),I=P+(R^(M|~x))+N[10]+4293915773&4294967295,P=M+(I<<15&4294967295|I>>>17),I=x+(M^(P|~R))+N[1]+2240044497&4294967295,x=P+(I<<21&4294967295|I>>>11),I=R+(P^(x|~M))+N[8]+1873313359&4294967295,R=x+(I<<6&4294967295|I>>>26),I=M+(x^(R|~P))+N[15]+4264355552&4294967295,M=R+(I<<10&4294967295|I>>>22),I=P+(R^(M|~x))+N[6]+2734768916&4294967295,P=M+(I<<15&4294967295|I>>>17),I=x+(M^(P|~R))+N[13]+1309151649&4294967295,x=P+(I<<21&4294967295|I>>>11),I=R+(P^(x|~M))+N[4]+4149444226&4294967295,R=x+(I<<6&4294967295|I>>>26),I=M+(x^(R|~P))+N[11]+3174756917&4294967295,M=R+(I<<10&4294967295|I>>>22),I=P+(R^(M|~x))+N[2]+718787259&4294967295,P=M+(I<<15&4294967295|I>>>17),I=x+(M^(P|~R))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(P+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+P&4294967295,D.g[3]=D.g[3]+M&4294967295}s.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var x=R-this.blockSize,N=this.B,P=this.h,M=0;M<R;){if(P==0)for(;M<=x;)o(this,D,M),M+=this.blockSize;if(typeof D=="string"){for(;M<R;)if(N[P++]=D.charCodeAt(M++),P==this.blockSize){o(this,N),P=0;break}}else for(;M<R;)if(N[P++]=D[M++],P==this.blockSize){o(this,N),P=0;break}}this.h=P,this.o+=R},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var x=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=x&255,x/=256;for(this.u(D),D=Array(16),R=x=0;4>R;++R)for(var N=0;32>N;N+=8)D[x++]=this.g[R]>>>N&255;return D};function u(D,R){var x=m;return Object.prototype.hasOwnProperty.call(x,D)?x[D]:x[D]=R(D)}function f(D,R){this.h=R;for(var x=[],N=!0,P=D.length-1;0<=P;P--){var M=D[P]|0;N&&M==R||(x[P]=M,N=!1)}this.g=x}var m={};function y(D){return-128<=D&&128>D?u(D,function(R){return new f([R|0],0>R?-1:0)}):new f([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return A;if(0>D)return F(g(-D));for(var R=[],x=1,N=0;D>=x;N++)R[N]=D/x|0,x*=4294967296;return new f(R,0)}function T(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return F(T(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(R,8)),N=A,P=0;P<D.length;P+=8){var M=Math.min(8,D.length-P),I=parseInt(D.substring(P,P+M),R);8>M?(M=g(Math.pow(R,M)),N=N.j(M).add(g(I))):(N=N.j(x),N=N.add(g(I)))}return N}var A=y(0),S=y(1),k=y(16777216);r=f.prototype,r.m=function(){if(Y(this))return-F(this).m();for(var D=0,R=1,x=0;x<this.g.length;x++){var N=this.i(x);D+=(0<=N?N:4294967296+N)*R,R*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(q(this))return"0";if(Y(this))return"-"+F(this).toString(D);for(var R=g(Math.pow(D,6)),x=this,N="";;){var P=ae(x,R).g;x=K(x,P.j(R));var M=((0<x.g.length?x.g[0]:x.h)>>>0).toString(D);if(x=P,q(x))return M+N;for(;6>M.length;)M="0"+M;N=M+N}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function q(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function Y(D){return D.h==-1}r.l=function(D){return D=K(this,D),Y(D)?-1:q(D)?0:1};function F(D){for(var R=D.g.length,x=[],N=0;N<R;N++)x[N]=~D.g[N];return new f(x,~D.h).add(S)}r.abs=function(){return Y(this)?F(this):this},r.add=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],N=0,P=0;P<=R;P++){var M=N+(this.i(P)&65535)+(D.i(P)&65535),I=(M>>>16)+(this.i(P)>>>16)+(D.i(P)>>>16);N=I>>>16,M&=65535,I&=65535,x[P]=I<<16|M}return new f(x,x[x.length-1]&-2147483648?-1:0)};function K(D,R){return D.add(F(R))}r.j=function(D){if(q(this)||q(D))return A;if(Y(this))return Y(D)?F(this).j(F(D)):F(F(this).j(D));if(Y(D))return F(this.j(F(D)));if(0>this.l(k)&&0>D.l(k))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,x=[],N=0;N<2*R;N++)x[N]=0;for(N=0;N<this.g.length;N++)for(var P=0;P<D.g.length;P++){var M=this.i(N)>>>16,I=this.i(N)&65535,Re=D.i(P)>>>16,xe=D.i(P)&65535;x[2*N+2*P]+=I*xe,re(x,2*N+2*P),x[2*N+2*P+1]+=M*xe,re(x,2*N+2*P+1),x[2*N+2*P+1]+=I*Re,re(x,2*N+2*P+1),x[2*N+2*P+2]+=M*Re,re(x,2*N+2*P+2)}for(N=0;N<R;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=R;N<2*R;N++)x[N]=0;return new f(x,0)};function re(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function ie(D,R){this.g=D,this.h=R}function ae(D,R){if(q(R))throw Error("division by zero");if(q(D))return new ie(A,A);if(Y(D))return R=ae(F(D),R),new ie(F(R.g),F(R.h));if(Y(R))return R=ae(D,F(R)),new ie(F(R.g),R.h);if(30<D.g.length){if(Y(D)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var x=S,N=R;0>=N.l(D);)x=te(x),N=te(N);var P=he(x,1),M=he(N,1);for(N=he(N,2),x=he(x,2);!q(N);){var I=M.add(N);0>=I.l(D)&&(P=P.add(x),M=I),N=he(N,1),x=he(x,1)}return R=K(D,P.j(R)),new ie(P,R)}for(P=A;0<=D.l(R);){for(x=Math.max(1,Math.floor(D.m()/R.m())),N=Math.ceil(Math.log(x)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),M=g(x),I=M.j(R);Y(I)||0<I.l(D);)x-=N,M=g(x),I=M.j(R);q(M)&&(M=S),P=P.add(M),D=K(D,I)}return new ie(P,D)}r.A=function(D){return ae(this,D).h},r.and=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)&D.i(N);return new f(x,this.h&D.h)},r.or=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)|D.i(N);return new f(x,this.h|D.h)},r.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),x=[],N=0;N<R;N++)x[N]=this.i(N)^D.i(N);return new f(x,this.h^D.h)};function te(D){for(var R=D.g.length+1,x=[],N=0;N<R;N++)x[N]=D.i(N)<<1|D.i(N-1)>>>31;return new f(x,D.h)}function he(D,R){var x=R>>5;R%=32;for(var N=D.g.length-x,P=[],M=0;M<N;M++)P[M]=0<R?D.i(M+x)>>>R|D.i(M+x+1)<<32-R:D.i(M+x);return new f(P,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,Fr=f}).apply(typeof Sv<"u"?Sv:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ET,Ol,TT,Yc,Tm,bT,wT,AT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,_){return c==Array.prototype||c==Object.prototype||(c[p]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var p=0;p<c.length;++p){var _=c[p];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var L=c[w];if(!(L in _))break e;_=_[L]}c=c[c.length-1],w=_[c],p=p(w),p!=w&&p!=null&&e(_,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var _=0,w=!1,L={next:function(){if(!w&&_<c.length){var Q=_++;return{value:p(Q,c[Q]),done:!1}}return w=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function y(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function T(c,p,_){return c.call.apply(c.bind,arguments)}function A(c,p,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,w),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function S(c,p,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,S.apply(null,arguments)}function k(c,p){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function q(c,p){function _(){}_.prototype=p.prototype,c.aa=p.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,L,Q){for(var oe=Array(arguments.length-2),je=2;je<arguments.length;je++)oe[je-2]=arguments[je];return p.prototype[L].apply(w,oe)}}function Y(c){const p=c.length;if(0<p){const _=Array(p);for(let w=0;w<p;w++)_[w]=c[w];return _}return[]}function F(c,p){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(y(w)){const L=c.length||0,Q=w.length||0;c.length=L+Q;for(let oe=0;oe<Q;oe++)c[L+oe]=w[oe]}else c.push(w)}}class K{constructor(p,_){this.i=p,this.j=_,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function re(c){return/^[\s\xa0]*$/.test(c)}function ie(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var te=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function he(c,p,_){for(const w in c)p.call(_,c[w],w,c)}function D(c,p){for(const _ in c)p.call(void 0,c[_],_,c)}function R(c){const p={};for(const _ in c)p[_]=c[_];return p}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,p){let _,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(_ in w)c[_]=w[_];for(let Q=0;Q<x.length;Q++)_=x[Q],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function P(c){var p=1;c=c.split(":");const _=[];for(;0<p&&c.length;)_.push(c.shift()),p--;return c.length&&_.push(c.join(":")),_}function M(c){m.setTimeout(()=>{throw c},0)}function I(){var c=qe;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Re{constructor(){this.h=this.g=null}add(p,_){const w=xe.get();w.set(p,_),this.h?this.h.next=w:this.g=w,this.h=w}}var xe=new K(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(p,_){this.h=p,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ge=!1,qe=new Re,O=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ne)}};var ne=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(_){M(_)}var p=xe;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}ge=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,p),m.removeEventListener("test",_,p)}catch{}return c}();function Ne(c,p){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(te){e:{try{ae(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else _=="mouseover"?p=c.fromElement:_=="mouseout"&&(p=c.toElement);this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:we[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ne.aa.h.call(this)}}q(Ne,se);var we={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Xn(c,p,_,w,L){this.listener=c,this.proxy=null,this.src=p,this.type=_,this.capture=!!w,this.ha=L,this.key=++tt,this.da=this.fa=!1}function or(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bi(c){this.src=c,this.g={},this.h=0}bi.prototype.add=function(c,p,_,w,L){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var oe=is(c,p,w,L);return-1<oe?(p=c[oe],_||(p.fa=!1)):(p=new Xn(p,this.src,Q,!!w,L),p.fa=_,c.push(p)),p};function ns(c,p){var _=p.type;if(_ in c.g){var w=c.g[_],L=Array.prototype.indexOf.call(w,p,void 0),Q;(Q=0<=L)&&Array.prototype.splice.call(w,L,1),Q&&(or(p),c.g[_].length==0&&(delete c.g[_],c.h--))}}function is(c,p,_,w){for(var L=0;L<c.length;++L){var Q=c[L];if(!Q.da&&Q.listener==p&&Q.capture==!!_&&Q.ha==w)return L}return-1}var rs="closure_lm_"+(1e6*Math.random()|0),To={};function mu(c,p,_,w,L){if(Array.isArray(p)){for(var Q=0;Q<p.length;Q++)mu(c,p[Q],_,w,L);return null}return _=pu(_),c&&c[Dt]?c.K(p,_,g(w)?!!w.capture:!1,L):bn(c,p,_,!1,w,L)}function bn(c,p,_,w,L,Q){if(!p)throw Error("Invalid event type");var oe=g(L)?!!L.capture:!!L,je=ea(c);if(je||(c[rs]=je=new bi(c)),_=je.add(p,_,w,oe,Q),_.proxy)return _;if(w=Yh(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)ye||(L=oe),L===void 0&&(L=!1),c.addEventListener(p.toString(),w,L);else if(c.attachEvent)c.attachEvent(ss(p.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Yh(){function c(_){return p.call(c.src,c.listener,_)}const p=Kh;return c}function bo(c,p,_,w,L){if(Array.isArray(p))for(var Q=0;Q<p.length;Q++)bo(c,p[Q],_,w,L);else w=g(w)?!!w.capture:!!w,_=pu(_),c&&c[Dt]?(c=c.i,p=String(p).toString(),p in c.g&&(Q=c.g[p],_=is(Q,_,w,L),-1<_&&(or(Q[_]),Array.prototype.splice.call(Q,_,1),Q.length==0&&(delete c.g[p],c.h--)))):c&&(c=ea(c))&&(p=c.g[p.toString()],c=-1,p&&(c=is(p,_,w,L)),(_=-1<c?p[c]:null)&&Js(_))}function Js(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[Dt])ns(p.i,c);else{var _=c.type,w=c.proxy;p.removeEventListener?p.removeEventListener(_,w,c.capture):p.detachEvent?p.detachEvent(ss(_),w):p.addListener&&p.removeListener&&p.removeListener(w),(_=ea(p))?(ns(_,c),_.h==0&&(_.src=null,p[rs]=null)):or(c)}}}function ss(c){return c in To?To[c]:To[c]="on"+c}function Kh(c,p){if(c.da)c=!0;else{p=new Ne(p,this);var _=c.listener,w=c.ha||c.src;c.fa&&Js(c),c=_.call(w,p)}return c}function ea(c){return c=c[rs],c instanceof bi?c:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function pu(c){return typeof c=="function"?c:(c[wo]||(c[wo]=function(p){return c.handleEvent(p)}),c[wo])}function ct(){ue.call(this),this.i=new bi(this),this.M=this,this.F=null}q(ct,ue),ct.prototype[Dt]=!0,ct.prototype.removeEventListener=function(c,p,_,w){bo(this,c,p,_,w)};function Qe(c,p){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=p.type||p,typeof p=="string")p=new se(p,c);else if(p instanceof se)p.target=p.target||c;else{var L=p;p=new se(w,c),N(p,L)}if(L=!0,_)for(var Q=_.length-1;0<=Q;Q--){var oe=p.g=_[Q];L=hn(oe,w,!0,p)&&L}if(oe=p.g=c,L=hn(oe,w,!0,p)&&L,L=hn(oe,w,!1,p)&&L,_)for(Q=0;Q<_.length;Q++)oe=p.g=_[Q],L=hn(oe,w,!1,p)&&L}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var _=c.g[p],w=0;w<_.length;w++)or(_[w]);delete c.g[p],c.h--}}this.F=null},ct.prototype.K=function(c,p,_,w){return this.i.add(String(c),p,!1,_,w)},ct.prototype.L=function(c,p,_,w){return this.i.add(String(c),p,!0,_,w)};function hn(c,p,_,w){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,Q=0;Q<p.length;++Q){var oe=p[Q];if(oe&&!oe.da&&oe.capture==_){var je=oe.listener,xt=oe.ha||oe.src;oe.fa&&ns(c.i,oe),L=je.call(xt,w)!==!1&&L}}return L&&!w.defaultPrevented}function Qt(c,p,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function gu(c){c.g=Qt(()=>{c.g=null,c.i&&(c.i=!1,gu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Xh extends ue{constructor(p,_){super(),this.m=p,this.l=_,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:gu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){ue.call(this),this.h=c,this.g={}}q(as,ue);var os=[];function ls(c){he(c.g,function(p,_){this.g.hasOwnProperty(_)&&Js(p)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),ls(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Pn=m.JSON.stringify,ta=m.JSON.parse,us=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ao(){}Ao.prototype.h=null;function So(c){return c.h||(c.h=c.i())}function xo(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){se.call(this,"d")}q(Ai,se);function Ro(){se.call(this,"c")}q(Ro,se);var $n={},Io=null;function lr(){return Io=Io||new ct}$n.La="serverreachability";function na(c){se.call(this,$n.La,c)}q(na,se);function ur(c){const p=lr();Qe(p,new na(p))}$n.STAT_EVENT="statevent";function yu(c,p){se.call(this,$n.STAT_EVENT,c),this.stat=p}q(yu,se);function st(c){const p=lr();Qe(p,new yu(p,c))}$n.Ma="timingevent";function St(c,p){se.call(this,$n.Ma,c),this.size=p}q(St,se);function _t(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function wn(){this.g=!0}wn.prototype.xa=function(){this.g=!1};function Co(c,p,_,w,L,Q){c.info(function(){if(c.g)if(Q)for(var oe="",je=Q.split("&"),xt=0;xt<je.length;xt++){var Le=je[xt].split("=");if(1<Le.length){var Mt=Le[0];Le=Le[1];var Rt=Mt.split("_");oe=2<=Rt.length&&Rt[1]=="type"?oe+(Mt+"="+Le+"&"):oe+(Mt+"=redacted&")}}else oe=null;else oe=Q;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+p+`
`+_+`
`+oe})}function $h(c,p,_,w,L,Q,oe){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+p+`
`+_+`
`+Q+" "+oe})}function cr(c,p,_,w){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+cs(c,_)+(w?" "+w:"")})}function _u(c,p){c.info(function(){return"TIMEOUT: "+p})}wn.prototype.info=function(){};function cs(c,p){if(!c.g)return p;if(!p)return null;try{var _=JSON.parse(p);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var L=w[1];if(Array.isArray(L)&&!(1>L.length)){var Q=L[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var oe=1;oe<L.length;oe++)L[oe]=""}}}}return Pn(_)}catch{return p}}var hr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Wn;function Zn(){}q(Zn,Ao),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},Wn=new Zn;function en(c,p,_,w){this.j=c,this.i=p,this.l=_,this.R=w||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var No={},ia={};function kn(c,p,_){c.L=1,c.v=ps(fn(p)),c.m=_,c.P=!0,xi(c,null)}function xi(c,p){c.F=Date.now(),hs(c),c.A=fn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),ko(_.i,"t",w),c.C=0,_=c.j.J,c.h=new dt,c.g=Vu(c.j,_?p:null,!c.m),0<c.O&&(c.M=new Xh(S(c.Y,c,c.g),c.O)),p=c.U,_=c.g,w=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(os[0]=L.toString()),L=os);for(var Q=0;Q<L.length;Q++){var oe=mu(_,L[Q],w||p.handleEvent,!1,p.h||p);if(!oe)break;p.g[oe.key]=oe}p=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),ur(),Co(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const p=this.M;p&&Rn(c)==3?p.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Rn(this.g);var p=this.g.Ba();const Vi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||xu(this.g)))){this.J||Rt!=4||p==7||(p==8||0>=Vi?ur(3):ur(2)),fr(this);var _=this.g.Z();this.X=_;t:if(vu(this)){var w=xu(this.g);c="";var L=w.length,Q=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),Jn(this);var oe="";break t}this.h.i=new m.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(w[p],{stream:!(Q&&p==L-1)});w.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,$h(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,xt=this.g;if((je=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(je)){var Le=je;break t}}Le=null}if(_=Le)cr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fs(this,_);else{this.o=!1,this.s=3,st(12),zt(this),Jn(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<oe.length;)if(Bt=Eu(this,oe),Bt==ia){Rt==4&&(this.s=4,st(14),_=!1),cr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==No){this.s=4,st(15),cr(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else cr(this.i,this.l,Bt,null),fs(this,Bt);if(vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||oe.length!=0||this.h.h||(this.s=1,st(16),_=!1),this.o=this.o&&_,!_)cr(this.i,this.l,oe,"[Invalid Chunked Response]"),zt(this),Jn(this);else if(0<oe.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),ws(Mt),Mt.M=!0,st(11))}}else cr(this.i,this.l,oe,null),fs(this,oe);Rt==4&&zt(this),this.o&&!this.J&&(Rt==4?Du(this.j,this):(this.o=!1,hs(this)))}else tf(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),zt(this),Jn(this)}}}catch{}finally{}};function vu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Eu(c,p){var _=c.C,w=p.indexOf(`
`,_);return w==-1?ia:(_=Number(p.substring(_,w)),isNaN(_)?No:(w+=1,w+_>p.length?ia:(p=p.slice(w,w+_),c.C=w+_,p)))}en.prototype.cancel=function(){this.J=!0,zt(this)};function hs(c){c.S=Date.now()+c.I,Tu(c,c.I)}function Tu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(S(c.ba,c),p)}function fr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_u(this.i,this.A),this.L!=2&&(ur(),st(17)),zt(this),this.s=2,Jn(this)):Tu(this,this.S-c)};function Jn(c){c.j.G==0||c.J||Du(c.j,c)}function zt(c){fr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,ls(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function fs(c,p){try{var _=c.j;if(_.G!=0&&(_.g==c||Do(_.h,c))){if(!c.K&&Do(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)pa(_),da(_);else break e;Bo(_),st(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=_t(S(_.Za,_),6e3));if(1>=sa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&pa(_),!re(p))for(L=_.Da.g.parse(p),p=0;p<L.length;p++){let Le=L[p];if(_.T=Le[0],Le=Le[1],_.G==2)if(Le[0]=="c"){_.K=Le[1],_.ia=Le[2];const Mt=Le[3];Mt!=null&&(_.la=Mt,_.j.info("VER="+_.la));const Rt=Le[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const Vi=Le[5];Vi!=null&&typeof Vi=="number"&&0<Vi&&(w=1.5*Vi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Bt=c.g;if(Bt){const ai=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var Q=w.h;Q.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(aa(Q,Q.h),Q.h=null))}if(w.D){const Ho=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Ho&&(w.ya=Ho,Xe(w.I,w.D,Ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var oe=c;if(w.qa=Mu(w,w.J?w.ia:null,w.W),oe.K){tn(w.h,oe);var je=oe,xt=w.L;xt&&(je.I=xt),je.B&&(fr(je),hs(je)),w.g=oe}else Cu(w);0<_.i.length&&ma(_)}else Le[0]!="stop"&&Le[0]!="close"||Mi(_,7);else _.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Mi(_,7):Uo(_):Le[0]!="noop"&&_.l&&_.l.ta(Le),_.v=0)}}ur(4)}catch{}}var bu=class{constructor(c,p){this.g=c,this.map=p}};function Ri(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ra(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function sa(c){return c.h?1:c.g?c.g.size:0}function Do(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function aa(c,p){c.g?c.g.add(p):c.h=p}function tn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ri.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const _ of c.g.values())p=p.concat(_.D);return p}return Y(c.i)}function Wh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(y(c)){for(var p=[],_=c.length,w=0;w<_;w++)p.push(c[w]);return p}p=[],_=0;for(w in c)p[_++]=c[w];return p}function oa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(y(c)||typeof c=="string"){var p=[];c=c.length;for(var _=0;_<c;_++)p.push(_);return p}p=[],_=0;for(const w in c)p[_++]=w;return p}}}function Mo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(y(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var _=oa(c),w=Wh(c),L=w.length,Q=0;Q<L;Q++)p.call(void 0,w[Q],_&&_[Q],c)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zh(c,p){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),L=null;if(0<=w){var Q=c[_].substring(0,w);L=c[_].substring(w+1)}else Q=c[_];p(Q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function vt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vt){this.h=c.h,ms(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.s),this.l=c.l;var p=c.i,_=new Ci;_.i=p.i,p.g&&(_.g=new Map(p.g),_.h=p.h),Ii(this,_),this.m=c.m}else c&&(p=String(c).match(ds))?(this.h=!1,ms(this,p[1]||"",!0),this.o=An(p[2]||""),this.g=An(p[3]||"",!0),dr(this,p[4]),this.l=An(p[5]||"",!0),Ii(this,p[6]||"",!0),this.m=An(p[7]||"")):(this.h=!1,this.i=new Ci(null,this.h))}vt.prototype.toString=function(){var c=[],p=this.j;p&&c.push(gs(p,Vo,!0),":");var _=this.g;return(_||p=="file")&&(c.push("//"),(p=this.o)&&c.push(gs(p,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(gs(_,_.charAt(0)=="/"?Jh:Po,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",gs(_,la)),c.join("")};function fn(c){return new vt(c)}function ms(c,p,_){c.j=_?An(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ii(c,p,_){p instanceof Ci?(c.i=p,Au(c.i,c.h)):(_||(p=gs(p,ef)),c.i=new Ci(p,c.h))}function Xe(c,p,_){c.i.set(p,_)}function ps(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function An(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,p,_){return typeof c=="string"?(c=encodeURI(c).replace(p,wu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function wu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Po=/[#\?:]/g,Jh=/[#\?]/g,ef=/[#\?@]/g,la=/#/g;function Ci(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Sn(c){c.g||(c.g=new Map,c.h=0,c.i&&Zh(c.i,function(p,_){c.add(decodeURIComponent(p.replace(/\+/g," ")),_)}))}r=Ci.prototype,r.add=function(c,p){Sn(this),this.i=null,c=ei(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(p),this.h+=1,this};function Ni(c,p){Sn(c),p=ei(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Di(c,p){return Sn(c),p=ei(c,p),c.g.has(p)}r.forEach=function(c,p){Sn(this),this.g.forEach(function(_,w){_.forEach(function(L){c.call(p,L,w,this)},this)},this)},r.na=function(){Sn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),_=[];for(let w=0;w<p.length;w++){const L=c[w];for(let Q=0;Q<L.length;Q++)_.push(p[w])}return _},r.V=function(c){Sn(this);let p=[];if(typeof c=="string")Di(this,c)&&(p=p.concat(this.g.get(ei(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)p=p.concat(c[_])}return p},r.set=function(c,p){return Sn(this),this.i=null,c=ei(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function ko(c,p,_){Ni(c,p),0<_.length&&(c.i=null,c.g.set(ei(c,p),Y(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var _=0;_<p.length;_++){var w=p[_];const Q=encodeURIComponent(String(w)),oe=this.V(w);for(w=0;w<oe.length;w++){var L=Q;oe[w]!==""&&(L+="="+encodeURIComponent(String(oe[w]))),c.push(L)}}return this.i=c.join("&")};function ei(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function Au(c,p){p&&!c.j&&(Sn(c),c.i=null,c.g.forEach(function(_,w){var L=w.toLowerCase();w!=L&&(Ni(this,w),ko(this,L,_))},c)),c.j=p}function ys(c,p){const _=new wn;if(m.Image){const w=new Image;w.onload=k(xn,_,"TestLoadImage: loaded",!0,p,w),w.onerror=k(xn,_,"TestLoadImage: error",!1,p,w),w.onabort=k(xn,_,"TestLoadImage: abort",!1,p,w),w.ontimeout=k(xn,_,"TestLoadImage: timeout",!1,p,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else p(!1)}function jn(c,p){const _=new wn,w=new AbortController,L=setTimeout(()=>{w.abort(),xn(_,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:w.signal}).then(Q=>{clearTimeout(L),Q.ok?xn(_,"TestPingServer: ok",!0,p):xn(_,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),xn(_,"TestPingServer: error",!1,p)})}function xn(c,p,_,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(_)}catch{}}function _s(){this.g=new us}function ti(c,p,_){const w=_||"";try{Mo(c,function(L,Q){let oe=L;g(L)&&(oe=Pn(L)),p.push(w+Q+"="+encodeURIComponent(oe))})}catch(L){throw p.push(w+"type="+encodeURIComponent("_badmap")),L}}function mr(c){this.l=c.Ub||null,this.j=c.eb||!1}q(mr,Ao),mr.prototype.g=function(){return new Oi(this.l,this.j)},mr.prototype.i=function(c){return function(){return c}}({});function Oi(c,p){ct.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Oi,ct),r=Oi.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ii(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ni(this):ii(this),this.readyState==3&&jo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},r.Qa=function(c){this.g&&(this.response=c,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var _=p.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=p.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Lo(c){let p="";return he(c,function(_,w){p+=w,p+=":",p+=_,p+=`\r
`}),p}function Ot(c,p,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Lo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Xe(c,p,_))}function Fe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(Fe,ct);var ua=/^https?$/i,vs=["POST","PUT"];r=Fe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Wn.g(),this.v=this.o?So(this.o):So(Wn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(Q){Su(this,Q);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)_.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())_.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Q=>Q.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(vs,p,void 0))||w||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,oe]of _)this.g.setRequestHeader(Q,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){Su(this,Q)}};function Su(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ca(c),ri(c)}function ca(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),Fe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ha(this):this.bb())},r.bb=function(){ha(this)};function ha(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Rn(c)!=4||c.Z()!=2)){if(c.u&&Rn(c)==4)Qt(c.Ea,0,c);else if(Qe(c,"readystatechange"),Rn(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var _;if(!(_=p)){var w;if(w=oe===0){var L=String(c.D).match(ds)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),w=!ua.test(L?L.toLowerCase():"")}_=w}if(_)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var Q=2<Rn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",ca(c)}}finally{ri(c)}}}}function ri(c,p){if(c.g){Es(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||Qe(c,"ready");try{_.onreadystatechange=w}catch{}}}function Es(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Rn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),ta(p)}};function xu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function tf(c){const p={};c=(c.g&&2<=Rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(re(c[w]))continue;var _=P(c[w]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Q=p[L]||[];p[L]=Q,Q.push(_)}D(p,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ts(c,p,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||p}function fa(c){this.Aa=0,this.i=[],this.j=new wn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ts("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ts("baseRetryDelayMs",5e3,c),this.cb=Ts("retryDelaySeedMs",1e4,c),this.Wa=Ts("forwardChannelMaxRetries",2,c),this.wa=Ts("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ri(c&&c.concurrentRequestLimit),this.Da=new _s,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=fa.prototype,r.la=8,r.G=1,r.connect=function(c,p,_,w){st(0),this.W=c,this.H=p||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Mu(this,null,this.W),ma(this)};function Uo(c){if(Ru(c),c.G==3){var p=c.U++,_=fn(c.I);if(Xe(_,"SID",c.K),Xe(_,"RID",p),Xe(_,"TYPE","terminate"),bs(c,_),p=new en(c,c.j,p),p.L=2,p.v=ps(fn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=p.v,_=!0),_||(p.g=Vu(p.j,null),p.g.ea(p.v)),p.F=Date.now(),hs(p)}Ou(c)}function da(c){c.g&&(ws(c),c.g.cancel(),c.g=null)}function Ru(c){da(c),c.u&&(m.clearTimeout(c.u),c.u=null),pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ma(c){if(!ra(c.h)&&!c.s){c.s=!0;var p=c.Ga;le||O(),ge||(le(),ge=!0),qe.add(p,c),c.B=0}}function nf(c,p){return sa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(S(c.Ga,c,p),qo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new en(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),N(Q,this.S)):Q=this.S),this.m!==null||this.O||(L.H=Q,Q=null),this.P)e:{for(var p=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,4096<p){p=_;break e}if(p===4096||_===this.i.length-1){p=_+1;break e}}p=1e3}else p=1e3;p=Iu(this,L,p),_=fn(this.I),Xe(_,"RID",c),Xe(_,"CVER",22),this.D&&Xe(_,"X-HTTP-Session-Id",this.D),bs(this,_),Q&&(this.O?p="headers="+encodeURIComponent(String(Lo(Q)))+"&"+p:this.m&&Ot(_,this.m,Q)),aa(this.h,L),this.Ua&&Xe(_,"TYPE","init"),this.P?(Xe(_,"$req",p),Xe(_,"SID","null"),L.T=!0,kn(L,_,null)):kn(L,_,p),this.G=2}}else this.G==3&&(c?zo(this,c):this.i.length==0||ra(this.h)||zo(this))};function zo(c,p){var _;p?_=p.l:_=c.U++;const w=fn(c.I);Xe(w,"SID",c.K),Xe(w,"RID",_),Xe(w,"AID",c.T),bs(c,w),c.m&&c.o&&Ot(w,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Iu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),aa(c.h,_),kn(_,w,p)}function bs(c,p){c.H&&he(c.H,function(_,w){Xe(p,w,_)}),c.l&&Mo({},function(_,w){Xe(p,w,_)})}function Iu(c,p,_){_=Math.min(c.i.length,_);var w=c.l?S(c.l.Na,c.l,c):null;e:{var L=c.i;let Q=-1;for(;;){const oe=["count="+_];Q==-1?0<_?(Q=L[0].g,oe.push("ofs="+Q)):Q=0:oe.push("ofs="+Q);let je=!0;for(let xt=0;xt<_;xt++){let Le=L[xt].g;const Mt=L[xt].map;if(Le-=Q,0>Le)Q=Math.max(0,L[xt].g-100),je=!1;else try{ti(Mt,oe,"req"+Le+"_")}catch{w&&w(Mt)}}if(je){w=oe.join("&");break e}}}return c=c.i.splice(0,_),p.D=c,w}function Cu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;le||O(),ge||(le(),ge=!0),qe.add(p,c),c.v=0}}function Bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(S(c.Fa,c),qo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Nu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),da(this),Nu(this))};function ws(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Nu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=fn(c.qa);Xe(p,"RID","rpc"),Xe(p,"SID",c.K),Xe(p,"AID",c.T),Xe(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(p,"TO",c.ja),Xe(p,"TYPE","xmlhttp"),bs(c,p),c.m&&c.o&&Ot(p,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ps(fn(p)),_.m=null,_.P=!0,xi(_,c)}r.Za=function(){this.C!=null&&(this.C=null,da(this),Bo(this),st(19))};function pa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Du(c,p){var _=null;if(c.g==p){pa(c),ws(c),c.g=null;var w=2}else if(Do(c.h,p))_=p.D,tn(c.h,p),w=1;else return;if(c.G!=0){if(p.o)if(w==1){_=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;w=lr(),Qe(w,new St(w,_)),ma(c)}else Cu(c);else if(L=p.s,L==3||L==0&&0<p.X||!(w==1&&nf(c,p)||w==2&&Bo(c)))switch(_&&0<_.length&&(p=c.h,p.i=p.i.concat(_)),L){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function qo(c,p){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*p}function Mi(c,p){if(c.j.info("Error code "+p),p==2){var _=S(c.fb,c),w=c.Xa;const L=!w;w=new vt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ms(w,"https"),ps(w),L?ys(w.toString(),_):jn(w.toString(),_)}else st(2);c.G=0,c.l&&c.l.sa(p),Ou(c),Ru(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Ou(c){if(c.G=0,c.ka=[],c.l){const p=Oo(c.h);(p.length!=0||c.i.length!=0)&&(F(c.ka,p),F(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Mu(c,p,_){var w=_ instanceof vt?fn(_):new vt(_);if(w.g!="")p&&(w.g=p+"."+w.g),dr(w,w.s);else{var L=m.location;w=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var Q=new vt(null);w&&ms(Q,w),p&&(Q.g=p),L&&dr(Q,L),_&&(Q.l=_),w=Q}return _=c.D,p=c.ya,_&&p&&Xe(w,_,p),Xe(w,"VER",c.la),bs(c,w),w}function Vu(c,p,_){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Fe(new mr({eb:_})):new Fe(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}r=Pu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ga(){}ga.prototype.g=function(c,p){return new nn(c,p)};function nn(c,p){ct.call(this),this.g=new fa(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!re(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!re(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new si(this)}q(nn,ct),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Uo(this.g)},nn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Pn(c),c=_);p.i.push(new bu(p.Ya++,c)),p.G==3&&ma(p)},nn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,nn.aa.N.call(this)};function ku(c){Ai.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const _ in p){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}q(ku,Ai);function ju(){Ro.call(this),this.status=1}q(ju,Ro);function si(c){this.g=c}q(si,Pu),si.prototype.ua=function(){Qe(this.g,"a")},si.prototype.ta=function(c){Qe(this.g,new ku(c))},si.prototype.sa=function(c){Qe(this.g,new ju)},si.prototype.ra=function(){Qe(this.g,"b")},ga.prototype.createWebChannel=ga.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,AT=function(){return new ga},wT=function(){return lr()},bT=$n,Tm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,Yc=hr,Si.COMPLETE="complete",TT=Si,xo.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Ol=xo,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,ET=Fe}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const xv="@firebase/firestore",Rv="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let po="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Xm("@firebase/firestore");function Ga(){return Qs.logLevel}function fe(r,...e){if(Qs.logLevel<=Ve.DEBUG){const n=e.map(Zm);Qs.debug(`Firestore (${po}): ${r}`,...n)}}function nr(r,...e){if(Qs.logLevel<=Ve.ERROR){const n=e.map(Zm);Qs.error(`Firestore (${po}): ${r}`,...n)}}function Ys(r,...e){if(Qs.logLevel<=Ve.WARN){const n=e.map(Zm);Qs.warn(`Firestore (${po}): ${r}`,...n)}}function Zm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,ST(r,s,n)}function ST(r,e,n){let s=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw nr(s),new Error(s)}function Ge(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ST(e,o,s)}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends ar{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class RT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class I1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class C1{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=y=>this.i!==s?(s=this.i,n(y)):Promise.resolve();let u=new Zi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Zi,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const y=u;e.enqueueRetryable(async()=>{await y.promise,await o(this.currentUser)})},m=y=>{fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Zi)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new xT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new $t(e)}}class N1{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class D1{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new N1(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class O1{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,fe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Iv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Iv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=M1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function bm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return om(o)===om(u)?Pe(o,u):om(o)?1:-1}return Pe(r.length,e.length)}const V1=55296,P1=57343;function om(r){const e=r.charCodeAt(0);return e>=V1&&e<=P1}function to(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="__name__";class fi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Ee(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Pe(e.length,n.length)}static compareSegments(e,n){const s=fi.isNumericId(e),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(e).compare(fi.extractNumericId(n)):bm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Fr.fromString(e.substring(4,e.length-2))}}class it extends fi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ce(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const k1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends fi{construct(e,n,s){return new Lt(e,n,s)}static isValidIdentifier(e){return k1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cv}static keyField(){return new Lt([Cv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ce(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ce(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ce(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(it.fromString(e))}static fromName(e){return new pe(it.fromString(e).popFirst(5))}static empty(){return new pe(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new it(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(r,e,n){if(!n)throw new ce(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function CT(r,e,n,s){if(e===!0&&s===!0)throw new ce(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Nv(r){if(!pe.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Dv(r){if(pe.isDocumentKey(r))throw new ce(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function NT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Sh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee(12329,{type:typeof r})}function yi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ce(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sh(r);throw new ce(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function At(r,e){const n={typeString:r};return e&&(n.value=e),n}function iu(r,e){if(!NT(r))throw new ce(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ce(Z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=-62135596800,Mv=1e6;class rt{static now(){return rt.fromMillis(Date.now())}static fromDate(e){return rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Mv);return new rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ce(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ov)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:rt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(iu(e,rt._jsonSchema))return new rt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}rt._jsonSchemaVersion="firestore/timestamp/1.0",rt._jsonSchema={type:At("string",rt._jsonSchemaVersion),seconds:At("number"),nanoseconds:At("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new rt(0,0))}static max(){return new Ae(new rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function j1(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new rt(n+1,0):new rt(n,s));return new Qr(o,pe.empty(),e)}function L1(r){return new Qr(r.readTime,r.key,Fl)}class Qr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Qr(Ae.min(),pe.empty(),Fl)}static max(){return new Qr(Ae.max(),pe.empty(),Fl)}}function U1(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==z1)throw r;fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,s)=>{n(e)})}static reject(e){return new ee((n,s)=>{s(e)})}static waitFor(e){return new ee((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},y=>s(y))}),f=!0,u===o&&n()})}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next(o=>o?ee.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ee((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let y=0;y<u;y++){const g=y;n(e[g]).next(T=>{f[g]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new ee((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function q1(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}xh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=-1;function Rh(r){return r==null}function sh(r){return r===0&&1/r==-1/0}function H1(r){return typeof r=="number"&&Number.isInteger(r)&&!sh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="";function F1(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Vv(e)),e=G1(r.get(n),e);return Vv(e)}function G1(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case DT:n+="";break;default:n+=u}}return n}function Vv(r){return r+DT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Jr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function OT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zc(this.root,e,this.comparator,!0)}}class zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kv(this.data.getIterator())}getIteratorFrom(e){return new kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Tn([])}unionWith(e){let n=new Nt(Lt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Tn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return to(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new MT("Invalid base64 string: "+u):u}}(e);return new Ut(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ut(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const Q1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(r){if(Ge(!!r,39018),typeof r=="string"){let e=0;const n=Q1.exec(r);if(Ge(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Kr(r){return typeof r=="string"?Ut.fromBase64String(r):Ut.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="server_timestamp",PT="__type__",kT="__previous_value__",jT="__local_write_time__";function ep(r){return(r?.mapValue?.fields||{})[PT]?.stringValue===VT}function Ih(r){const e=r.mapValue.fields[kT];return ep(e)?Ih(e):e}function Gl(r){const e=Yr(r.mapValue.fields[jT].timestampValue);return new rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,n,s,o,u,f,m,y,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=g,this.isUsingEmulator=T}}const ah="(default)";class no{constructor(e,n){this.projectId=e,this.database=n||ah}static empty(){return new no("","")}get isDefaultDatabase(){return this.database===ah}isEqual(e){return e instanceof no&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="__type__",K1="__max__",Bc={mapValue:{}},UT="__vector__",oh="value";function Xr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ep(r)?4:$1(r)?9007199254740991:X1(r)?10:11:Ee(28295,{value:r})}function _i(r,e){if(r===e)return!0;const n=Xr(r);if(n!==Xr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gl(r).isEqual(Gl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Yr(o.timestampValue),m=Yr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Kr(o.bytesValue).isEqual(Kr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?sh(f)===sh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return to(r.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Pv(f)!==Pv(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!_i(f[y],m[y])))return!1;return!0}(r,e);default:return Ee(52216,{left:r})}}function Ql(r,e){return(r.values||[]).find(n=>_i(n,e))!==void 0}function io(r,e){if(r===e)return 0;const n=Xr(r),s=Xr(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),y=gt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1}(r,e);case 3:return jv(r.timestampValue,e.timestampValue);case 4:return jv(Gl(r),Gl(e));case 5:return bm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Kr(u),y=Kr(f);return m.compareTo(y)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),y=f.split("/");for(let g=0;g<m.length&&g<y.length;g++){const T=Pe(m[g],y[g]);if(T!==0)return T}return Pe(m.length,y.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(gt(u.latitude),gt(f.latitude));return m!==0?m:Pe(gt(u.longitude),gt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Lv(r.arrayValue,e.arrayValue);case 10:return function(u,f){const m=u.fields||{},y=f.fields||{},g=m[oh]?.arrayValue,T=y[oh]?.arrayValue,A=Pe(g?.values?.length||0,T?.values?.length||0);return A!==0?A:Lv(g,T)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Bc.mapValue&&f===Bc.mapValue)return 0;if(u===Bc.mapValue)return 1;if(f===Bc.mapValue)return-1;const m=u.fields||{},y=Object.keys(m),g=f.fields||{},T=Object.keys(g);y.sort(),T.sort();for(let A=0;A<y.length&&A<T.length;++A){const S=bm(y[A],T[A]);if(S!==0)return S;const k=io(m[y[A]],g[T[A]]);if(k!==0)return k}return Pe(y.length,T.length)}(r.mapValue,e.mapValue);default:throw Ee(23264,{he:n})}}function jv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=Yr(r),s=Yr(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function Lv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=io(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function ro(r){return wm(r)}function wm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Kr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return pe.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=wm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${wm(n.fields[f])}`;return o+"}"}(r.mapValue):Ee(61005,{value:r})}function Kc(r){switch(Xr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(r);return e?16+Kc(e):16;case 5:return 2*r.stringValue.length;case 6:return Kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Kc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Jr(s.fields,(u,f)=>{o+=u.length+Kc(f)}),o}(r.mapValue);default:throw Ee(13486,{value:r})}}function Uv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Am(r){return!!r&&"integerValue"in r}function tp(r){return!!r&&"arrayValue"in r}function zv(r){return!!r&&"nullValue"in r}function Bv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Xc(r){return!!r&&"mapValue"in r}function X1(r){return(r?.mapValue?.fields||{})[LT]?.stringValue===UT}function kl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return Jr(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=kl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(r.arrayValue.values[n]);return e}return{...r}}function $1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===K1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=Lt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=kl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Jr(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(kl(this.value))}}function zT(r){const e=[];return Jr(r.fields,(n,s)=>{const o=new Lt([n]);if(Xc(s)){const u=zT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Tn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Ae.min(),Ae.min(),Ae.min(),cn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Ae.min(),Ae.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Ae.min(),Ae.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n){this.position=e,this.inclusive=n}}function qv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=io(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Hv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_i(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n="asc"){this.field=e,this.dir=n}}function W1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{}class wt extends BT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new J1(e,n,s):n==="array-contains"?new nR(e,s):n==="in"?new iR(e,s):n==="not-in"?new rR(e,s):n==="array-contains-any"?new sR(e,s):new wt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new eR(e,s):new tR(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(io(n,this.value)):n!==null&&Xr(this.value)===Xr(n)&&this.matchesComparison(io(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Kn extends BT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Kn(e,n)}matches(e){return qT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function qT(r){return r.op==="and"}function HT(r){return Z1(r)&&qT(r)}function Z1(r){for(const e of r.filters)if(e instanceof Kn)return!1;return!0}function Sm(r){if(r instanceof wt)return r.field.canonicalString()+r.op.toString()+ro(r.value);if(HT(r))return r.filters.map(e=>Sm(e)).join(",");{const e=r.filters.map(n=>Sm(n)).join(",");return`${r.op}(${e})`}}function FT(r,e){return r instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)}(r,e):r instanceof Kn?function(s,o){return o instanceof Kn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&FT(f,o.filters[m]),!0):!1}(r,e):void Ee(19439)}function GT(r){return r instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${ro(n.value)}`}(r):r instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(GT).join(" ,")+"}"}(r):"Filter"}class J1 extends wt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class eR extends wt{constructor(e,n){super(e,"in",n),this.keys=QT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class tR extends wt{constructor(e,n){super(e,"not-in",n),this.keys=QT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QT(r,e){return(e.arrayValue?.values||[]).map(n=>pe.fromName(n.referenceValue))}class nR extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tp(n)&&Ql(n.arrayValue,this.value)}}class iR extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class rR extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ql(this.value.arrayValue,n)}}class sR extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function Fv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new aR(r,e,n,s,o,u,f)}function np(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Sm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Rh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ro(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ro(s)).join(",")),e.Te=n}return e.Te}function ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!W1(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!FT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Hv(r.startAt,e.startAt)&&Hv(r.endAt,e.endAt)}function xm(r){return pe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function oR(r,e,n,s,o,u,f,m){return new _o(r,e,n,s,o,u,f,m)}function rp(r){return new _o(r)}function Gv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function YT(r){return r.collectionGroup!==null}function jl(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Lt.comparator);return f.filters.forEach(y=>{y.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Yl(u,s))}),n.has(Lt.keyField().canonicalString())||e.Ie.push(new Yl(Lt.keyField(),s))}return e.Ie}function di(r){const e=Se(r);return e.Ee||(e.Ee=lR(e,jl(r))),e.Ee}function lR(r,e){if(r.limitType==="F")return Fv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Yl(o.field,u)});const n=r.endAt?new lh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new lh(r.startAt.position,r.startAt.inclusive):null;return Fv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Rm(r,e){const n=r.filters.concat([e]);return new _o(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Im(r,e,n){return new _o(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ch(r,e){return ip(di(r),di(e))&&r.limitType===e.limitType}function KT(r){return`${np(di(r))}|lt:${r.limitType}`}function Qa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>GT(o)).join(", ")}]`),Rh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ro(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ro(o)).join(",")),`Target(${s})`}(di(r))}; limitType=${r.limitType})`}function Nh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,y){const g=qv(f,m,y);return f.inclusive?g<=0:g<0}(s.startAt,jl(s),o)||s.endAt&&!function(f,m,y){const g=qv(f,m,y);return f.inclusive?g>=0:g>0}(s.endAt,jl(s),o))}(r,e)}function uR(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function XT(r){return(e,n)=>{let s=!1;for(const o of jl(r)){const u=cR(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function cR(r,e,n){const s=r.field.isKeyField()?pe.comparator(e.key,n.key):function(u,f,m){const y=f.data.field(u),g=m.data.field(u);return y!==null&&g!==null?io(y,g):Ee(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Jr(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return OT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=new ut(pe.comparator);function ir(){return hR}const $T=new ut(pe.comparator);function Ml(...r){let e=$T;for(const n of r)e=e.insert(n.key,n);return e}function WT(r){let e=$T;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function zs(){return Ll()}function ZT(){return Ll()}function Ll(){return new $s(r=>r.toString(),(r,e)=>r.isEqual(e))}const fR=new ut(pe.comparator),dR=new Nt(pe.comparator);function ke(...r){let e=dR;for(const n of r)e=e.add(n);return e}const mR=new Nt(Pe);function pR(){return mR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sh(e)?"-0":e}}function JT(r){return{integerValue:""+r}}function gR(r,e){return H1(e)?JT(e):sp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function yR(r,e,n){return r instanceof Kl?function(o,u){const f={fields:{[PT]:{stringValue:VT},[jT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ep(u)&&(u=Ih(u)),u&&(f.fields[kT]=u),{mapValue:f}}(n,e):r instanceof Xl?t0(r,e):r instanceof $l?n0(r,e):function(o,u){const f=e0(o,u),m=Qv(f)+Qv(o.Ae);return Am(f)&&Am(o.Ae)?JT(m):sp(o.serializer,m)}(r,e)}function _R(r,e,n){return r instanceof Xl?t0(r,e):r instanceof $l?n0(r,e):n}function e0(r,e){return r instanceof uh?function(s){return Am(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Kl extends Dh{}class Xl extends Dh{constructor(e){super(),this.elements=e}}function t0(r,e){const n=i0(e);for(const s of r.elements)n.some(o=>_i(o,s))||n.push(s);return{arrayValue:{values:n}}}class $l extends Dh{constructor(e){super(),this.elements=e}}function n0(r,e){let n=i0(e);for(const s of r.elements)n=n.filter(o=>!_i(o,s));return{arrayValue:{values:n}}}class uh extends Dh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Qv(r){return gt(r.integerValue||r.doubleValue)}function i0(r){return tp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n){this.field=e,this.transform=n}}function ER(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Xl&&o instanceof Xl||s instanceof $l&&o instanceof $l?to(s.elements,o.elements,_i):s instanceof uh&&o instanceof uh?_i(s.Ae,o.Ae):s instanceof Kl&&o instanceof Kl}(r.transform,e.transform)}class TR{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Oh{}function r0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new ap(r.key,Fn.none()):new ru(r.key,r.data,Fn.none());{const n=r.data,s=cn.empty();let o=new Nt(Lt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new es(r.key,s,new Tn(o.toArray()),Fn.none())}}function bR(r,e,n){r instanceof ru?function(o,u,f){const m=o.value.clone(),y=Kv(o.fieldTransforms,u,f.transformResults);m.setAll(y),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof es?function(o,u,f){if(!$c(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Kv(o.fieldTransforms,u,f.transformResults),y=u.data;y.setAll(s0(o)),y.setAll(m),u.convertToFoundDocument(f.version,y).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Ul(r,e,n,s){return r instanceof ru?function(u,f,m,y){if(!$c(u.precondition,f))return m;const g=u.value.clone(),T=Xv(u.fieldTransforms,y,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof es?function(u,f,m,y){if(!$c(u.precondition,f))return m;const g=Xv(u.fieldTransforms,y,f),T=f.data;return T.setAll(s0(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,m){return $c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function wR(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=e0(s.transform,o||null);u!=null&&(n===null&&(n=cn.empty()),n.set(s.field,u))}return n||null}function Yv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&to(s,o,(u,f)=>ER(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ru extends Oh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class es extends Oh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function s0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Kv(r,e,n){const s=new Map;Ge(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,_R(f,m,n[o]))}return s}function Xv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,yR(u,f,e))}return s}class ap extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AR extends Oh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&bR(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Ul(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ZT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const y=r0(f,m);y!==null&&s.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&to(this.mutations,e.mutations,(n,s)=>Yv(n,s))&&to(this.baseMutations,e.baseMutations,(n,s)=>Yv(n,s))}}class op{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return fR}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new op(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bt,ze;function IR(r){switch(r){case Z.OK:return Ee(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee(15467,{code:r})}}function a0(r){if(r===void 0)return nr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case bt.OK:return Z.OK;case bt.CANCELLED:return Z.CANCELLED;case bt.UNKNOWN:return Z.UNKNOWN;case bt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case bt.INTERNAL:return Z.INTERNAL;case bt.UNAVAILABLE:return Z.UNAVAILABLE;case bt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case bt.NOT_FOUND:return Z.NOT_FOUND;case bt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case bt.ABORTED:return Z.ABORTED;case bt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case bt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee(39323,{code:r})}}(ze=bt||(bt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR=new Fr([4294967295,4294967295],0);function $v(r){const e=CR().encode(r),n=new vT;return n.update(e),new Uint8Array(n.digest())}function Wv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fr([n,s],0),new Fr([o,u],0)]}class lp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Vl(`Invalid padding: ${n}`);if(s<0)throw new Vl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Vl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Vl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Fr.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(Fr.fromNumber(s)));return o.compare(NR)===1&&(o=new Fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=$v(e),[s,o]=Wv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new lp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.ge===0)return;const n=$v(e),[s,o]=Wv(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Mh(Ae.min(),o,new ut(Pe),ir(),ke())}}class su{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new su(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class o0{constructor(e,n){this.targetId=e,this.Ce=n}}class l0{constructor(e,n,s=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Zv{constructor(){this.ve=0,this.Fe=Jv(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ke(),n=ke(),s=ke();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new su(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=Jv()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class DR{constructor(e){this.Ge=e,this.ze=new Map,this.je=ir(),this.Je=qc(),this.He=qc(),this.Ye=new ut(Pe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,o)=>{this.rt(o)&&n(o)})}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(xm(u))if(s===0){const f=new pe(u.path);this.et(n,f,Wt.newNoDocument(f,Ae.min()))}else Ge(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Kr(s).toUint8Array()}catch(y){if(y instanceof MT)return Ys("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new lp(f,o,u)}catch(y){return Ys(y instanceof Vl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),o++)}),o}Tt(e){const n=new Map;this.ze.forEach((u,f)=>{const m=this.ot(f);if(m){if(u.current&&xm(m.target)){const y=new pe(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,Wt.newNoDocument(y,e))}u.Be&&(n.set(f,u.ke()),u.qe())}});let s=ke();this.He.forEach((u,f)=>{let m=!0;f.forEachWhile(y=>{const g=this.ot(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,f)=>f.setReadTime(e));const o=new Mh(e,n,this.Ye,this.je,s);return this.je=ir(),this.Je=qc(),this.He=qc(),this.Ye=new ut(Pe),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new Zv,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Nt(Pe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Nt(Pe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||fe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zv),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function qc(){return new ut(pe.comparator)}function Jv(){return new ut(pe.comparator)}const OR={asc:"ASCENDING",desc:"DESCENDING"},MR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VR={and:"AND",or:"OR"};class PR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cm(r,e){return r.useProto3Json||Rh(e)?e:{value:e}}function ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function u0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function kR(r,e){return ch(r,e.toTimestamp())}function mi(r){return Ge(!!r,49232),Ae.fromTimestamp(function(n){const s=Yr(n);return new rt(s.seconds,s.nanos)}(r))}function up(r,e){return Nm(r,e).canonicalString()}function Nm(r,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function c0(r){const e=it.fromString(r);return Ge(p0(e),10190,{key:e.toString()}),e}function Dm(r,e){return up(r.databaseId,e.path)}function lm(r,e){const n=c0(e);if(n.get(1)!==r.databaseId.projectId)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ce(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new pe(f0(n))}function h0(r,e){return up(r.databaseId,e)}function jR(r){const e=c0(r);return e.length===4?it.emptyPath():f0(e)}function Om(r){return new it(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function f0(r){return Ge(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function eE(r,e,n){return{name:Dm(r,e),fields:n.value.mapValue.fields}}function LR(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(Ge(T===void 0||typeof T=="string",58123),Ut.fromBase64String(T||"")):(Ge(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Ut.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const T=g.code===void 0?Z.UNKNOWN:a0(g.code);return new ce(T,g.message||"")}(f);n=new l0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=lm(r,s.document.name),u=mi(s.document.updateTime),f=s.document.createTime?mi(s.document.createTime):Ae.min(),m=new cn({mapValue:{fields:s.document.fields}}),y=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new Wc(g,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=lm(r,s.document),u=s.readTime?mi(s.readTime):Ae.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Wc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=lm(r,s.document),u=s.removedTargetIds||[];n=new Wc([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new RR(o,u),m=s.targetId;n=new o0(m,f)}}return n}function UR(r,e){let n;if(e instanceof ru)n={update:eE(r,e.key,e.value)};else if(e instanceof ap)n={delete:Dm(r,e.key)};else if(e instanceof es)n={update:eE(r,e.key,e.data),updateMask:KR(e.fieldMask)};else{if(!(e instanceof AR))return Ee(16599,{Vt:e.type});n={verify:Dm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Kl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:f.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:kR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(r,e.precondition)),n}function zR(r,e){return r&&r.length>0?(Ge(e!==void 0,14353),r.map(n=>function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(Ae.min())&&(f=mi(u)),new TR(f,o.transformResults||[])}(n,e))):[]}function BR(r,e){return{documents:[h0(r,e.path)]}}function qR(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=h0(r,o);const u=function(g){if(g.length!==0)return m0(Kn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(S){return{field:Ya(S.field),direction:GR(S.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Cm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:n,parent:o}}function HR(r){let e=jR(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(A){const S=d0(A);return S instanceof Kn&&HT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(S=>function(q){return new Yl(Ka(q.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,Rh(S)?null:S}(n.limit));let y=null;n.startAt&&(y=function(A){const S=!!A.before,k=A.values||[];return new lh(k,S)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const S=!A.before,k=A.values||[];return new lh(k,S)}(n.endAt)),oR(e,o,f,u,m,"F",y,g)}function FR(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function d0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ka(n.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ka(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ka(n.unaryFilter.field);return wt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ka(n.unaryFilter.field);return wt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(r):r.fieldFilter!==void 0?function(n){return wt.create(Ka(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(s=>d0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(n.compositeFilter.op))}(r):Ee(30097,{filter:r})}function GR(r){return OR[r]}function QR(r){return MR[r]}function YR(r){return VR[r]}function Ya(r){return{fieldPath:r.canonicalString()}}function Ka(r){return Lt.fromServerFormat(r.fieldPath)}function m0(r){return r instanceof wt?function(n){if(n.op==="=="){if(Bv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NAN"}};if(zv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Bv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NAN"}};if(zv(n.value))return{unaryFilter:{field:Ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ya(n.field),op:QR(n.op),value:n.value}}}(r):r instanceof Kn?function(n){const s=n.getFilters().map(o=>m0(o));return s.length===1?s[0]:{compositeFilter:{op:YR(n.op),filters:s}}}(r):Ee(54877,{filter:r})}function KR(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function p0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Ut.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.yt=e}}function $R(r){const e=HR({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(){this.Cn=new ZR}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Qr.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Qr.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class ZR{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},g0=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(g0,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new so(0)}static cr(){return new so(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="LruGarbageCollector",JR=1048576;function iE([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class eI{constructor(e){this.Ir=e,this.buffer=new Nt(iE),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();iE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class tI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){fe(nE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yo(n)?fe(nE,"Ignoring IndexedDB error during garbage collection: ",n):await go(n)}await this.Vr(3e5)})}}class nI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(xh.ce);const s=new eI(n);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(fe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(tE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tE):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,m,y,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,y=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),Ga()<=Ve.DEBUG&&fe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(y-m)+`ms
	Removed ${A} documents in `+(g-y)+`ms
Total Duration: ${g-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function iI(r,e){return new nI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.changes=new $s(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Ul(s.mutation,o,Tn.empty(),rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=zs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ml();return u.forEach((m,y)=>{f=f.insert(m,y.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ir();const f=Ll(),m=function(){return Ll()}();return n.forEach((y,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof es)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),Ul(T.mutation,g,T.mutation.getFieldMask(),rt.now())):f.set(g.key,Tn.empty())}),this.recalculateAndSaveOverlays(e,u).next(y=>(y.forEach((g,T)=>f.set(g,T)),n.forEach((g,T)=>m.set(g,new sI(T,f.get(g)??null))),m))}recalculateAndSaveOverlays(e,n){const s=Ll();let o=new ut((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(y=>{const g=n.get(y);if(g===null)return;let T=s.get(y)||Tn.empty();T=m.applyToLocalView(g,T),s.set(y,T);const A=(o.get(m.batchId)||ke()).add(y);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),g=y.key,T=y.value,A=ZT();T.forEach(S=>{if(!u.has(S)){const k=r0(n.get(S),s.get(S));k!==null&&A.set(S,k),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ee.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ee.resolve(zs());let m=Fl,y=u;return f.next(g=>ee.forEach(g,(T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next(S=>{y=y.insert(T,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,y,g,ke())).next(T=>({batchId:m,changes:WT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=Ml();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ml();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,y=>{const g=function(A,S){return new _o(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,y.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((y,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,Wt.newInvalidDocument(T)))});let m=Ml();return f.forEach((y,g)=>{const T=u.get(y);T!==void 0&&Ul(T.mutation,g,Tn.empty(),rt.now()),Nh(n,g)&&(m=m.insert(y,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(o){return{name:o.name,query:$R(o.bundledQuery),readTime:mi(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.overlays=new ut(pe.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=zs();return ee.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),ee.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const o=zs(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,g=y.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&y.largestBatchId>s&&o.set(y.getKey(),y)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=zs(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=zs(),y=u.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return ee.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new xR(n,s));let u=this.qr.get(n);u===void 0&&(u=ke(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.Qr=new Nt(jt.$r),this.Ur=new Nt(jt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new jt(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new pe(new it([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],f=>{this.Gr(f),u.push(f.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new pe(new it([])),s=new jt(n,e),o=new jt(n,e+1);let u=ke();return this.Ur.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return pe.comparator(e.key,n.key)||Pe(e.Yr,n.Yr)}static Kr(e,n){return Pe(e.Yr,n.Yr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Nt(jt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new SR(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Zr=this.Zr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Jm:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],f=>{const m=this.Xr(f.Yr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Pe);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],m=>{s=s.add(m.Yr)})}),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new jt(new pe(u),0);let m=new Nt(Pe);return this.Zr.forEachWhile(y=>{const g=y.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(y.Yr)),!0)},f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new jt(n,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.ri=e,this.docs=function(){return new ut(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=ir();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ir();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:g,value:{document:T}}=y.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||U1(L1(T),s)<=0||(o.has(T.key)||Nh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee(9500)}ii(e,n){return ee.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new fI(this)}getSize(e){return ee.resolve(this.size)}}class fI extends rI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.persistence=e,this.si=new $s(n=>np(n),ip),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new cp,this.targetCount=0,this.ai=so.ur()}forEachTarget(e,n){return this.si.forEach((s,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new so(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n){this.ui={},this.overlays={},this.ci=new xh(0),this.li=!1,this.li=!0,this.hi=new uI,this.referenceDelegate=e(this),this.Pi=new dI(this),this.indexManager=new WR,this.remoteDocumentCache=function(o){return new hI(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new XR(n),this.Ii=new oI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new cI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){fe("MemoryPersistence","Starting transaction:",e);const o=new mI(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,n){return ee.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class mI extends B1{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.Ri=new cp,this.Vi=null}static mi(e){return new hp(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,s=>{const o=pe.fromPath(s);return this.gi(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class hh{constructor(e,n){this.persistence=e,this.pi=new $s(s=>F1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=iI(this,n)}static mi(e,n){return new hh(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return ee.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ee.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,f=>this.br(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Kc(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new fp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return cx()?8:q1(Zt())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ws(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new pI;return this.Ss(e,n,f).next(m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)})}).next(()=>u.result)}bs(e,n,s,o){return s.documentReadCount<this.fs?(Ga()<=Ve.DEBUG&&fe("QueryEngine","SDK will not create cache indexes for query:",Qa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(Ga()<=Ve.DEBUG&&fe("QueryEngine","Query:",Qa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(Ga()<=Ve.DEBUG&&fe("QueryEngine","The SDK decides to create cache indexes for query:",Qa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):ee.resolve())}ys(e,n){if(Gv(n))return ee.resolve(null);let s=di(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Im(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.ps.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(y=>{const g=this.Ds(n,m);return this.Cs(n,g,f,y.readTime)?this.ys(e,Im(n,null,"F")):this.vs(e,g,n,y)}))})))}ws(e,n,s,o){return Gv(n)||o.isEqual(Ae.min())?ee.resolve(null):this.ps.getDocuments(e,s).next(u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ee.resolve(null):(Ga()<=Ve.DEBUG&&fe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Qa(n)),this.vs(e,f,n,j1(o,Fl)).next(m=>m))})}Ds(e,n){let s=new Nt(XT(e));return n.forEach((o,u)=>{Nh(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return Ga()<=Ve.DEBUG&&fe("QueryEngine","Using full collection scan to execute query:",Qa(n)),this.ps.getDocumentsMatchingQuery(e,n,Qr.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="LocalStore",yI=3e8;class _I{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ut(Pe),this.xs=new $s(u=>np(u),ip),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function vI(r,e,n,s){return new _I(r,e,n,s)}async function _0(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let y=ke();for(const g of o){f.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(s,y).next(g=>({Ls:g,removedBatchIds:f,addedBatchIds:m}))})})}function EI(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return function(m,y,g,T){const A=g.batch,S=A.keys();let k=ee.resolve();return S.forEach(q=>{k=k.next(()=>T.getEntry(y,q)).next(Y=>{const F=g.docVersions.get(q);Ge(F!==null,48541),Y.version.compareTo(F)<0&&(A.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),T.addEntry(Y)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(y,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let y=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(y=y.add(m.batch.mutations[g].key));return y}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function v0(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function TI(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];e.targetChanges.forEach((T,A)=>{const S=o.get(A);if(!S)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(u,T.addedDocuments,A)));let k=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?k=k.withResumeToken(Ut.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(T.resumeToken,s)),o=o.insert(A,k),function(Y,F,K){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=yI?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(S,k,T)&&m.push(n.Pi.updateTargetData(u,k))});let y=ir(),g=ke();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(bI(u,f,e.documentUpdates).next(T=>{y=T.ks,g=T.qs})),!s.isEqual(Ae.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next(A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return ee.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,y,g)).next(()=>y)}).then(u=>(n.Ms=o,u))}function bI(r,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=ir();return n.forEach((m,y)=>{const g=u.get(m);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(Ae.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):fe(dp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",y.version)}),{ks:f,qs:o}})}function wI(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Jm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function AI(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Pi.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):n.Pi.allocateTargetId(s).next(f=>(o=new zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Mm(r,e,n){const s=Se(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!yo(f))throw f;fe(dp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function rE(r,e,n){const s=Se(r);let o=Ae.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(y,g,T){const A=Se(y),S=A.xs.get(T);return S!==void 0?ee.resolve(A.Ms.get(S)):A.Pi.getTargetData(g,T)}(s,f,di(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next(y=>{u=y})}).next(()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:ke())).next(m=>(SI(s,uR(e),m),{documents:m,Qs:u})))}function SI(r,e,n){let s=r.Os.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Os.set(e,s)}class sE{constructor(){this.activeTargetIds=pR()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xI{constructor(){this.Mo=new sE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new sE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="ConnectivityMonitor";class oE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){fe(aE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){fe(aE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function Vm(){return Hc===null?Hc=function(){return 268435456+Math.round(2147483648*Math.random())}():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="RestConnection",II={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===ah?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=Vm(),m=this.zo(e,n.toUriEncodedString());fe(um,`Sending RPC '${e}' ${f}:`,m,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,u);const{host:g}=new URL(m),T=fo(g);return this.Jo(e,m,y,s,T).then(A=>(fe(um,`Received RPC '${e}' ${f}: `,A),A),A=>{throw Ys(um,`RPC '${e}' ${f} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+po}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,n){const s=II[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class DI extends CI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=Vm();return new Promise((m,y)=>{const g=new ET;g.setWithCredentials(!0),g.listenOnce(TT.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Yc.NO_ERROR:const A=g.getResponseJson();fe(Xt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),m(A);break;case Yc.TIMEOUT:fe(Xt,`RPC '${e}' ${f} timed out`),y(new ce(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Yc.HTTP_ERROR:const S=g.getStatus();if(fe(Xt,`RPC '${e}' ${f} failed with status:`,S,"response text:",g.getResponseText()),S>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const q=k?.error;if(q&&q.status&&q.message){const Y=function(K){const re=K.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(re)>=0?re:Z.UNKNOWN}(q.status);y(new ce(Y,q.message))}else y(new ce(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else y(new ce(Z.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{fe(Xt,`RPC '${e}' ${f} completed.`)}});const T=JSON.stringify(o);fe(Xt,`RPC '${e}' ${f} sending request:`,o),g.send(n,"POST",T,s,15)})}T_(e,n,s){const o=Vm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=AT(),m=wT(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,n,s),y.encodeInitMessageHeaders=!0;const T=u.join("");fe(Xt,`Creating RPC '${e}' stream ${o}: ${T}`,y);const A=f.createWebChannel(T,y);this.I_(A);let S=!1,k=!1;const q=new NI({Yo:F=>{k?fe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(S||(fe(Xt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),fe(Xt,`RPC '${e}' stream ${o} sending:`,F),A.send(F))},Zo:()=>A.close()}),Y=(F,K,re)=>{F.listen(K,ie=>{try{re(ie)}catch(ae){setTimeout(()=>{throw ae},0)}})};return Y(A,Ol.EventType.OPEN,()=>{k||(fe(Xt,`RPC '${e}' stream ${o} transport opened.`),q.o_())}),Y(A,Ol.EventType.CLOSE,()=>{k||(k=!0,fe(Xt,`RPC '${e}' stream ${o} transport closed`),q.a_(),this.E_(A))}),Y(A,Ol.EventType.ERROR,F=>{k||(k=!0,Ys(Xt,`RPC '${e}' stream ${o} transport errored. Name:`,F.name,"Message:",F.message),q.a_(new ce(Z.UNAVAILABLE,"The operation could not be completed")))}),Y(A,Ol.EventType.MESSAGE,F=>{if(!k){const K=F.data[0];Ge(!!K,16349);const re=K,ie=re?.error||re[0]?.error;if(ie){fe(Xt,`RPC '${e}' stream ${o} received error:`,ie);const ae=ie.status;let te=function(R){const x=bt[R];if(x!==void 0)return a0(x)}(ae),he=ie.message;te===void 0&&(te=Z.INTERNAL,he="Unknown error status: "+ae+" with message "+ie.message),k=!0,q.a_(new ce(te,he)),A.close()}else fe(Xt,`RPC '${e}' stream ${o} received:`,K),q.u_(K)}}),Y(m,bT.STAT_EVENT,F=>{F.stat===Tm.PROXY?fe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Tm.NOPROXY&&fe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{q.__()},0),q}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function cm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(r){return new PR(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&fe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="PersistentStream";class T0{constructor(e,n,s,o,u,f,m,y){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new E0(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(nr(n.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===n&&this.G_(s,o)},s=>{e(()=>{const o=new ce(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return fe(lE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(fe(lE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OI extends T0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=LR(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?mi(f.readTime):Ae.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Om(this.serializer),n.addTarget=function(u,f){let m;const y=f.target;if(m=xm(y)?{documents:BR(u,y)}:{query:qR(u,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=u0(u,f.resumeToken);const g=Cm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=ch(u,f.snapshotVersion.toTimestamp());const g=Cm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=FR(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Om(this.serializer),n.removeTarget=e,this.q_(n)}}class MI extends T0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zR(e.writeResults,e.commitTime),s=mi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Om(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>UR(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{}class PI extends VI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Go(e,Nm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ce(Z.UNKNOWN,u.toString())})}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Ho(e,Nm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ce(Z.UNKNOWN,f.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class kI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(nr(n),this.aa=!1):fe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="RemoteStore";class jI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(f=>{s.enqueueAndForget(async()=>{Ws(this)&&(fe(Ks,"Restarting streams for network reachability change."),await async function(y){const g=Se(y);g.Ea.add(4),await au(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Ph(g)}(this))})}),this.Ra=new kI(s,o)}}async function Ph(r){if(Ws(r))for(const e of r.da)await e(!0)}async function au(r){for(const e of r.da)await e(!1)}function b0(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),yp(n)?gp(n):vo(n).O_()&&pp(n,e))}function mp(r,e){const n=Se(r),s=vo(n);n.Ia.delete(e),s.O_()&&w0(n,e),n.Ia.size===0&&(s.O_()?s.L_():Ws(n)&&n.Ra.set("Unknown"))}function pp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}vo(r).Y_(e)}function w0(r,e){r.Va.Ue(e),vo(r).Z_(e)}function gp(r){r.Va=new DR({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),vo(r).start(),r.Ra.ua()}function yp(r){return Ws(r)&&!vo(r).x_()&&r.Ia.size>0}function Ws(r){return Se(r).Ea.size===0}function A0(r){r.Va=void 0}async function LI(r){r.Ra.set("Online")}async function UI(r){r.Ia.forEach((e,n)=>{pp(r,e)})}async function zI(r,e){A0(r),yp(r)?(r.Ra.ha(e),gp(r)):r.Ra.set("Unknown")}async function BI(r,e,n){if(r.Ra.set("Online"),e instanceof l0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.Va.removeTarget(m))}(r,e)}catch(s){fe(Ks,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fh(r,s)}else if(e instanceof Wc?r.Va.Ze(e):e instanceof o0?r.Va.st(e):r.Va.tt(e),!n.isEqual(Ae.min()))try{const s=await v0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(y.resumeToken,f))}}),m.targetMismatches.forEach((y,g)=>{const T=u.Ia.get(y);if(!T)return;u.Ia.set(y,T.withResumeToken(Ut.EMPTY_BYTE_STRING,T.snapshotVersion)),w0(u,y);const A=new zr(T.target,y,g,T.sequenceNumber);pp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){fe(Ks,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,e,n){if(!yo(e))throw e;r.Ea.add(1),await au(r),r.Ra.set("Offline"),n||(n=()=>v0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{fe(Ks,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ph(r)})}function S0(r,e){return e().catch(n=>fh(r,n,e))}async function kh(r){const e=Se(r),n=$r(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Jm;for(;qI(e);)try{const o=await wI(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,HI(e,o)}catch(o){await fh(e,o)}x0(e)&&R0(e)}function qI(r){return Ws(r)&&r.Ta.length<10}function HI(r,e){r.Ta.push(e);const n=$r(r);n.O_()&&n.X_&&n.ea(e.mutations)}function x0(r){return Ws(r)&&!$r(r).x_()&&r.Ta.length>0}function R0(r){$r(r).start()}async function FI(r){$r(r).ra()}async function GI(r){const e=$r(r);for(const n of r.Ta)e.ea(n.mutations)}async function QI(r,e,n){const s=r.Ta.shift(),o=op.from(s,e,n);await S0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await kh(r)}async function YI(r,e){e&&$r(r).X_&&await async function(s,o){if(function(f){return IR(f)&&f!==Z.ABORTED}(o.code)){const u=s.Ta.shift();$r(s).B_(),await S0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await kh(s)}}(r,e),x0(r)&&R0(r)}async function uE(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),fe(Ks,"RemoteStore received new credentials");const s=Ws(n);n.Ea.add(3),await au(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Ph(n)}async function KI(r,e){const n=Se(r);e?(n.Ea.delete(2),await Ph(n)):e||(n.Ea.add(2),await au(n),n.Ra.set("Unknown"))}function vo(r){return r.ma||(r.ma=function(n,s,o){const u=Se(n);return u.sa(),new OI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:LI.bind(null,r),t_:UI.bind(null,r),r_:zI.bind(null,r),H_:BI.bind(null,r)}),r.da.push(async e=>{e?(r.ma.B_(),yp(r)?gp(r):r.Ra.set("Unknown")):(await r.ma.stop(),A0(r))})),r.ma}function $r(r){return r.fa||(r.fa=function(n,s,o){const u=Se(n);return u.sa(),new MI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:FI.bind(null,r),r_:YI.bind(null,r),ta:GI.bind(null,r),na:QI.bind(null,r)}),r.da.push(async e=>{e?(r.fa.B_(),await kh(r)):(await r.fa.stop(),r.Ta.length>0&&(fe(Ks,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))})),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Zi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new _p(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(r,e){if(nr("AsyncQueue",`${e}: ${r}`),yo(r))return new ce(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{static emptySet(e){return new $a(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=Ml(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof $a)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new $a;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.ga=new ut(pe.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class ao{constructor(e,n,s,o,u,f,m,y,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ao(e,n,$a.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class $I{constructor(){this.queries=hE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=hE(),u.forEach((f,m)=>{for(const y of m.Sa)y.onError(s)})})(this,new ce(Z.ABORTED,"Firestore shutting down"))}}function hE(){return new $s(r=>KT(r),Ch)}async function I0(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new XI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=vp(f,`Initialization of query '${Qa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Ep(n)}async function C0(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function WI(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(o)&&(s=!0);f.wa=o}}s&&Ep(n)}function ZI(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function Ep(r){r.Ca.forEach(e=>{e.next()})}var Pm,fE;(fE=Pm||(Pm={})).Ma="default",fE.Cache="cache";class N0{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e){this.key=e}}class O0{constructor(e){this.key=e}}class JI{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ke(),this.mutatedKeys=ke(),this.eu=XT(e),this.tu=new $a(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new cE,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,A)=>{const S=o.get(T),k=Nh(this.query,A)?A:null,q=!!S&&this.mutatedKeys.has(S.key),Y=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;S&&k?S.data.isEqual(k.data)?q!==Y&&(s.track({type:3,doc:k}),F=!0):this.su(S,k)||(s.track({type:2,doc:k}),F=!0,(y&&this.eu(k,y)>0||g&&this.eu(k,g)<0)&&(m=!0)):!S&&k?(s.track({type:0,doc:k}),F=!0):S&&!k&&(s.track({type:1,doc:S}),F=!0,(y||g)&&(m=!0)),F&&(k?(f=f.add(k),u=Y?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort((T,A)=>function(k,q){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:F})}};return Y(k)-Y(q)}(T.type,A.type)||this.eu(T.doc,A.doc)),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,g=y!==this.Za;return this.Za=y,f.length!==0||g?{snapshot:new ao(this.query,e.tu,u,f,e.mutatedKeys,y===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ke(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new O0(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new D0(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=ke();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Tp="SyncEngine";class e2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class t2{constructor(e){this.key=e,this.hu=!1}}class n2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new $s(m=>KT(m),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new ut(pe.comparator),this.Au=new Map,this.Ru=new cp,this.Vu={},this.mu=new Map,this.fu=so.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function i2(r,e,n=!0){const s=L0(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await M0(s,e,n,!0),o}async function r2(r,e){const n=L0(r);await M0(n,e,!0,!1)}async function M0(r,e,n,s){const o=await AI(r.localStore,di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await s2(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&b0(r.remoteStore,o),m}async function s2(r,e,n,s,o){r.pu=(A,S,k)=>async function(Y,F,K,re){let ie=F.view.ru(K);ie.Cs&&(ie=await rE(Y.localStore,F.query,!1).then(({documents:D})=>F.view.ru(D,ie)));const ae=re&&re.targetChanges.get(F.targetId),te=re&&re.targetMismatches.get(F.targetId)!=null,he=F.view.applyChanges(ie,Y.isPrimaryClient,ae,te);return mE(Y,F.targetId,he.au),he.snapshot}(r,A,S,k);const u=await rE(r.localStore,e,!0),f=new JI(e,u.Qs),m=f.ru(u.documents),y=su.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,y);mE(r,n,g.au);const T=new e2(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function a2(r,e,n){const s=Se(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(f=>!Ch(f,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Mm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&mp(s.remoteStore,o.targetId),km(s,o.targetId)}).catch(go)):(km(s,o.targetId),await Mm(s.localStore,o.targetId,!0))}async function o2(r,e){const n=Se(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),mp(n.remoteStore,s.targetId))}async function l2(r,e,n){const s=p2(r);try{const o=await function(f,m){const y=Se(f),g=rt.now(),T=m.reduce((k,q)=>k.add(q.key),ke());let A,S;return y.persistence.runTransaction("Locally write mutations","readwrite",k=>{let q=ir(),Y=ke();return y.Ns.getEntries(k,T).next(F=>{q=F,q.forEach((K,re)=>{re.isValidDocument()||(Y=Y.add(K))})}).next(()=>y.localDocuments.getOverlayedDocuments(k,q)).next(F=>{A=F;const K=[];for(const re of m){const ie=wR(re,A.get(re.key).overlayedDocument);ie!=null&&K.push(new es(re.key,ie,zT(ie.value.mapValue),Fn.exists(!0)))}return y.mutationQueue.addMutationBatch(k,g,K,m)}).next(F=>{S=F;const K=F.applyToLocalDocumentSet(A,Y);return y.documentOverlayCache.saveOverlays(k,F.batchId,K)})}).then(()=>({batchId:S.batchId,changes:WT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,y){let g=f.Vu[f.currentUser.toKey()];g||(g=new ut(Pe)),g=g.insert(m,y),f.Vu[f.currentUser.toKey()]=g}(s,o.batchId,n),await ou(s,o.changes),await kh(s.remoteStore)}catch(o){const u=vp(o,"Failed to persist write");n.reject(u)}}async function V0(r,e){const n=Se(r);try{const s=await TI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Au.get(u);f&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Ge(f.hu,14607):o.removedDocuments.size>0&&(Ge(f.hu,42227),f.hu=!1))}),await ou(n,s,e)}catch(s){await go(s)}}function dE(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach((u,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const y=Se(f);y.onlineState=m;let g=!1;y.queries.forEach((T,A)=>{for(const S of A.Sa)S.va(m)&&(g=!0)}),g&&Ep(y)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function u2(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ut(pe.comparator);f=f.insert(u,Wt.newNoDocument(u,Ae.min()));const m=ke().add(u),y=new Mh(Ae.min(),new Map,new ut(Pe),f,m);await V0(s,y),s.du=s.du.remove(u),s.Au.delete(e),bp(s)}else await Mm(s.localStore,e,!1).then(()=>km(s,e,n)).catch(go)}async function c2(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await EI(n.localStore,e);k0(n,s,null),P0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await ou(n,o)}catch(o){await go(o)}}async function h2(r,e,n){const s=Se(r);try{const o=await function(f,m){const y=Se(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return y.mutationQueue.lookupMutationBatch(g,m).next(A=>(Ge(A!==null,37113),T=A.keys(),y.mutationQueue.removeMutationBatch(g,A))).next(()=>y.mutationQueue.performConsistencyCheck(g)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>y.localDocuments.getDocuments(g,T))})}(s.localStore,e);k0(s,e,n),P0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await ou(s,o)}catch(o){await go(o)}}function P0(r,e){(r.mu.get(e)||[]).forEach(n=>{n.resolve()}),r.mu.delete(e)}function k0(r,e,n){const s=Se(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function km(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach(s=>{r.Ru.containsKey(s)||j0(r,s)})}function j0(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(mp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),bp(r))}function mE(r,e,n){for(const s of n)s instanceof D0?(r.Ru.addReference(s.key,e),f2(r,s)):s instanceof O0?(fe(Tp,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||j0(r,s.key)):Ee(19791,{wu:s})}function f2(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(fe(Tp,"New document in limbo: "+n),r.Eu.add(s),bp(r))}function bp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new pe(it.fromString(e)),s=r.fu.next();r.Au.set(s,new t2(n)),r.du=r.du.insert(n,s),b0(r.remoteStore,new zr(di(rp(n.path)),s,"TargetPurposeLimboResolution",xh.ce))}}async function ou(r,e,n){const s=Se(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach((m,y)=>{f.push(s.pu(y,e,n).then(g=>{if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(g){o.push(g);const T=fp.As(y.targetId,g);u.push(T)}}))}),await Promise.all(f),s.Pu.H_(o),await async function(y,g){const T=Se(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(g,S=>ee.forEach(S.Es,k=>T.persistence.referenceDelegate.addReference(A,S.targetId,k)).next(()=>ee.forEach(S.ds,k=>T.persistence.referenceDelegate.removeReference(A,S.targetId,k)))))}catch(A){if(!yo(A))throw A;fe(dp,"Failed to update sequence numbers: "+A)}for(const A of g){const S=A.targetId;if(!A.fromCache){const k=T.Ms.get(S),q=k.snapshotVersion,Y=k.withLastLimboFreeSnapshotVersion(q);T.Ms=T.Ms.insert(S,Y)}}}(s.localStore,u))}async function d2(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){fe(Tp,"User change. New user:",e.toKey());const s=await _0(n.localStore,e);n.currentUser=e,function(u,f){u.mu.forEach(m=>{m.forEach(y=>{y.reject(new ce(Z.CANCELLED,f))})}),u.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ou(n,s.Ls)}}function m2(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return ke().add(s.key);{let o=ke();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function L0(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=V0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=m2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u2.bind(null,e),e.Pu.H_=WI.bind(null,e.eventManager),e.Pu.yu=ZI.bind(null,e.eventManager),e}function p2(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=h2.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return vI(this.persistence,new gI,e.initialUser,this.serializer)}Cu(e){return new y0(hp.mi,this.serializer)}Du(e){return new xI}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class g2 extends dh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ge(this.persistence.referenceDelegate instanceof hh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new y0(s=>hh.mi(s,n),this.serializer)}}class jm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>dE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=d2.bind(null,this.syncEngine),await KI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $I}()}createDatastore(e){const n=Vh(e.databaseInfo.databaseId),s=function(u){return new DI(u)}(e.databaseInfo);return function(u,f,m,y){return new PI(u,f,m,y)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new jI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>dE(this.syncEngine,n,0),function(){return oE.v()?new oE:new RI}())}createSyncEngine(e,n){return function(o,u,f,m,y,g,T){const A=new n2(o,u,f,m,y,g);return T&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await async function(n){const s=Se(n);fe(Ks,"RemoteStore shutting down."),s.Ea.add(5),await au(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}jm.provider={build:()=>new jm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="FirestoreClient";class y2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=Ah.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{fe(Wr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(fe(Wr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=vp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function hm(r,e){r.asyncQueue.verifyOperationInProgress(),fe(Wr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await _0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function pE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await _2(r);fe(Wr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>uE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>uE(e.remoteStore,o)),r._onlineComponents=e}async function _2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){fe(Wr,"Using user provided OfflineComponentProvider");try{await hm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ys("Error using user provided cache. Falling back to memory cache: "+n),await hm(r,new dh)}}else fe(Wr,"Using default OfflineComponentProvider"),await hm(r,new g2(void 0));return r._offlineComponents}async function z0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(fe(Wr,"Using user provided OnlineComponentProvider"),await pE(r,r._uninitializedComponentsProvider._online)):(fe(Wr,"Using default OnlineComponentProvider"),await pE(r,new jm))),r._onlineComponents}function v2(r){return z0(r).then(e=>e.syncEngine)}async function B0(r){const e=await z0(r),n=e.eventManager;return n.onListen=i2.bind(null,e.syncEngine),n.onUnlisten=a2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=r2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=o2.bind(null,e.syncEngine),n}function E2(r,e,n={}){const s=new Zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,g){const T=new U0({next:S=>{T.Nu(),f.enqueueAndForget(()=>C0(u,A));const k=S.docs.has(m);!k&&S.fromCache?g.reject(new ce(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&y&&y.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new N0(rp(m.path),T,{includeMetadataChanges:!0,qa:!0});return I0(u,A)}(await B0(r),r.asyncQueue,e,n,s)),s.promise}function T2(r,e,n={}){const s=new Zi;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,y,g){const T=new U0({next:S=>{T.Nu(),f.enqueueAndForget(()=>C0(u,A)),S.fromCache&&y.source==="server"?g.reject(new ce(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new N0(m,T,{includeMetadataChanges:!0,qa:!0});return I0(u,A)}(await B0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="firestore.googleapis.com",yE=!0;class _E{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ce(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=H0,this.ssl=yE}else this.host=e.host,this.ssl=e.ssl??yE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=g0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<JR)throw new ce(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q0(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ce(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new RT;switch(s.type){case"firstParty":return new D1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ce(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=gE.get(n);s&&(fe("ComponentProvider","Removing Datastore"),gE.delete(n),s.terminate())}(this),Promise.resolve()}}function F0(r,e,n,s={}){r=yi(r,jh);const o=fo(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;o&&(hT(`https://${m}`),fT("Firestore",!0)),u.host!==H0&&u.host!==m&&Ys("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...u,host:m,ssl:o,emulatorOptions:s};if(!Fs(y,f)&&(r._setSettings(y),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=$t.MOCK_USER;else{g=tx(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ce(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new $t(A)}r._authCredentials=new I1(new xT(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(iu(n,yt._jsonSchema))return new yt(e,s||null,new pe(it.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:At("string",yt._jsonSchemaVersion),referencePath:At("string")};class Ji extends ts{constructor(e,n,s){super(e,n,rp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new pe(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function wp(r,e,...n){if(r=Jt(r),IT("collection","path",e),r instanceof jh){const s=it.fromString(e,...n);return Dv(s),new Ji(r,null,s)}{if(!(r instanceof yt||r instanceof Ji))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return Dv(s),new Ji(r.firestore,null,s)}}function oo(r,e,...n){if(r=Jt(r),arguments.length===1&&(e=Ah.newId()),IT("doc","path",e),r instanceof jh){const s=it.fromString(e,...n);return Nv(s),new yt(r,null,new pe(s))}{if(!(r instanceof yt||r instanceof Ji))throw new ce(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(it.fromString(e,...n));return Nv(s),new yt(r.firestore,r instanceof Ji?r.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="AsyncQueue";class EE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new E0(this,"async_queue_retry"),this._c=()=>{const s=cm();s&&fe(vE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=cm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=cm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Zi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!yo(e))throw e;fe(vE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,nr("INTERNAL UNHANDLED ERROR: ",TE(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=_p.createAndSchedule(this,e,n,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:TE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function TE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class Zs extends jh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new EE,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EE(e),this._firestoreClient=void 0,await e}}}function G0(r,e){const n=typeof r=="object"?r:gT(),s=typeof r=="string"?r:ah,o=Wm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=JS("firestore");u&&F0(o,...u)}return o}function Lh(r){if(r._terminated)throw new ce(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||b2(r),r._firestoreClient}function b2(r){const e=r._freezeSettings(),n=function(o,u,f,m){return new Y1(o,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,q0(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new y2(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this._byteString=e}static fromBase64String(e){try{return new En(Ut.fromBase64String(e))}catch(n){throw new ce(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new En(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(iu(e,En._jsonSchema))return En.fromBase64String(e.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:At("string",En._jsonSchemaVersion),bytes:At("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ce(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ce(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ce(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gn._jsonSchemaVersion}}static fromJSON(e){if(iu(e,Gn._jsonSchema))return new Gn(e.latitude,e.longitude)}}Gn._jsonSchemaVersion="firestore/geoPoint/1.0",Gn._jsonSchema={type:At("string",Gn._jsonSchemaVersion),latitude:At("number"),longitude:At("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(iu(e,Qn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Qn(e.vectorValues);throw new ce(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qn._jsonSchemaVersion="firestore/vectorValue/1.0",Qn._jsonSchema={type:At("string",Qn._jsonSchemaVersion),vectorValues:At("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=/^__.*__$/;class A2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new es(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}class Q0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Y0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:r})}}class Ap{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Ap({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return mh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Y0(this.Ac)&&w2.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class S2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Vh(e)}Cc(e,n,s,o=!1){return new Ap({Ac:e,methodName:n,Dc:s,path:Lt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sp(r){const e=r._freezeSettings(),n=Vh(r._databaseId);return new S2(r._databaseId,!!e.ignoreUndefinedProperties,n)}function x2(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);Rp("Data must be an object, but it was:",f,s);const m=K0(s,f);let y,g;if(u.merge)y=new Tn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const S=Lm(e,A,n);if(!f.contains(S))throw new ce(Z.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);$0(T,S)||T.push(S)}y=new Tn(T),g=f.fieldTransforms.filter(A=>y.covers(A.field))}else y=null,g=f.fieldTransforms;return new A2(new cn(m),y,g)}class Uh extends uu{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uh}}class xp extends uu{_toFieldTransform(e){return new vR(e.path,new Kl)}isEqual(e){return e instanceof xp}}function R2(r,e,n,s){const o=r.Cc(1,e,n);Rp("Data must be an object, but it was:",o,s);const u=[],f=cn.empty();Jr(s,(y,g)=>{const T=Ip(e,y,n);g=Jt(g);const A=o.yc(T);if(g instanceof Uh)u.push(T);else{const S=cu(g,A);S!=null&&(u.push(T),f.set(T,S))}});const m=new Tn(u);return new Q0(f,m,o.fieldTransforms)}function I2(r,e,n,s,o,u){const f=r.Cc(1,e,n),m=[Lm(e,s,n)],y=[o];if(u.length%2!=0)throw new ce(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Lm(e,u[S])),y.push(u[S+1]);const g=[],T=cn.empty();for(let S=m.length-1;S>=0;--S)if(!$0(g,m[S])){const k=m[S];let q=y[S];q=Jt(q);const Y=f.yc(k);if(q instanceof Uh)g.push(k);else{const F=cu(q,Y);F!=null&&(g.push(k),T.set(k,F))}}const A=new Tn(g);return new Q0(T,A,f.fieldTransforms)}function C2(r,e,n,s=!1){return cu(n,r.Cc(s?4:3,e))}function cu(r,e){if(X0(r=Jt(r)))return Rp("Unsupported field value:",e,r),K0(r,e);if(r instanceof uu)return function(s,o){if(!Y0(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let y=cu(m,o.wc(f));y==null&&(y={nullValue:"NULL_VALUE"}),u.push(y),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Jt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gR(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=rt.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof rt){const u=new rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof Gn)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof En)return{bytesValue:u0(o.serializer,s._byteString)};if(s instanceof yt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Qn)return function(f,m){return{mapValue:{fields:{[LT]:{stringValue:UT},[oh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return sp(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${Sh(s)}`)}(r,e)}function K0(r,e){const n={};return OT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Jr(r,(s,o)=>{const u=cu(o,e.mc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function X0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof rt||r instanceof Gn||r instanceof En||r instanceof yt||r instanceof uu||r instanceof Qn)}function Rp(r,e,n){if(!X0(n)||!NT(n)){const s=Sh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function Lm(r,e,n){if((e=Jt(e))instanceof lu)return e._internalPath;if(typeof e=="string")return Ip(r,e);throw mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const N2=new RegExp("[~\\*/\\[\\]]");function Ip(r,e,n){if(e.search(N2)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new lu(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function mh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(u||f)&&(y+=" (found",u&&(y+=` in field ${s}`),f&&(y+=` in document ${o}`),y+=")"),new ce(Z.INVALID_ARGUMENT,m+r+y)}function $0(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Cp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D2 extends W0{data(){return super.data()}}function Cp(r,e){return typeof e=="string"?Ip(r,e):e instanceof lu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ce(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Np{}class Dp extends Np{}function Z0(r,e,...n){let s=[];e instanceof Np&&s.push(e),s=s.concat(n),function(u){const f=u.filter(y=>y instanceof Bh).length,m=u.filter(y=>y instanceof zh).length;if(f>1||f>0&&m>0)throw new ce(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class zh extends Dp{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new zh(e,n,s)}_apply(e){const n=this._parse(e);return eb(e._query,n),new ts(e.firestore,e.converter,Rm(e._query,n))}_parse(e){const n=Sp(e.firestore);return function(u,f,m,y,g,T,A){let S;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){wE(A,T);const q=[];for(const Y of A)q.push(bE(y,u,Y));S={arrayValue:{values:q}}}else S=bE(y,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||wE(A,T),S=C2(m,f,A,T==="in"||T==="not-in");return wt.create(g,T,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Bh extends Np{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Bh(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const y of m)eb(f,y),f=Rm(f,y)}(e._query,n),new ts(e.firestore,e.converter,Rm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qh extends Dp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new qh(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ce(Z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Yl(u,f)}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new _o(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function J0(r,e="asc"){const n=e,s=Cp("orderBy",r);return qh._create(s,n)}function bE(r,e,n){if(typeof(n=Jt(n))=="string"){if(n==="")throw new ce(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YT(e)&&n.indexOf("/")!==-1)throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!pe.isDocumentKey(s))throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Uv(r,new pe(s))}if(n instanceof yt)return Uv(r,n._key);throw new ce(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sh(n)}.`)}function wE(r,e){if(!Array.isArray(r)||r.length===0)throw new ce(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function eb(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ce(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class tb{convertValue(e,n="none"){switch(Xr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Jr(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){const n=e.fields?.[oh].arrayValue?.values?.map(s=>gt(s.doubleValue));return new Qn(n)}convertGeoPoint(e){return new Gn(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ih(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);Ge(p0(s),9688,{name:e});const o=new no(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||nr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Xa{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gr extends W0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new zl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Cp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Gr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:At("string",Gr._jsonSchemaVersion),bundleSource:At("string","DocumentSnapshot"),bundleName:At("string"),bundle:At("string")};class zl extends Gr{data(e={}){return super.data(e)}}class qs{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new zl(this._firestore,this._userDataWriter,s.key,s,new Xa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ce(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const y=new zl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xa(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const y=new zl(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xa(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:V2(m.type),doc:y,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=qs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ah.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function V2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(r){r=yi(r,yt);const e=yi(r.firestore,Zs);return E2(Lh(e),r._key).then(n=>P2(e,r,n))}qs._jsonSchemaVersion="firestore/querySnapshot/1.0",qs._jsonSchema={type:At("string",qs._jsonSchemaVersion),bundleSource:At("string","QuerySnapshot"),bundleName:At("string"),bundle:At("string")};class nb extends tb{constructor(e){super(),this.firestore=e}convertBytes(e){return new En(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function ib(r){r=yi(r,ts);const e=yi(r.firestore,Zs),n=Lh(e),s=new nb(e);return O2(r._query),T2(n,r._query).then(o=>new qs(e,s,r,o))}function rb(r,e,n,...s){r=yi(r,yt);const o=yi(r.firestore,Zs),u=Sp(o);let f;return f=typeof(e=Jt(e))=="string"||e instanceof lu?I2(u,"updateDoc",r._key,e,n,s):R2(u,"updateDoc",r._key,e),Hh(o,[f.toMutation(r._key,Fn.exists(!0))])}function sb(r){return Hh(yi(r.firestore,Zs),[new ap(r._key,Fn.none())])}function ab(r,e){const n=yi(r.firestore,Zs),s=oo(r),o=M2(r.converter,e);return Hh(n,[x2(Sp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then(()=>s)}function Hh(r,e){return function(s,o){const u=new Zi;return s.asyncQueue.enqueueAndForget(async()=>l2(await v2(s),o,u)),u.promise}(Lh(r),e)}function P2(r,e,n){const s=n.docs.get(e._key),o=new nb(r);return new Gr(r,o,e._key,s,new Xa(n.hasPendingWrites,n.fromCache),e.converter)}function ob(){return new xp("serverTimestamp")}(function(e,n=!0){(function(o){po=o})(mo),eo(new Gs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Zs(new C1(s.getProvider("auth-internal")),new O1(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ce(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new no(g.options.projectId,T)}(f,o),f);return u={useFetchStreams:n,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Hr(xv,Rv,e),Hr(xv,Rv,"esm2020")})();const lb=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:tb,Bytes:En,CollectionReference:Ji,DocumentReference:yt,DocumentSnapshot:Gr,FieldPath:lu,FieldValue:uu,Firestore:Zs,FirestoreError:ce,GeoPoint:Gn,Query:ts,QueryCompositeFilterConstraint:Bh,QueryConstraint:Dp,QueryDocumentSnapshot:zl,QueryFieldFilterConstraint:zh,QueryOrderByConstraint:qh,QuerySnapshot:qs,SnapshotMetadata:Xa,Timestamp:rt,VectorValue:Qn,_AutoId:Ah,_ByteString:Ut,_DatabaseId:no,_DocumentKey:pe,_EmptyAuthCredentialsProvider:RT,_FieldPath:Lt,_cast:yi,_logWarn:Ys,_validateIsNotUsedTogether:CT,addDoc:ab,collection:wp,connectFirestoreEmulator:F0,deleteDoc:sb,doc:oo,ensureFirestoreConfigured:Lh,executeWrite:Hh,getDoc:Op,getDocs:ib,getFirestore:G0,orderBy:J0,query:Z0,serverTimestamp:ob,updateDoc:rb},Symbol.toStringTag,{value:"Module"}));var k2="firebase",j2="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hr(k2,j2,"app");function ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L2=ub,cb=new tu("auth","Firebase",ub());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Xm("@firebase/auth");function U2(r,...e){ph.logLevel<=Ve.WARN&&ph.warn(`Auth (${mo}): ${r}`,...e)}function Zc(r,...e){ph.logLevel<=Ve.ERROR&&ph.error(`Auth (${mo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(r,...e){throw Vp(r,...e)}function Yn(r,...e){return Vp(r,...e)}function Mp(r,e,n){const s={...L2(),[e]:n};return new tu("auth","Firebase",s).create(e,{appName:r.name})}function Hs(r){return Mp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z2(r,e,n){const s=n;if(!(e instanceof s))throw s.name!==e.constructor.name&&vi(r,"argument-error"),Mp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Vp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return cb.create(r,...e)}function be(r,e,...n){if(!r)throw Vp(e,...n)}function Xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Zc(e),new Error(e)}function rr(r,e){r||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(){return typeof self<"u"&&self.location?.href||""}function B2(){return AE()==="http:"||AE()==="https:"}function AE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(B2()||ox()||"connection"in navigator)?navigator.onLine:!0}function H2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=rx()||lx()}get(){return q2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(r,e){rr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Q2=new hu(3e4,6e4);function kp(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Eo(r,e,n,s,o={}){return fb(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=nu({key:r.config.apiKey,...f}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:y,...u};return ax()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&fo(r.emulatorConfig.host)&&(g.credentials="include"),hb.fetch()(await db(r,r.config.apiHost,n,m),g)})}async function fb(r,e,n){r._canInitEmulator=!1;const s={...F2,...e};try{const o=new K2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Fc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[y,g]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fc(r,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw Fc(r,"email-already-in-use",f);if(y==="USER_DISABLED")throw Fc(r,"user-disabled",f);const T=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Mp(r,T,g);vi(r,T)}}catch(o){if(o instanceof ar)throw o;vi(r,"network-request-failed",{message:String(o)})}}async function Y2(r,e,n,s,o={}){const u=await Eo(r,e,n,s,o);return"mfaPendingCredential"in u&&vi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function db(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?Pp(r.config,o):`${r.config.apiScheme}://${o}`;return G2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class K2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Yn(this.auth,"network-request-failed")),Q2.get())})}}function Fc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Yn(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X2(r,e){return Eo(r,"POST","/v1/accounts:delete",e)}async function gh(r,e){return Eo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function $2(r,e=!1){const n=Jt(r),s=await n.getIdToken(e),o=jp(s);be(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:Bl(fm(o.auth_time)),issuedAtTime:Bl(fm(o.iat)),expirationTime:Bl(fm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function fm(r){return Number(r)*1e3}function jp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const o=oT(n);return o?JSON.parse(o):(Zc("Failed to decode base64 JWT payload"),null)}catch(o){return Zc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function SE(r){const e=jp(r);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ar&&W2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function W2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yh(r){const e=r.auth,n=await r.getIdToken(),s=await Wl(r,gh(e,{idToken:n}));be(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?mb(o.providerUserInfo):[],f=eC(r.providerData,u),m=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!f?.length,g=m?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,T)}async function J2(r){const e=Jt(r);await yh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eC(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function mb(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tC(r,e){const n=await fb(r,{},async()=>{const s=nu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await db(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:s};return r.emulatorConfig&&fo(r.emulatorConfig.host)&&(y.credentials="include"),hb.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nC(r,e){return Eo(r,"POST","/v2/accounts:revokeToken",kp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){be(e.length!==0,"internal-error");const n=SE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await tC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new Wa;return s&&(be(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(be(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(be(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Wa,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kr(r,e){be(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Hn{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new Z2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return be(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return $2(this,e)}reload(){return J2(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Hn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await yh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(Hs(this.auth));const e=await this.getIdToken();return await Wl(this,X2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:S,isAnonymous:k,providerData:q,stsTokenManager:Y}=n;be(A&&Y,e,"internal-error");const F=Wa.fromJSON(this.name,Y);be(typeof A=="string",e,"internal-error"),kr(s,e.name),kr(o,e.name),be(typeof S=="boolean",e,"internal-error"),be(typeof k=="boolean",e,"internal-error"),kr(u,e.name),kr(f,e.name),kr(m,e.name),kr(y,e.name),kr(g,e.name),kr(T,e.name);const K=new Hn({uid:A,auth:e,email:o,emailVerified:S,displayName:s,isAnonymous:k,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:F,createdAt:g,lastLoginAt:T});return q&&Array.isArray(q)&&(K.providerData=q.map(re=>({...re}))),y&&(K._redirectEventId=y),K}static async _fromIdTokenResponse(e,n,s=!1){const o=new Wa;o.updateFromServerResponse(n);const u=new Hn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await yh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];be(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?mb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,m=new Wa;m.updateFromIdToken(s);const y=new Hn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(y,g),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;function $i(r){rr(r instanceof Function,"Expected a class definition");let e=xE.get(r);return e?(rr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,xE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}pb.type="NONE";const RE=pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(r,e,n){return`firebase:${r}:${e}:${n}`}class Za{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Jc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Hn._fromGetAccountInfoResponse(this.auth,n,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Za($i(RE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||$i(RE);const f=Jc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let A;if(typeof T=="string"){const S=await gh(e,{idToken:T}).catch(()=>{});if(!S)break;A=await Hn._fromGetAccountInfoResponse(e,S,T)}else A=Hn._fromJSON(e,T);g!==u&&(m=A),u=g;break}}catch{}const y=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!y.length?new Za(u,e,s):(u=y[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new Za(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Tb(e))return"Blackberry";if(bb(e))return"Webos";if(yb(e))return"Safari";if((e.includes("chrome/")||_b(e))&&!e.includes("edge/"))return"Chrome";if(Eb(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function gb(r=Zt()){return/firefox\//i.test(r)}function yb(r=Zt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _b(r=Zt()){return/crios\//i.test(r)}function vb(r=Zt()){return/iemobile/i.test(r)}function Eb(r=Zt()){return/android/i.test(r)}function Tb(r=Zt()){return/blackberry/i.test(r)}function bb(r=Zt()){return/webos/i.test(r)}function Lp(r=Zt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function iC(r=Zt()){return Lp(r)&&!!window.navigator?.standalone}function rC(){return ux()&&document.documentMode===10}function wb(r=Zt()){return Lp(r)||Eb(r)||bb(r)||Tb(r)||/windows phone/i.test(r)||vb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(r,e=[]){let n;switch(r){case"Browser":n=IE(Zt());break;case"Worker":n=`${IE(Zt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${mo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const y=e(u);f(y)}catch(y){m(y)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(r,e={}){return Eo(r,"GET","/v2/passwordPolicy",kp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=6;class lC{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oC,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new sC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=$i(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),s=await Hn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=H2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(Hs(this));const n=e?Jt(e):null;return n&&be(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(Hs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(Hs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aC(this),n=new lC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await nC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&$i(e)||this._popupRedirectResolver;be(n,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[$i(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,s,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ab(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&U2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Fh(r){return Jt(r)}class CE{constructor(e){this.auth=e,this.observer=null,this.addObserver=yx(n=>this.observer=n)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cC(r){Up=r}function hC(r){return Up.loadJS(r)}function fC(){return Up.gapiScript}function dC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(r,e){const n=Wm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Fs(u,e??{}))return o;vi(o,"already-initialized")}return n.initialize({options:e})}function pC(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map($i);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function gC(r,e,n){const s=Fh(r);be(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Sb(e),{host:f,port:m}=yC(e),y=m===null?"":`:${m}`,g={url:`${u}//${f}${y}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){be(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),be(Fs(g,s.config.emulator)&&Fs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,fo(f)?(hT(`${u}//${f}${y}`),fT("Auth",!0)):_C()}function Sb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function yC(r){const e=Sb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:NE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:NE(f)}}}function NE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function _C(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ja(r,e){return Y2(r,"POST","/v1/accounts:signInWithIdp",kp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC="http://localhost";class Xs extends xb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Xs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):vi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new Xs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return Ja(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ja(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ja(e,n)}buildRequest(){const e={requestUri:vC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends zp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends fu{constructor(){super("facebook.com")}static credential(e){return Xs._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Xs._fromParams({providerId:Ki.PROVIDER_ID,signInMethod:Ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ki.credentialFromTaggedObject(e)}static credentialFromError(e){return Ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ki.credential(n,s)}catch{return null}}}Ki.GOOGLE_SIGN_IN_METHOD="google.com";Ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends fu{constructor(){super("github.com")}static credential(e){return Xs._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lr.credential(e.oauthAccessToken)}catch{return null}}}Lr.GITHUB_SIGN_IN_METHOD="github.com";Lr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends fu{constructor(){super("twitter.com")}static credential(e,n){return Xs._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Ur.credential(n,s)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Hn._fromIdTokenResponse(e,s,o),f=DE(s);return new lo({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=DE(s);return new lo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function DE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends ar{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new _h(e,n,s,o)}}function Rb(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,u,e,s):u})}async function EC(r,e,n=!1){const s=await Wl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return lo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TC(r,e,n=!1){const{auth:s}=r;if(qn(s.app))return Promise.reject(Hs(s));const o="reauthenticate";try{const u=await Wl(r,Rb(s,o,e,r),n);be(u.idToken,s,"internal-error");const f=jp(u.idToken);be(f,s,"internal-error");const{sub:m}=f;return be(r.uid===m,s,"user-mismatch"),lo._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&vi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(r,e,n=!1){if(qn(r.app))return Promise.reject(Hs(r));const s="signIn",o=await Rb(r,s,e),u=await lo._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function wC(r,e,n,s){return Jt(r).onIdTokenChanged(e,n,s)}function AC(r,e,n){return Jt(r).beforeAuthStateChanged(e,n)}function SC(r){return Jt(r).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1e3,RC=10;class Cb extends Ib{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=wb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);rC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cb.type="LOCAL";const IC=Cb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb extends Ib{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Nb.type="SESSION";const Db=Nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Gh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),y=await CC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,y)=>{const g=Bp("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(T),clearTimeout(u),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function DC(r){pi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function OC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function MC(){return navigator?.serviceWorker?.controller||null}function VC(){return Ob()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="firebaseLocalStorageDb",PC=1,Eh="firebaseLocalStorage",Vb="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(r,e){return r.transaction([Eh],e?"readwrite":"readonly").objectStore(Eh)}function kC(){const r=indexedDB.deleteDatabase(Mb);return new du(r).toPromise()}function Bm(){const r=indexedDB.open(Mb,PC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Eh,{keyPath:Vb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Eh)?e(s):(s.close(),await kC(),e(await Bm()))})})}async function OE(r,e,n){const s=Qh(r,!0).put({[Vb]:e,value:n});return new du(s).toPromise()}async function jC(r,e){const n=Qh(r,!1).get(e),s=await new du(n).toPromise();return s===void 0?null:s.value}function ME(r,e){const n=Qh(r,!0).delete(e);return new du(n).toPromise()}const LC=800,UC=3;class Pb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Bm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>UC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ob()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(VC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new NC(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||MC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Bm();return await OE(e,vh,"1"),await ME(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>OE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>jC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ME(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Qh(o,!1).getAll();return new du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pb.type="LOCAL";const zC=Pb;new hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(r,e){return e?$i(e):(be(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends xb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ja(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ja(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ja(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BC(r){return bC(r.auth,new qp(r),r.bypassAuthState)}function qC(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),TC(n,new qp(r),r.bypassAuthState)}async function HC(r){const{auth:e,user:n}=r;return be(n,e,"internal-error"),EC(n,new qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BC;case"linkViaPopup":case"linkViaRedirect":return HC;case"reauthViaPopup":case"reauthViaRedirect":return qC;default:vi(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new hu(2e3,1e4);async function GC(r,e,n){if(qn(r.app))return Promise.reject(Yn(r,"operation-not-supported-in-this-environment"));const s=Fh(r);z2(r,e,zp);const o=kb(s,n);return new Bs(s,"signInViaPopup",e,o).executeNotNull()}class Bs extends jb{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FC.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC="pendingRedirect",eh=new Map;class YC extends jb{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=eh.get(this.auth._key());if(!e){try{const s=await KC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}eh.set(this.auth._key(),e)}return this.bypassAuthState||eh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KC(r,e){const n=WC(e),s=$C(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function XC(r,e){eh.set(r._key(),e)}function $C(r){return $i(r._redirectPersistence)}function WC(r){return Jc(QC,r.config.apiKey,r.name)}async function ZC(r,e,n=!1){if(qn(r.app))return Promise.reject(Hs(r));const s=Fh(r),o=kb(s,e),f=await new YC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=600*1e3;class eN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!Lb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Yn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JC&&this.cachedEventUids.clear(),this.cachedEventUids.has(VE(e))}saveEventToCache(e){this.cachedEventUids.add(VE(e)),this.lastProcessedEventTime=Date.now()}}function VE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Lb({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function tN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Lb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(r,e={}){return Eo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rN=/^https?/;async function sN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await nN(r);for(const n of e)try{if(aN(n))return}catch{}vi(r,"unauthorized-domain")}function aN(r){const e=Um(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!rN.test(n))return!1;if(iN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=new hu(3e4,6e4);function PE(){const r=pi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function lN(r){return new Promise((e,n)=>{function s(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),n(Yn(r,"network-request-failed"))},timeout:oN.get()})}if(pi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(pi().gapi?.load)s();else{const o=dC("iframefcb");return pi()[o]=()=>{gapi.load?s():n(Yn(r,"network-request-failed"))},hC(`${fC()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw th=null,e})}let th=null;function uN(r){return th=th||lN(r),th}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=new hu(5e3,15e3),hN="__/auth/iframe",fN="emulator/auth/iframe",dN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pN(r){const e=r.config;be(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Pp(e,fN):`https://${r.config.authDomain}/${hN}`,s={apiKey:e.apiKey,appName:r.name,v:mo},o=mN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${nu(s).slice(1)}`}async function gN(r){const e=await uN(r),n=pi().gapi;return be(n,r,"internal-error"),e.open({where:document.body,url:pN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Yn(r,"network-request-failed"),m=pi().setTimeout(()=>{u(f)},cN.get());function y(){pi().clearTimeout(m),o(s)}s.ping(y).then(y,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,vN=600,EN="_blank",TN="http://localhost";class kE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bN(r,e,n,s=_N,o=vN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const y={...yN,width:s.toString(),height:o.toString(),top:u,left:f},g=Zt().toLowerCase();n&&(m=_b(g)?EN:n),gb(g)&&(e=e||TN,y.scrollbars="yes");const T=Object.entries(y).reduce((S,[k,q])=>`${S}${k}=${q},`,"");if(iC(g)&&m!=="_self")return wN(e||"",m),new kE(null);const A=window.open(e||"",m,T);be(A,r,"popup-blocked");try{A.focus()}catch{}return new kE(A)}function wN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="__/auth/handler",SN="emulator/auth/handler",xN=encodeURIComponent("fac");async function jE(r,e,n,s,o,u){be(r.config.authDomain,r,"auth-domain-config-required"),be(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:mo,eventId:o};if(e instanceof zp){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",gx(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(e instanceof fu){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const y=await r._getAppCheckToken(),g=y?`#${xN}=${encodeURIComponent(y)}`:"";return`${RN(r)}?${nu(m).slice(1)}${g}`}function RN({config:r}){return r.emulator?Pp(r,SN):`https://${r.authDomain}/${AN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="webStorageSupport";class IN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Db,this._completeRedirectFn=ZC,this._overrideRedirectResult=XC}async _openPopup(e,n,s,o){rr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await jE(e,n,s,Um(),o);return bN(e,u,Bp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await jE(e,n,s,Um(),o);return DC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(rr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await gN(e),s=new eN(e);return n.register("authEvent",o=>(be(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dm,{type:dm},o=>{const u=o?.[0]?.[dm];u!==void 0&&n(!!u),vi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wb()||yb()||Lp()}}const CN=IN;var LE="@firebase/auth",UE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ON(r){eo(new Gs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;be(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ab(r)},g=new uC(s,o,u,y);return pC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),eo(new Gs("auth-internal",e=>{const n=Fh(e.getProvider("auth").getImmediate());return(s=>new NN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hr(LE,UE,DN(r)),Hr(LE,UE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=300,VN=cT("authIdTokenMaxAge")||MN;let zE=null;const PN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>VN)return;const o=n?.token;zE!==o&&(zE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function kN(r=gT()){const e=Wm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=mC(r,{popupRedirectResolver:CN,persistence:[zC,IC,Db]}),s=cT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=PN(u.toString());AC(n,f,()=>f(n.currentUser)),wC(n,m=>f(m))}}const o=lT("auth");return o&&gC(n,`http://${o}`),n}function jN(){return document.getElementsByTagName("head")?.[0]??document}cC({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Yn("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",jN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ON("Browser");const LN={apiKey:"AIzaSyCZDPyFjxZo02dQUPocIcqjd4yaUPSsj6Y",authDomain:"writeon-bd926.firebaseapp.com",projectId:"writeon-bd926",storageBucket:"writeon-bd926.firebasestorage.app",messagingSenderId:"117698739426",appId:"1:117698739426:web:36f57f2f47826c032532bb"},Ub=pT(LN),Zr=G0(Ub),un=kN(Ub),zb=new Ki,UN=Object.freeze(Object.defineProperty({__proto__:null,auth:un,db:Zr,provider:zb},Symbol.toStringTag,{value:"Module"}));function zN(){const[r,e]=B.useState([]),[n,s]=B.useState([]),[o,u]=B.useState(9),[f,m]=B.useState(!0),[y,g]=B.useState(null),[T,A]=B.useState(!1),[S,k]=B.useState(null),q=B.useCallback(async()=>{m(!0),g(null);try{const ae=wp(Zr,"posts"),te=Z0(ae,J0("createdAt","desc")),D=(await ib(te)).docs.map(R=>({...R.data(),id:R.id}));e(D),s(D.slice(0,9))}catch{g("Failed to load posts. Please try again later.")}finally{m(!1)}},[]);B.useEffect(()=>{q()},[q]);const Y=()=>{const ae=o+9;u(ae),s(r.slice(0,ae))},F=ae=>{k(ae),A(!0)},K=()=>{k(null),A(!1)},re=async()=>{if(S)try{await sb(oo(Zr,"posts",S)),s(n.filter(ae=>ae.id!==S)),k(null),A(!1)}catch{g("Failed to delete post. Please try again.")}},ie=un.currentUser?.uid;return E.jsxs("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:[E.jsx("div",{className:"w-full rounded-2xl relative px-6 mb-10 flex items-center justify-center shadow-lg overflow-hidden min-h-[440px] md:min-h-[600px]",style:n.length>0&&n[0].coverImage?{backgroundImage:`url('${n[0].coverImage}')`,backgroundSize:"cover",backgroundPosition:"center"}:{backgroundImage:`url(${FS})`,backgroundSize:"cover",backgroundPosition:"center"},children:n.length>0?E.jsx("div",{className:"flex w-full items-center justify-center",children:E.jsxs("div",{className:"max-w-8xl w-full mx-auto bg-white/10 backdrop-blur-lg rounded-3xl border border-white/20 shadow-2xl px-10 py-5 flex flex-col items-start",style:{marginTop:"20rem"},children:[E.jsx("h4",{className:"text-lg md:text-xl text-white mb-3 font-semibold tracking-wide",children:"Featured Blog"}),E.jsx("h2",{className:"text-5xl md:text-6xl text-white mb-5 font-extrabold leading-tight",children:(()=>{const te=(n[0].title||"").split(" ");return te.length>5?te.slice(0,5).join(" ")+"...":n[0].title})()}),E.jsx("div",{className:"text-lg md:text-xl text-gray-100 prose prose-invert mb-2",children:(()=>{const te=document.createElement("div");te.innerHTML=n[0].content||"";const he=te.textContent||te.innerText||"",D=he.split(/\s+/);return D.length>30?D.slice(0,30).join(" ")+"...":he})()})]})}):E.jsx("div",{className:"flex w-full items-center justify-center",children:E.jsxs("div",{className:"max-w-8xl w-full mx-auto bg-white/10 backdrop-blur-lg rounded-3xl border border-white/20 shadow-2xl px-10 py-5 flex flex-col items-start",style:{marginTop:"20rem"},children:[E.jsx("h4",{className:"text-lg md:text-xl text-white mb-3 font-semibold tracking-wide",children:"Featured Blog"}),E.jsx("h2",{className:"text-5xl md:text-6xl text-white mb-5 font-extrabold leading-tight",children:"Welcome to WriteOn"}),E.jsx("div",{className:"text-lg md:text-xl text-gray-100 prose prose-invert mb-2",children:"Share your thoughts, read inspiring stories, and connect with a community of writers. Start your blogging journey today!"})]})})}),E.jsx("h1",{className:"w-full text-xl font-semibold text-white mb-6 text-left ml-8",children:"Recent Blog Posts"}),E.jsx("div",{className:"w-full flex flex-col lg:flex-row gap-12 items-start justify-center",children:E.jsx("div",{className:"w-full grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:f?E.jsx("div",{className:"text-secondary text-lg text-center",children:"Loading posts..."}):y?E.jsx("div",{className:"text-red-500 text-lg text-center",children:y}):n.length===0?E.jsx("div",{className:"text-secondary text-lg text-center",children:"No posts yet. Be the first to create one!"}):E.jsx(E.Fragment,{children:n.map(ae=>{const te=ae.author?.id&&ie&&ae.author.id===ie;return E.jsxs("div",{className:"relative group",children:[E.jsxs(et,{to:`/blog/${ae.id}`,className:"block bg-primary rounded-2xl shadow-md p-4 text-left hover:shadow-lg transition cursor-pointer focus:outline-none focus:ring-2 focus:ring-secondary",children:[ae.coverImage&&E.jsx("div",{className:"mb-4 w-full aspect-[16/9] overflow-hidden rounded-xl border border-secondary flex items-center justify-center bg-black",children:E.jsx("img",{src:ae.coverImage,alt:"Cover",className:"w-full h-full object-cover"})}),E.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:(()=>{const D=(ae.title||"").split(" ");return D.length>3?D.slice(0,3).join(" ")+"...":ae.title})()}),E.jsx("div",{className:"text-base text-secondary mb-4 max-w-none line-clamp-2 break-words overflow-hidden",children:(()=>{const he=document.createElement("div");return he.innerHTML=ae.content||"",he.textContent||he.innerText||""})()}),Array.isArray(ae.tags)&&ae.tags.length>0&&E.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[ae.tags.slice(0,3).map((he,D)=>E.jsxs("span",{className:"inline-flex items-center bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow ",children:["#",he]},he+D)),ae.tags.length>3&&E.jsx("span",{className:"inline-flex items-center bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow",children:"..."})]}),E.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:E.jsxs("span",{children:["By ",ae.author?.name||"Unknown"]})})]}),te&&E.jsxs("div",{className:"absolute top-6 right-6 flex gap-2 z-10",children:[E.jsx("button",{onClick:he=>{he.preventDefault(),F(ae.id)},className:"px-3 py-1 rounded-full bg-black text-white text-xs font-semibold shadow transition duration-200 hover:bg-white hover:text-black hover:border-white",title:"Delete this post",children:"Delete"}),E.jsx(et,{to:`/update/${ae.id}`,className:"px-3 py-1 rounded-full bg-black text-white text-xs font-semibold shadow transition duration-200 hover:bg-white hover:text-black hover:border-white",onClick:he=>he.stopPropagation(),children:"Update"})]})]},ae.id)})})})}),n.length<r.length&&E.jsx("div",{className:"flex w-full mt-8",children:E.jsx("div",{className:"mx-auto",children:E.jsx("button",{onClick:Y,className:"px-6 py-3 rounded-full bg-secondary text-white font-semibold shadow hover:bg-primary hover:text-secondary transition",children:"Load More ..."})})}),T&&E.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:E.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8 max-w-sm w-full text-center",children:[E.jsx("h3",{className:"text-xl font-bold text-primary mb-4",children:"Confirm Delete"}),E.jsx("p",{className:"text-primary mb-6",children:"Are you sure you want to delete this blog post? This action cannot be undone."}),E.jsxs("div",{className:"flex justify-center gap-4",children:[E.jsx("button",{onClick:K,className:"px-5 py-2 rounded-full bg-gray-200 text-primary font-semibold hover:bg-gray-300 transition",children:"Cancel"}),E.jsx("button",{onClick:re,className:"px-5 py-2 rounded-full bg-black text-white font-semibold hover:bg-red-700 hover:text-white transition",children:"Delete"})]})]})})]})}function BN({setIsAuthenticated:r}){const e=ho(),n=()=>{GC(un,zb).then(s=>{localStorage.setItem("isAuth",!0),r(!0),e("/"),console.log("User signed in:",s.user)}).catch(s=>{console.error("Error signing in:",s)})};return E.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center justify-center px-4 py-12",children:E.jsxs("div",{className:"max-w-md w-full bg-secondary rounded-2xl shadow-lg p-8 flex flex-col items-center",children:[E.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-secondary mb-2",children:"Sign in"}),E.jsx("p",{className:"text-base text-secondary mb-8",children:"Sign in to continue with your Google account."}),E.jsxs("button",{className:"signin-with-google-btn flex items-center justify-center w-full h-14 rounded-full text-[1.2rem] bg-white text-gray-800 shadow-lg hover:bg-gray-100 transition gap-3 font-semibold border border-gray-300",onClick:n,children:[E.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-6 h-6"}),E.jsx("span",{children:"Sign in with Google"})]})]})})}function qN({isAuthenticated:r}){const[e,n]=B.useState(""),[s,o]=B.useState(""),u=B.useRef(null),[f,m]=B.useState([]),[y,g]=B.useState(""),[T,A]=B.useState(null),[S,k]=B.useState(null),[q,Y]=B.useState(""),F=wp(Zr,"posts"),K=ho(),re=x=>{g(x.target.value)},ie=x=>{const N=x.trim();N&&!f.includes(N)&&m([...f,N])},ae=x=>{(x.key===" "||x.key==="Enter"||x.key===",")&&(x.preventDefault(),y.trim()&&(ie(y),g("")))},te=()=>{y.trim()&&(ie(y),g(""))},he=x=>{m(f.filter((N,P)=>P!==x))},D=x=>{Y("");const N=x.target.files[0];if(!N)return;if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(N.type)){Y("Only PNG, JPEG, JPG, or WEBP images are allowed."),A(null),k(null);return}if(N.size>1024*1024){Y("Image size must be less than 1MB."),A(null),k(null);return}const M=new FileReader;M.onloadend=()=>{A(M.result),k(M.result)},M.readAsDataURL(N)},R=async x=>{x.preventDefault(),await ab(F,{author:{name:un.currentUser.displayName,id:un.currentUser.uid},title:e,content:s,tags:f,coverImage:T,createdAt:ob()}),K("/")};return B.useEffect(()=>{if(console.log("isAuthenticated in Create:",r),r||K("/login"),window.Jodit)u.current&&window.Jodit&&(window.joditInstance=window.Jodit.make(u.current,{buttons:["bold","italic","underline","|","ul","ol","|","link","image","hr","|","left","center","right","justify"],height:220,events:{change:x=>o(x)}}));else{const x=document.createElement("link");x.rel="stylesheet",x.href="https://cdn.jsdelivr.net/npm/jodit@latest/es2021/jodit.fat.min.css",document.head.appendChild(x);const N=document.createElement("script");N.src="https://cdn.jsdelivr.net/npm/jodit@latest/es2021/jodit.fat.min.js",N.onload=()=>{u.current&&window.Jodit&&(window.joditInstance=window.Jodit.make(u.current,{buttons:["bold","italic","underline","|","ul","ol","|","link","image","hr","|","left","center","right","justify"],height:220,events:{change:P=>o(P)}}))},document.body.appendChild(N)}return()=>{window.joditInstance&&(window.joditInstance.destruct(),window.joditInstance=null)}},[r,K]),E.jsx("div",{className:"createPostPage min-h-[calc(100vh-80px)] bg-primary flex items-center justify-center px-6 py-12",children:E.jsxs("div",{className:"max-w-5xl w-full bg-secondary rounded-2xl shadow-lg p-8",children:[E.jsxs("div",{className:"border-b border-white/20 pb-4 mb-6",children:[E.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create a New Post"}),E.jsx("p",{className:"text-sm text-white/70 mt-1",children:"Fill out the form below to create a new blog post."})]}),E.jsxs("form",{className:"space-y-8",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Cover Image ",E.jsx("span",{className:"opacity-60",children:"(optional)"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("label",{htmlFor:"cover-image-upload",className:"cursor-pointer px-4 py-2 rounded-lg bg-primary text-white border border-white/40 shadow-sm hover:bg-white hover:text-primary transition",children:S?"Change Image":"Upload Image"}),E.jsx("input",{id:"cover-image-upload",type:"file",accept:"image/png, image/jpeg, image/jpg, image/webp",className:"hidden",onChange:D}),E.jsx("span",{className:"text-sm text-white/70",children:S?"Image selected":"No file chosen"})]}),q&&E.jsx("p",{className:"text-red-400 text-xs mt-1",children:q}),S&&E.jsx("img",{src:S,alt:"Cover Preview",className:"mt-3 w-full max-h-56 object-contain rounded-xl border border-white/30"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Title"}),E.jsx("input",{type:"text",placeholder:"Enter post title",className:"w-full px-4 py-2.5 rounded-lg bg-primary text-white placeholder:text-white/60 border border-white/40 focus:border-white focus:ring-2 focus:ring-white/60 outline-none",value:e,onChange:x=>n(x.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Tags"}),E.jsx("input",{type:"text",placeholder:"Add tags (press space, enter, or comma)",className:"w-full px-4 py-2.5 rounded-lg bg-primary text-white placeholder:text-white/60 border border-white/40 focus:border-white focus:ring-2 focus:ring-white/60 outline-none",value:y,onChange:re,onKeyDown:ae,onBlur:te})]})]}),f.length>0&&E.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((x,N)=>E.jsxs("span",{className:"inline-flex items-center bg-primary text-white px-3 py-1.5 rounded-full text-sm font-medium border border-white/40 shadow-sm",children:["#",x,E.jsx("button",{type:"button",className:"ml-2 text-xs text-red-400 hover:text-red-600",onClick:()=>he(N),children:"×"})]},x+N))}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Content"}),E.jsx("div",{ref:u,id:"editor",className:"w-full px-4 py-2.5 rounded-lg bg-primary text-white border border-white/40 focus-within:border-white focus-within:ring-2 focus-within:ring-white/60 min-h-[280px]"})]}),E.jsx("div",{className:"flex justify-end",children:E.jsx("button",{onClick:R,type:"submit",className:"px-6 py-3 rounded-lg bg-primary text-white border border-white/40 font-semibold shadow-sm hover:bg-white hover:text-primary transition",children:"Publish Post"})})]})]})})}function HN({isAuthenticated:r}){const{id:e}=WE(),[n,s]=B.useState(""),[o,u]=B.useState(""),f=B.useRef(null),m=B.useRef(null),[y,g]=B.useState([]),[T,A]=B.useState(""),[S,k]=B.useState(null),[q,Y]=B.useState(null),[F,K]=B.useState(""),[re,ie]=B.useState(!0),ae=ho();B.useEffect(()=>{async function M(){ie(!0);const I=oo(Zr,"posts",e),Re=await Op(I);if(Re.exists()){const xe=Re.data();s(xe.title||""),u(xe.content||""),g(Array.isArray(xe.tags)?xe.tags:[]),k(xe.coverImage||null),Y(xe.coverImage||null),(!un.currentUser||xe.author?.id!==un.currentUser.uid)&&ae("/")}else ae("/");ie(!1)}M()},[e,ae]),B.useEffect(()=>{if(r||ae("/login"),re)return;let M=!1;function I(){f.current&&window.Jodit&&!m.current&&(m.current=window.Jodit.make(f.current,{buttons:["bold","italic","underline","|","ul","ol","|","link","image","hr","|","left","center","right","justify"],height:220,events:{change:Re=>u(Re)}}),m.current.value=o)}if(window.Jodit)I();else{const Re=document.createElement("link");Re.rel="stylesheet",Re.href="https://cdn.jsdelivr.net/npm/jodit@latest/es2021/jodit.fat.min.css",document.head.appendChild(Re);const xe=document.createElement("script");xe.src="https://cdn.jsdelivr.net/npm/jodit@latest/es2021/jodit.fat.min.js",xe.onload=()=>{M||I()},document.body.appendChild(xe)}return()=>{M=!0,m.current&&(m.current.destruct(),m.current=null)}},[r,ae,re]);const te=M=>A(M.target.value),he=M=>{const I=M.trim();I&&!y.includes(I)&&g([...y,I])},D=M=>{(M.key===" "||M.key==="Enter"||M.key===",")&&(M.preventDefault(),T.trim()&&(he(T),A("")))},R=()=>{T.trim()&&(he(T),A(""))},x=M=>{g(y.filter((I,Re)=>Re!==M))},N=M=>{K("");const I=M.target.files[0];if(!I)return;if(!["image/png","image/jpeg","image/jpg","image/webp"].includes(I.type)){K("Only PNG, JPEG, JPG, or WEBP images are allowed."),k(null),Y(null);return}if(I.size>1024*1024){K("Image size must be less than 1MB."),k(null),Y(null);return}const xe=new FileReader;xe.onloadend=()=>{k(xe.result),Y(xe.result)},xe.readAsDataURL(I)},P=async M=>{M.preventDefault();const I=oo(Zr,"posts",e);await rb(I,{title:n,content:o,tags:y,coverImage:S}),ae("/")};return re?E.jsx("div",{className:"min-h-[calc(100vh-80px)] flex items-center justify-center text-secondary text-lg",children:"Loading..."}):E.jsx("div",{className:"createPostPage min-h-[calc(100vh-80px)] bg-primary flex items-center justify-center px-6 py-12",children:E.jsxs("div",{className:"max-w-5xl w-full bg-secondary rounded-2xl shadow-lg p-8",children:[E.jsxs("div",{className:"border-b border-white/20 pb-4 mb-6",children:[E.jsx("h1",{className:"text-2xl font-bold text-white",children:"Update Post"}),E.jsx("p",{className:"text-sm text-white/70 mt-1",children:"Edit your blog post below and click update."})]}),E.jsxs("form",{className:"space-y-8",children:[E.jsxs("div",{children:[E.jsxs("label",{className:"block text-sm font-medium text-white mb-2",children:["Cover Image ",E.jsx("span",{className:"opacity-60",children:"(optional)"})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsx("label",{htmlFor:"cover-image-upload",className:"cursor-pointer px-4 py-2 rounded-lg bg-primary text-white border border-white/40 shadow-sm hover:bg-white hover:text-primary transition",children:q?"Change Image":"Upload Image"}),E.jsx("input",{id:"cover-image-upload",type:"file",accept:"image/png, image/jpeg, image/jpg, image/webp",className:"hidden",onChange:N}),E.jsx("span",{className:"text-sm text-white/70",children:q?"Image selected":"No file chosen"})]}),F&&E.jsx("p",{className:"text-red-400 text-xs mt-1",children:F}),q&&E.jsx("img",{src:q,alt:"Cover Preview",className:"mt-3 w-full max-h-56 object-contain rounded-xl border border-white/30"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Title"}),E.jsx("input",{type:"text",placeholder:"Enter post title",className:"w-full px-4 py-2.5 rounded-lg bg-primary text-white placeholder:text-white/60 border border-white/40 focus:border-white focus:ring-2 focus:ring-white/60 outline-none",value:n,onChange:M=>s(M.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Tags"}),E.jsx("input",{type:"text",placeholder:"Add tags (press space, enter, or comma)",className:"w-full px-4 py-2.5 rounded-lg bg-primary text-white placeholder:text-white/60 border border-white/40 focus:border-white focus:ring-2 focus:ring-white/60 outline-none",value:T,onChange:te,onKeyDown:D,onBlur:R})]})]}),y.length>0&&E.jsx("div",{className:"flex flex-wrap gap-2",children:y.map((M,I)=>E.jsxs("span",{className:"inline-flex items-center bg-primary text-white px-3 py-1.5 rounded-full text-sm font-medium border border-white/40 shadow-sm",children:["#",M,E.jsx("button",{type:"button",className:"ml-2 text-xs text-red-400 hover:text-red-600",onClick:()=>x(I),children:"×"})]},M+I))}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-medium text-white mb-2",children:"Content"}),E.jsx("div",{ref:f,id:"editor",className:"w-full px-4 py-2.5 rounded-lg bg-primary text-white border border-white/40 focus-within:border-white focus-within:ring-2 focus-within:ring-white/60 min-h-[280px]"})]}),E.jsx("div",{className:"flex justify-end",children:E.jsx("button",{onClick:P,type:"submit",className:"px-6 py-3 rounded-lg bg-primary text-white border border-white/40 font-semibold shadow-sm hover:bg-white hover:text-primary transition",children:"Update Post"})})]})]})})}const FN="modulepreload",GN=function(r){return"/WriteOn/"+r},BE={},qm=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let g=function(T){return Promise.all(T.map(A=>Promise.resolve(A).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};var f=g;document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),y=m?.nonce||m?.getAttribute("nonce");o=g(n.map(T=>{if(T=GN(T),T in BE)return;BE[T]=!0;const A=T.endsWith(".css"),S=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${S}`))return;const k=document.createElement("link");if(k.rel=A?"stylesheet":FN,A||(k.as="script"),k.crossOrigin="",k.href=T,y&&k.setAttribute("nonce",y),document.head.appendChild(k),A)return new Promise((q,Y)=>{k.addEventListener("load",q),k.addEventListener("error",()=>Y(new Error(`Unable to preload CSS for ${T}`)))})}))}function u(m){const y=new Event("vite:preloadError",{cancelable:!0});if(y.payload=m,window.dispatchEvent(y),!y.defaultPrevented)throw m}return o.then(m=>{for(const y of m||[])y.status==="rejected"&&u(y.reason);return e().catch(u)})};function QN(){const{id:r}=WE(),[e,n]=B.useState(null),[s,o]=B.useState(!0),[u,f]=B.useState(null),[m,y]=B.useState([]);return ho(),B.useEffect(()=>{async function g(){o(!0),f(null);try{const T=oo(Zr,"posts",r),A=await Op(T);if(A.exists()){const S={...A.data(),id:A.id};n(S);const{collection:k,getDocs:q}=await qm(async()=>{const{collection:re,getDocs:ie}=await Promise.resolve().then(()=>lb);return{collection:re,getDocs:ie}},[]),Y=k(Zr,"posts"),K=(await q(Y)).docs.map(re=>({...re.data(),id:re.id}));if(Array.isArray(S.tags)&&S.tags.length>0){const re=K.filter(ie=>ie.id!==S.id&&Array.isArray(ie.tags)&&ie.tags.some(ae=>S.tags.includes(ae)));y(re)}else y([])}else f("Blog not found.")}catch{f("Failed to load blog.")}finally{o(!1)}}g()},[r]),s?E.jsx("div",{className:"min-h-[calc(100vh-80px)] flex items-center justify-center text-white text-lg",children:"Loading..."}):u?E.jsx("div",{className:"min-h-[calc(100vh-80px)] flex items-center justify-center text-red-500 text-lg",children:u}):e?E.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex items-center justify-center px-4 py-12",children:E.jsxs("div",{className:"w-full max-w-8xl bg-secondary rounded-3xl shadow-2xl p-0 flex flex-col lg:flex-row overflow-hidden",children:[E.jsxs("div",{className:"flex flex-col justify-start w-full lg:w-1/6 min-w-[120px] bg-primary/80 p-6 border-b lg:border-b-0 lg:border-r border-secondary",children:[E.jsxs("div",{className:"w-full bg-black rounded-xl shadow-lg p-4 flex flex-col",children:[E.jsx("h3",{className:"text-lg text-white mb-2",children:"Author"}),E.jsx("span",{className:"text-xl text-white font-bold",children:e.author?.name||"Unknown"})]}),E.jsxs("div",{className:"w-full bg-black rounded-xl shadow-lg p-4 flex flex-col mt-4",children:[E.jsx("h3",{className:"text-xl text-white mb-4",children:"Tags"}),E.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:Array.isArray(e.tags)&&e.tags.length>0?e.tags.map((g,T)=>E.jsxs("span",{className:"w-full block text-center my-1 inline-flex items-center bg-secondary text-white px-4 py-2 rounded-full text-base font-semibold shadow",children:["#",g]},g+T)):E.jsx("span",{className:"text-white/60",children:"No tags"})})]})]}),E.jsxs("div",{className:"flex flex-col items-center justify-start w-full lg:w-7/12 px-0 lg:px-10 py-8 lg:py-12",children:[E.jsx("h1",{className:"text-4xl font-extrabold text-white mb-6 text-center w-full",children:e.title}),e.coverImage&&E.jsx("div",{className:"mb-8 w-full aspect-[16/9] overflow-hidden rounded-2xl border-2 border-secondary shadow-lg flex items-center justify-center bg-black",children:E.jsx("img",{src:e.coverImage,alt:"Cover",className:"w-full h-full object-cover"})}),E.jsx("div",{className:"text-lg text-white prose prose-invert max-w-none blog-content-white w-full mb-6",children:E.jsx("div",{dangerouslySetInnerHTML:{__html:e.content}})})]}),E.jsx("div",{className:"flex flex-col items-center justify-start w-full lg:w-1/4 min-w-[120px] bg-primary/80 p-6 border-t lg:border-t-0 lg:border-l border-secondary",children:E.jsxs("div",{className:"w-full rounded-xl shadow-lg p-4 flex flex-col",children:[E.jsx("h3",{className:"text-xl text-white mb-4 mt-2",children:"Related Blogs"}),E.jsx("div",{className:"w-full flex flex-col gap-4",children:m.length===0?E.jsx("span",{className:"text-white/60",children:"No related blogs found."}):m.map(g=>E.jsx("div",{className:"mb-4",children:E.jsxs(et,{to:`/blog/${g.id}`,className:"block bg-primary rounded-2xl shadow-md p-4 text-left hover:shadow-lg transition cursor-pointer focus:outline-none focus:ring-2 focus:ring-secondary",children:[g.coverImage&&E.jsx("div",{className:"mb-4 w-full aspect-[16/9] overflow-hidden rounded-xl border border-secondary flex items-center justify-center bg-black",children:E.jsx("img",{src:g.coverImage,alt:"Cover",className:"w-full h-full object-cover"})}),E.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:(()=>{const A=(g.title||"").split(" ");return A.length>3?A.slice(0,3).join(" ")+"...":g.title})()}),E.jsx("div",{className:"text-base text-secondary mb-4 max-w-none line-clamp-2 break-words overflow-hidden",children:(()=>{const T=document.createElement("div");return T.innerHTML=g.content||"",T.textContent||T.innerText||""})()}),Array.isArray(g.tags)&&g.tags.length>0&&E.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[g.tags.slice(0,3).map((T,A)=>E.jsxs("span",{className:"inline-flex items-center bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow ",children:["#",T]},T+A)),g.tags.length>3&&E.jsx("span",{className:"inline-flex items-center bg-primary text-secondary px-3 py-1 rounded-full text-xs font-medium shadow",children:"..."})]}),E.jsx("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:E.jsxs("span",{children:["By ",g.author?.name||"Unknown"]})})]})},g.id))})]})})]})}):null}function YN(){return E.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:E.jsxs("div",{className:"w-full max-w-6xl mx-auto bg-secondary rounded-2xl shadow-md p-8 text-left",children:[E.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"About WriteOn"}),E.jsx("p",{className:"text-base text-secondary mb-4",children:"WriteOn is a personal project and learning platform for developers, creators, and tech enthusiasts. Inspired by the spirit of open collaboration, WriteOn is a space to write, share, and discover insightful content while I learn and grow as a React developer."}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"A Place for Learning & Sharing"}),E.jsx("p",{className:"text-secondary",children:"The software industry thrives on collaboration and networked learning. WriteOn is my experiment in building a modern blogging platform, where anyone can share their journey, tutorials, or thoughts on technology. Whether you’re a beginner or a pro, your voice matters here."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Open Source & Transparency"}),E.jsx("p",{className:"text-secondary",children:"WriteOn is built with React, Firebase, and Tailwind CSS. The code is open for anyone to explore, learn from, or contribute to. I believe in transparency and giving back to the developer ecosystem."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Why I Built WriteOn"}),E.jsx("p",{className:"text-secondary",children:"This project is my way of learning ReactJS and modern web development by building something real and useful. Every feature, bug fix, and improvement is a step in my journey as a developer. I hope WriteOn inspires others to build, share, and keep learning."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Get Involved"}),E.jsx("p",{className:"text-secondary mb-2",children:"Want to suggest a feature, report a bug, or just say hi? Reach out via the Contact page or check out the project on GitHub. Your feedback and ideas are always welcome!"}),E.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-4",children:[E.jsxs("div",{className:"flex-1 bg-primary/80 rounded-xl p-4 border border-secondary",children:[E.jsx("h3",{className:"font-bold text-secondary mb-2",children:"Contact"}),E.jsx("a",{href:"mailto:ayushbm84@gmail.com",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"Email: ayushbm84@gmail.com"})]}),E.jsxs("div",{className:"flex-1 bg-primary/80 rounded-xl p-4 border border-secondary",children:[E.jsx("h3",{className:"font-bold text-secondary mb-2",children:"GitHub"}),E.jsx("a",{href:"https://github.com/ayush-sleeping/WriteOn",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"github.com/ayush-sleeping/WriteOn"})]})]})]}),E.jsx("div",{className:"mt-8 text-center",children:E.jsx("span",{className:"inline-block bg-primary/80 text-secondary px-6 py-3 rounded-full font-semibold shadow border border-secondary text-lg",children:"Happy coding ❤️ — Ayush Mishra"})})]})})}function KN(){return E.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:E.jsxs("div",{className:"w-full max-w-6xl mx-auto bg-secondary rounded-2xl shadow-md p-8 text-left",children:[E.jsx("h1",{className:"text-3xl font-bold text-white mb-4",children:"Contact WriteOn"}),E.jsx("p",{className:"text-base text-secondary mb-6",children:"I’d love to hear from you! Whether you have feedback, want to report a bug, or just want to say hello, feel free to reach out using any of the methods below."}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:E.jsxs("div",{className:"bg-primary/80 rounded-xl p-4 border border-secondary",children:[E.jsx("h3",{className:"font-bold text-secondary mb-2",children:"Email"}),E.jsx("a",{href:"mailto:ayushbm84@gmail.com",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"ayushbm84@gmail.com"})]})}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Report a Bug or Vulnerability"}),E.jsx("p",{className:"text-secondary text-sm mb-2",children:"If you find a bug or security issue, please open an issue or discussion on GitHub, or email me directly."}),E.jsx("a",{href:"https://github.com/ayush-sleeping/WriteOn/issues",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"Report on GitHub"})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Request a Feature"}),E.jsx("p",{className:"text-secondary text-sm mb-2",children:"Have an idea for a new feature? Start a new discussion or open a feature request on GitHub!"}),E.jsx("a",{href:"https://github.com/ayush-sleeping/WriteOn/discussions",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"Start a Discussion"})]}),E.jsx("div",{className:"mt-8 text-center",children:E.jsx("span",{className:"inline-block bg-primary/80 text-secondary px-6 py-3 rounded-full font-semibold shadow border border-secondary text-lg",children:"Thanks for being part of the WriteOn journey!"})})]})})}function XN(){return E.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:E.jsxs("div",{className:"w-full max-w-6xl mx-auto bg-secondary rounded-2xl shadow-md p-8 text-left",children:[E.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Code of Conduct"}),E.jsx("p",{className:"text-xs text-secondary mb-6",children:"Last updated July 31, 2023"}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Our Pledge"}),E.jsx("p",{className:"text-secondary text-sm",children:"In the interest of fostering an open and welcoming environment, I pledge to make participation in WriteOn a harassment-free experience for everyone, regardless of age, body size, disability, ethnicity, gender identity and expression, level of experience, nationality, personal appearance, race, religion, or sexual identity and orientation."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Our Standards"}),E.jsx("p",{className:"text-secondary text-sm mb-2",children:"Examples of behavior that contributes to creating a positive environment include:"}),E.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-4",children:[E.jsx("li",{children:"Using welcoming and inclusive language"}),E.jsx("li",{children:"Being respectful of differing viewpoints and experiences"}),E.jsx("li",{children:"Referring to people by their pronouns and using gender-neutral pronouns when uncertain"}),E.jsx("li",{children:"Gracefully accepting constructive criticism"}),E.jsx("li",{children:"Focusing on what is best for the community"}),E.jsx("li",{children:"Showing empathy towards other community members"}),E.jsx("li",{children:"Citing sources if used to create content"}),E.jsx("li",{children:"Disclosing AI assistance if used to create content"})]}),E.jsx("p",{className:"text-secondary text-sm mb-2",children:"Examples of unacceptable behavior include:"}),E.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-4",children:[E.jsx("li",{children:"The use of sexualized language or imagery and unwelcome sexual attention or advances"}),E.jsx("li",{children:"The use of hate speech or communication that is racist, homophobic, transphobic, ableist, sexist, or otherwise prejudiced/discriminatory"}),E.jsx("li",{children:"Trolling, insulting/derogatory comments, and personal or political attacks"}),E.jsx("li",{children:"Public or private harassment"}),E.jsx("li",{children:"Publishing others' private information without explicit permission"}),E.jsx("li",{children:"Plagiarizing content or misappropriating works"}),E.jsx("li",{children:"Other conduct which could reasonably be considered inappropriate in a professional setting"}),E.jsx("li",{children:"Dismissing or attacking inclusion-oriented requests"})]}),E.jsx("p",{className:"text-secondary text-xs mb-2",children:"I pledge to prioritize marginalized people's safety over privileged people's comfort."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Enforcement"}),E.jsxs("p",{className:"text-secondary text-sm mb-2",children:["Violations of the Code of Conduct may be reported by emailing ",E.jsx("a",{href:"mailto:ayushbm84@gmail.com",className:"underline hover:text-primary",target:"_blank",rel:"noopener noreferrer",children:"ayushbm84@gmail.com"}),". All reports will be reviewed and investigated and will result in a response that is deemed necessary and appropriate to the circumstances."]}),E.jsx("p",{className:"text-secondary text-sm mb-2",children:"I reserve the right and responsibility to remove comments or other contributions that are not aligned to this Code of Conduct or to suspend temporarily or permanently any members for other behaviors that are deemed inappropriate, threatening, offensive, or harmful."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Attribution"}),E.jsxs("p",{className:"text-secondary text-xs",children:["This Code of Conduct is adapted from:",E.jsxs("ul",{className:"list-disc list-inside ml-4 mt-1",children:[E.jsx("li",{children:"Contributor Covenant, version 1.4"}),E.jsx("li",{children:"Write/Speak/Code"}),E.jsx("li",{children:"Geek Feminism"})]})]})]}),E.jsx("div",{className:"mt-8 text-center",children:E.jsx("span",{className:"inline-block bg-primary/80 text-secondary px-6 py-3 rounded-full font-semibold shadow border border-secondary text-lg",children:"Thank you for helping make WriteOn a welcoming and safe space!"})})]})})}function $N(){return E.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:E.jsxs("div",{className:"w-full max-w-6xl mx-auto bg-secondary rounded-2xl shadow-md p-8 text-left",children:[E.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Privacy Policy"}),E.jsx("p",{className:"text-xs text-secondary mb-6",children:"Last updated: July 29, 2025"}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Introduction"}),E.jsx("p",{className:"text-secondary text-sm",children:"This Privacy Policy explains how WriteOn (a personal project by Ayush Mishra) collects, uses, and protects your information. As a small, non-commercial platform, I value your privacy and strive to keep things simple and transparent."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"What Information is Collected?"}),E.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[E.jsxs("li",{children:[E.jsx("b",{children:"Account Info:"})," If you sign up, your email and display name are stored securely."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Content:"})," Any posts, comments, or profile info you share are visible to others on the platform."]}),E.jsxs("li",{children:[E.jsx("b",{children:"Usage Data:"})," Basic analytics (like page views) may be collected to improve the site. No tracking for advertising or third-party marketing."]})]})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"How is Your Information Used?"}),E.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[E.jsx("li",{children:"To provide and improve the WriteOn platform."}),E.jsx("li",{children:"To communicate with you about your account or site updates."}),E.jsx("li",{children:"To keep the community safe and prevent abuse."})]})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"How is Your Information Shared?"}),E.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[E.jsx("li",{children:"Your public posts and comments are visible to all users."}),E.jsx("li",{children:"Your email is never sold or shared with advertisers."}),E.jsx("li",{children:"Data may be shared if required by law or to protect the platform and its users."})]})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Your Rights & Choices"}),E.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[E.jsx("li",{children:"You can update or delete your account at any time."}),E.jsx("li",{children:"Contact me if you have questions or want your data removed."})]})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Children's Privacy"}),E.jsx("p",{className:"text-secondary text-sm",children:"WriteOn is not intended for children under 13. I do not knowingly collect personal information from children. If you believe a child has provided personal info, please contact me for removal."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Third-Party Links"}),E.jsx("p",{className:"text-secondary text-sm",children:"WriteOn may link to other sites, but I am not responsible for their privacy practices. Please review their policies before sharing information."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Contact"}),E.jsx("p",{className:"text-secondary text-sm mb-2",children:"If you have any questions about this Privacy Policy or your data, please email:"}),E.jsx("a",{href:"mailto:ayushbm84@gmail.com",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"ayushbm84@gmail.com"})]}),E.jsx("div",{className:"mt-8 text-center",children:E.jsx("span",{className:"inline-block bg-primary/80 text-secondary px-6 py-3 rounded-full font-semibold shadow border border-secondary text-lg",children:"Thanks for trusting WriteOn with your data!"})})]})})}function WN(){return E.jsx("div",{className:"min-h-[calc(100vh-80px)] bg-primary flex flex-col items-center px-4 py-12",children:E.jsxs("div",{className:"w-full max-w-6xl mx-auto bg-secondary rounded-2xl shadow-md p-8 text-left",children:[E.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"Terms of Use"}),E.jsx("p",{className:"text-xs text-secondary mb-6",children:"Last updated: July 29, 2025"}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"1. Acceptance of Terms"}),E.jsx("p",{className:"text-secondary text-sm",children:"By accessing or using WriteOn, you agree to be bound by these Terms of Use and the Privacy Policy. If you do not agree, please do not use the site."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"2. Use License"}),E.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[E.jsx("li",{children:"You may view and share content for personal, non-commercial use only."}),E.jsx("li",{children:"You may not copy, modify, or redistribute content without permission."}),E.jsx("li",{children:"Reverse engineering or scraping of the site is not allowed."})]})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"3. Disclaimer"}),E.jsx("p",{className:"text-secondary text-sm",children:'All content is provided "as is" without warranties of any kind. I do not guarantee the accuracy or reliability of any content on WriteOn.'})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"4. Limitations"}),E.jsx("p",{className:"text-secondary text-sm",children:"In no event shall WriteOn or its creator be liable for any damages arising out of the use or inability to use the site."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"5. Content Policy"}),E.jsxs("ul",{className:"list-disc list-inside text-secondary text-sm space-y-1 mb-2",children:[E.jsx("li",{children:"Only share content you have the rights to post."}),E.jsx("li",{children:"No plagiarism, hate speech, or illegal content."}),E.jsx("li",{children:"Posts should be on-topic and add value to the community."}),E.jsx("li",{children:"Affiliate links must be clearly disclosed."})]})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"6. Changes to Terms"}),E.jsx("p",{className:"text-secondary text-sm",children:"These terms may be updated at any time. Continued use of WriteOn means you accept the current version of the Terms of Use."})]}),E.jsxs("div",{className:"mb-8",children:[E.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"7. Contact"}),E.jsx("p",{className:"text-secondary text-sm mb-2",children:"For questions about these terms, please email:"}),E.jsx("a",{href:"mailto:ayushbm84@gmail.com",className:"text-xs text-secondary underline hover:text-primary transition",target:"_blank",rel:"noopener noreferrer",children:"ayushbm84@gmail.com"})]}),E.jsx("div",{className:"mt-8 text-center",children:E.jsx("span",{className:"inline-block bg-primary/80 text-secondary px-6 py-3 rounded-full font-semibold shadow border border-secondary text-lg",children:"Thanks for using WriteOn!"})})]})})}function ZN({setIsAuthenticated:r}){const e=localStorage.getItem("isAuth")==="true",[n,s]=B.useState(un.currentUser?.photoURL),[o,u]=B.useState(!1),[f,m]=B.useState(!1),y=B.useRef(null),g=ho(),T=sr(),[A,S]=B.useState(""),[k,q]=B.useState([]),[Y,F]=B.useState(!1),K=B.useRef(null);B.useEffect(()=>{function te(he){K.current&&!K.current.contains(he.target)&&he.target.closest('input[type="text"]')!==document.activeElement&&F(!1)}return Y&&document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[Y]),B.useEffect(()=>{function te(he){y.current&&!y.current.contains(he.target)&&u(!1)}return o&&document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[o]),B.useEffect(()=>{function te(he){const D=document.querySelector(".floating-navbar"),R=document.querySelector(".mobile-menu-overlay");f&&!D.contains(he.target)&&(!R||!R.contains(he.target))&&m(!1)}return f&&document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[f]);const re=async te=>{const he=te.target.value;if(S(he),!he.trim()){q([]),F(!1);return}try{const{collection:D,getDocs:R}=await qm(async()=>{const{collection:Re,getDocs:xe}=await Promise.resolve().then(()=>lb);return{collection:Re,getDocs:xe}},void 0),{db:x}=await qm(async()=>{const{db:Re}=await Promise.resolve().then(()=>UN);return{db:Re}},void 0),N=D(x,"posts"),I=(await R(N)).docs.map(Re=>({...Re.data(),id:Re.id})).filter(Re=>Re.title?.toLowerCase().includes(he.toLowerCase())||Re.content?.toLowerCase().includes(he.toLowerCase())||Array.isArray(Re.tags)&&Re.tags.some(xe=>xe.toLowerCase().includes(he.toLowerCase())));q(I),F(!0)}catch{q([]),F(!1)}},ie=te=>{F(!1),S(""),q([]),g(`/blog/${te}`)},ae=()=>{SC(un).then(()=>{localStorage.removeItem("isAuth"),r&&r(!1),g("/login")}).catch(te=>{console.error("Error signing out:",te)})};return E.jsx("nav",{className:"floating-navbar-container",children:E.jsxs("div",{className:"floating-navbar",children:[E.jsxs("div",{className:"flex items-center justify-between gap-4 w-full",children:[E.jsx(et,{to:"/",className:"text-white text-xl font-bold hover:opacity-80 transition flex-shrink-0",children:"WriteOn"}),E.jsxs("div",{className:"hidden lg:flex relative flex-1 max-w-md mx-6",children:[E.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 flex items-center pointer-events-none",children:E.jsxs("svg",{className:"search-icon h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[E.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor",strokeWidth:"2",fill:"none"}),E.jsx("line",{x1:"16.5",y1:"16.5",x2:"21",y2:"21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),E.jsx("input",{type:"text",placeholder:"Search...",value:A,onChange:re,className:"search-input w-full h-10 pl-12 pr-10 rounded-full text-white placeholder:text-gray-400 outline-none text-sm transition",autoComplete:"off",onFocus:()=>{k.length>0&&F(!0)}}),A&&E.jsx("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 w-6 h-6 flex items-center justify-center rounded-full hover:bg-gray-700 transition",onClick:()=>{S(""),q([]),F(!1)},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-gray-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),Y&&k.length>0&&E.jsx("div",{ref:K,className:"search-dropdown absolute left-0 top-12 w-full rounded-xl z-50 max-h-80 overflow-y-auto",children:k.map(te=>E.jsxs("div",{className:"search-dropdown-item px-4 py-3 cursor-pointer text-left transition-colors",onClick:()=>ie(te.id),children:[E.jsx("div",{className:"font-semibold text-white text-sm line-clamp-1",children:te.title}),E.jsx("div",{className:"text-xs text-gray-400",children:te.createdAt?(typeof te.createdAt=="object"&&te.createdAt.seconds?new Date(te.createdAt.seconds*1e3):new Date(te.createdAt)).toLocaleString("en-US",{month:"short",day:"numeric"}):""})]},te.id))})]}),E.jsxs("div",{className:"flex lg:hidden flex-1 mx-2 relative",children:[E.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 flex items-center pointer-events-none",children:E.jsxs("svg",{className:"search-icon h-4 w-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[E.jsx("circle",{cx:"11",cy:"11",r:"7",stroke:"currentColor",strokeWidth:"2",fill:"none"}),E.jsx("line",{x1:"16.5",y1:"16.5",x2:"21",y2:"21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})]})}),E.jsx("input",{type:"text",placeholder:"Search...",value:A,onChange:re,className:"search-input w-full h-10 pl-10 pr-8 rounded-full text-white placeholder:text-gray-400 outline-none text-base transition",autoComplete:"off",onFocus:()=>{k.length>0&&F(!0)}}),A&&E.jsx("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 w-6 h-6 flex items-center justify-center rounded-full hover:bg-gray-700 transition",onClick:()=>{S(""),q([]),F(!1)},children:E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4 text-gray-400",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),Y&&k.length>0&&E.jsx("div",{ref:K,className:"search-dropdown absolute left-0 top-12 w-full rounded-xl z-50 max-h-80 overflow-y-auto mt-4",children:k.map(te=>E.jsxs("div",{className:"search-dropdown-item px-4 py-3 cursor-pointer text-left transition-colors",onClick:()=>{ie(te.id),m(!1)},children:[E.jsx("div",{className:"font-semibold text-white text-sm line-clamp-1",children:te.title}),E.jsx("div",{className:"text-xs text-gray-400",children:te.createdAt?(typeof te.createdAt=="object"&&te.createdAt.seconds?new Date(te.createdAt.seconds*1e3):new Date(te.createdAt)).toLocaleString("en-US",{month:"short",day:"numeric"}):""})]},te.id))})]}),E.jsxs("div",{className:"hidden lg:flex items-center gap-6",children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsx(et,{to:"/",className:`text-sm transition-all duration-300 ${T.pathname==="/"?"text-white":"text-gray-300 hover:text-white"}`,children:"Home"}),E.jsx(et,{to:"/about",className:"text-sm text-gray-300 hover:text-white transition-all duration-300",children:"About"}),E.jsx(et,{to:"/contact",className:"text-sm text-gray-300 hover:text-white transition-all duration-300",children:"Contact"}),e&&E.jsx(et,{to:"/create",className:"px-4 py-2 rounded-full text-sm text-gray-300 border primary-border hover:text-white hover:border-white-500 transition-all",children:"Create"})]}),e?E.jsxs("div",{className:"relative",children:[E.jsx("button",{type:"button",onClick:()=>u(te=>!te),className:"focus:outline-none",children:E.jsx("img",{src:un.currentUser?.photoURL&&un.currentUser.photoURL.trim()!==""?un.currentUser.photoURL:"https://randomuser.me/api/portraits/men/32.jpg",alt:"Profile",className:"w-8 h-8 rounded-full object-cover border-2 border-gray-600 hover:border-gray-500 transition"})}),o&&E.jsxs("div",{ref:y,className:"profile-dropdown absolute right-0 mt-2 w-56 text-white rounded-xl z-50 p-4",children:[E.jsx("div",{className:"font-semibold text-white text-sm mb-1",children:un.currentUser?.displayName||"User"}),E.jsx("div",{className:"text-xs text-gray-400 break-all mb-4",children:un.currentUser?.email}),E.jsx("div",{className:"profile-dropdown-item w-full px-3 py-2 rounded-md text-sm font-medium mb-2 cursor-pointer text-white transition-colors",children:"Your Blogs"}),E.jsx("button",{className:"profile-dropdown-item w-full px-3 py-2 rounded-md text-sm font-medium text-left cursor-pointer text-white hover:bg-red-600 transition-colors",onClick:()=>{u(!1),ae()},children:"Log out"})]})]}):E.jsxs("div",{className:"flex gap-3",children:[E.jsx(et,{to:"/login",children:E.jsx("button",{className:"px-4 py-2 rounded-full text-sm text-gray-300 border border-gray-600 hover:text-white hover:border-gray-500 transition-all",children:"Login"})}),E.jsx(et,{to:"/login",children:E.jsx("button",{className:"px-4 py-2 rounded-full text-sm bg-white text-black hover:bg-gray-100 transition-all",children:"Sign Up"})})]})]}),E.jsx("button",{className:"lg:hidden text-white text-xl focus:outline-none",onClick:()=>m(!f),children:"☰"})]}),f&&E.jsxs("div",{className:"mobile-menu-overlay relative",children:[E.jsx("button",{className:"absolute top-6 right-6 text-white text-3xl bg-transparent border-none z-50","aria-label":"Close menu",onClick:()=>m(!1),children:"×"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsx(et,{to:"/",onClick:()=>m(!1),children:"Home"})}),E.jsx("li",{children:E.jsx(et,{to:"/about",onClick:()=>m(!1),children:"About"})}),e&&E.jsx("li",{children:E.jsx(et,{to:"/create",onClick:()=>m(!1),children:"Create"})}),E.jsx("li",{children:E.jsx(et,{to:"/contact",onClick:()=>m(!1),children:"Contact"})}),!e&&E.jsxs("li",{children:[E.jsx(et,{to:"/login",onClick:()=>m(!1),children:E.jsx("button",{className:"bg-white text-black",children:"Login"})}),E.jsx(et,{to:"/login",onClick:()=>m(!1),children:E.jsx("button",{className:"bg-white text-black mt-2",children:"Sign Up"})})]}),e&&E.jsx("li",{children:E.jsx("button",{className:"bg-red-600 text-white",onClick:()=>{m(!1),ae()},children:"Log out"})})]})]})]})})}function JN(){return E.jsx("footer",{className:"footer-modern",children:E.jsxs("div",{className:"footer-modern-container",children:[E.jsxs("div",{className:"footer-modern-content",children:[E.jsxs("div",{className:"footer-modern-section",children:[E.jsx(et,{to:"/",target:"_blank",rel:"noopener noreferrer",className:"",children:"Home"}),E.jsx(et,{to:"/about",target:"_blank",rel:"noopener noreferrer",className:"",children:"About Us"}),E.jsx(et,{to:"/contact",target:"_blank",rel:"noopener noreferrer",className:"",children:"Contact"}),E.jsx(et,{to:"/code-of-conduct",target:"_blank",rel:"noopener noreferrer",className:"",children:"Code fo Conduct"})]}),E.jsxs("div",{className:"footer-modern-section",children:[E.jsx(et,{to:"/privacy-policy",target:"_blank",rel:"noopener noreferrer",className:"",children:"Privacy"}),E.jsx(et,{to:"/terms-of-use",target:"_blank",rel:"noopener noreferrer",className:"",children:"Terms"}),localStorage.getItem("isAuth")==="true"?E.jsxs(E.Fragment,{children:[E.jsx(et,{to:"/create",target:"_blank",rel:"noopener noreferrer",className:"",children:"Write"}),E.jsx(et,{to:"/myblogs",target:"_blank",rel:"noopener noreferrer",className:"",children:"My Blogs"})]}):E.jsx(et,{to:"/login",target:"_blank",rel:"noopener noreferrer",className:"",children:"Login"})]}),E.jsxs("div",{className:"footer-modern-section",children:[E.jsx("a",{href:"mailto:hello@company.com",children:"hello@writeon.com"}),E.jsx("a",{href:"#",children:"Follow Us"})]})]}),E.jsx("div",{className:"footer-modern-bottom",children:E.jsx("p",{children:"© 2025 WriteOn. All rights reserved."})})]})})}function eD(){const[r,e]=B.useState(()=>localStorage.getItem("isAuth")==="true");return E.jsxs(E.Fragment,{children:[E.jsx(HS,{}),E.jsxs("div",{className:"app bg-black",children:[E.jsx(ZN,{}),E.jsx("div",{className:"pt-20 bg-black",children:E.jsxs(cS,{children:[E.jsx(Bn,{path:"/",element:E.jsx(zN,{})}),E.jsx(Bn,{path:"/login",element:E.jsx(BN,{setIsAuthenticated:e})}),E.jsx(Bn,{path:"/create",element:E.jsx(qN,{isAuthenticated:r})}),E.jsx(Bn,{path:"/update/:id",element:E.jsx(HN,{isAuthenticated:r})}),E.jsx(Bn,{path:"/blog/:id",element:E.jsx(QN,{})}),E.jsx(Bn,{path:"/about",element:E.jsx(YN,{})}),E.jsx(Bn,{path:"/contact",element:E.jsx(KN,{})}),E.jsx(Bn,{path:"/code-of-conduct",element:E.jsx(XN,{})}),E.jsx(Bn,{path:"/privacy-policy",element:E.jsx($N,{})}),E.jsx(Bn,{path:"/terms-of-use",element:E.jsx(WN,{})})]})}),E.jsx(JN,{})]})]})}EA.createRoot(document.getElementById("root")).render(E.jsx(B.StrictMode,{children:E.jsx(MS,{basename:"/WriteOn",children:E.jsx(eD,{})})}));
